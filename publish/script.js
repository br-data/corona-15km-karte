const primaryColor="0,153,255",viewBox=[[47.3,9],[50.6,13.8]],boundingBox=[[47.2701114,5.8663153],[55.099161,15.0419319]];!function(o,n){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=o.document?n(o,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(o)}("undefined"==typeof window?this:window,function(q,C){"use strict";var ut=Math.ceil,yt=Math.max;function W(a,e,t){var s=(t=t||x).createElement("script"),o,p;if(s.text=a,e)for(o in n)(p=e[o]||e.getAttribute&&e.getAttribute(o))&&s.setAttribute(o,p);t.head.appendChild(s).parentNode.removeChild(s)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[r.call(t)]||"object":typeof t}function w(o){var e=!!o&&"length"in o&&o.length,t=b(o);return!y(o)&&!m(o)&&("array"===t||0===e||"number"==typeof e&&0<e&&e-1 in o)}function p(o,e){return o.nodeName&&o.nodeName.toLowerCase()===e.toLowerCase()}function A(t,o,n){return y(o)?E.grep(t,function(i,e){return!!o.call(i,e,i)!==n}):o.nodeType?E.grep(t,function(t){return t===o!==n}):"string"==typeof o?E.filter(o,t,n):E.grep(t,function(t){return-1<g.call(o,t)!==n})}function D(o,n){for(;(o=o[n])&&1!==o.nodeType;);return o}function O(t){return t}function R(t){throw t}function M(o,e,t,n){var r;try{o&&y(r=o.promise)?r.call(o).done(e).fail(t):o&&y(r=o.then)?r.call(o,e,t):e.apply(void 0,[o].slice(n))}catch(o){t.apply(void 0,[o])}}function e(){x.removeEventListener("DOMContentLoaded",e),q.removeEventListener("load",e),E.ready()}function I(o,e){return e.toUpperCase()}function B(t){return t.replace(F,"ms-").replace(_,I)}function U(){this.expando=E.expando+U.uid++}function G(o,e,t){var a,s;if(void 0===t&&1===o.nodeType)if(a="data-"+e.replace(Y,"-$&").toLowerCase(),"string"==typeof(t=o.getAttribute(a))){try{t="true"===(s=t)||"false"!==s&&("null"===s?null:s===+s+""?+s:H.test(s)?JSON.parse(s):s)}catch(t){}V.set(o,e,t)}else t=void 0;return t}function Z(p,e,t,d){var r=20,g=d?function(){return d.cur()}:function(){return E.css(p,e,"")},s=g(),_=t&&t[3]||(E.cssNumber[e]?"":"px"),y=p.nodeType&&(E.cssNumber[e]||"px"!==_&&+s)&&J.exec(E.css(p,e)),m,f;if(y&&y[3]!==_){for(s/=2,_=_||y[3],y=+s||1;r--;)E.style(p,e,y+_),0>=(1-f)*(1-(f=g()/s||.5))&&(r=0),y/=f;y*=2,E.style(p,e,y+_),t=t||[]}return t&&(y=+y||+s||0,m=t[1]?y+(t[1]+1)*t[2]:+t[2],d&&(d.unit=_,d.start=y,d.end=m)),m}function X(p,e){for(var t=[],d=0,l=p.length,g,_,y,m,f,h,x;d<l;d++)(_=p[d]).style&&(g=_.style.display,e?("none"===g&&(t[d]=k.get(_,"display")||null,t[d]||(_.style.display="")),""===_.style.display&&oe(_)&&(t[d]=(x=f=m=void 0,f=(y=_).ownerDocument,h=y.nodeName,(x=re[h])||(m=f.body.appendChild(f.createElement(h)),x=E.css(m,"display"),m.parentNode.removeChild(m),"none"===x&&(x="block"),re[h]=x)))):"none"!==g&&(t[d]="none",k.set(_,"display",g)));for(d=0;d<l;d++)null!=t[d]&&(p[d].style.display=t[d]);return p}function se(o,e){var t;return t="undefined"==typeof o.getElementsByTagName?"undefined"==typeof o.querySelectorAll?[]:o.querySelectorAll(e||"*"):o.getElementsByTagName(e||"*"),void 0===e||e&&p(o,e)?E.merge([o],t):t}function le(o,e){for(var t=0,i=o.length;t<i;t++)k.set(o[t],"globalEval",!e||k.get(e[t],"globalEval"))}function ye(g,e,t,n,r){for(var i=e.createDocumentFragment(),_=[],p=0,y=g.length,m,f,h,x,C,I;p<y;p++)if((m=g[p])||0===m)if("object"===b(m))E.merge(_,m.nodeType?[m]:m);else if(ge.test(m)){for(f=f||i.appendChild(e.createElement("div")),h=(pe.exec(m)||["",""])[1].toLowerCase(),x=Nt[h]||Nt._default,f.innerHTML=x[1]+E.htmlPrefilter(m)+x[2],I=x[0];I--;)f=f.lastChild;E.merge(_,f.childNodes),(f=i.firstChild).textContent=""}else _.push(e.createTextNode(m));for(i.textContent="",p=0;m=_[p++];)if(n&&-1<E.inArray(m,n))r&&r.push(m);else if(C=te(m),f=se(i.appendChild(m),"script"),C&&le(f),t)for(I=0;m=f[I++];)de.test(m.type||"")&&t.push(m);return i}function xe(){return!0}function Ce(){return!1}function Ee(o,e){return o===function(){try{return x.activeElement}catch(t){}}()==("focus"===e)}function be(p,e,t,d,l,g){var o,c;if("object"==typeof e){for(c in"string"!=typeof t&&(d=d||t,t=void 0),e)be(p,c,t,d,e[c],g);return p}if(null==d&&null==l?(l=t,d=t=void 0):null==l&&("string"==typeof t?(l=d,d=void 0):(l=d,d=t,t=void 0)),!1===l)l=Ce;else if(!l)return p;return 1===g&&(o=l,(l=function(t){return E().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=E.guid++)),p.each(function(){E.event.add(this,e,l,d,t)})}function Se(t,a,i){i?(k.set(t,a,!1),E.event.add(t,a,{namespace:!1,handler:function(o){var e=k.get(this,a),s,p;if(!(1&o.isTrigger&&this[a]))e.length&&(k.set(this,a,{value:E.event.trigger(E.extend(e[0],E.Event.prototype),e.slice(1),this)}),o.stopImmediatePropagation());else if(e.length)(E.event.special[a]||{}).delegateType&&o.stopPropagation();else if(e=ht.call(arguments),k.set(this,a,e),s=i(this,a),this[a](),e!==(p=k.get(this,a))||s?k.set(this,a,!1):p={},e!==p)return o.stopImmediatePropagation(),o.preventDefault(),p.value}})):void 0===k.get(t,a)&&E.event.add(t,a,xe)}function Ne(o,e){return p(o,"table")&&p(11===e.nodeType?e.firstChild:e,"tr")&&E(o).children("tbody")[0]||o}function ve(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Le(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ae(p,e){var t,d,l,g,c,_;if(1===e.nodeType){if(k.hasData(p)&&(_=k.get(p).events))for(l in k.remove(e,"handle events"),_)for(t=0,d=_[l].length;t<d;t++)E.event.add(e,l,_[l][t]);V.hasData(p)&&(g=V.access(p),c=E.extend({},g),V.set(e,c))}}function Oe(p,n,g,i){n=xt(n);var o=0,_=p.length,m=n[0],d=y(m),f,h,x,C,I,b;if(d||1<_&&"string"==typeof m&&!v.checkClone&&Te.test(m))return p.each(function(o){var e=p.eq(o);d&&(n[0]=m.call(this,o,e.html())),Oe(e,n,g,i)});if(_&&(h=(f=ye(n,p[0].ownerDocument,!1,p,i)).firstChild,1===f.childNodes.length&&(f=h),h||i)){for(C=(x=E.map(se(f,"script"),ve)).length;o<_;o++)I=f,o!==_-1&&(I=E.clone(I,!0,!0),C&&E.merge(x,se(I,"script"))),g.call(p[o],I,o);if(C)for(b=x[x.length-1].ownerDocument,E.map(x,Le),o=0;o<C;o++)I=x[o],de.test(I.type||"")&&!k.access(I,"globalEval")&&E.contains(b,I)&&(I.src&&"module"!==(I.type||"").toLowerCase()?E._evalUrl&&!I.noModule&&E._evalUrl(I.src,{nonce:I.nonce||I.getAttribute("nonce")},b):W(I.textContent.replace(De,""),I,b))}return p}function Pe(a,e,t){for(var n=e?E.filter(e,a):a,i=0,s;null!=(s=n[i]);i++)t||1!==s.nodeType||E.cleanData(se(s)),s.parentNode&&(t&&te(s)&&le(se(s,"script")),s.parentNode.removeChild(s));return a}function Re(p,e,t){var d=p.style,s,l,g,c;return(t=t||Me(p))&&(""!==(c=t.getPropertyValue(e)||t[e])||te(p)||(c=E.style(p,e)),!v.pixelBoxStyles()&&je.test(c)&&We.test(e)&&(s=d.width,l=d.minWidth,g=d.maxWidth,d.minWidth=d.maxWidth=d.width=c,c=t.width,d.width=s,d.minWidth=l,d.maxWidth=g)),void 0===c?c:c+""}function we(o,e){return{get:function(){return o()?void delete this.get:(this.get=e).apply(this,arguments)}}}function ke(o){var e=E.cssProps[o]||ze[o];return e||(o in _e?o:ze[o]=function(o){for(var i=o[0].toUpperCase()+o.slice(1),t=Fe.length;t--;)if((o=Fe[t]+i)in _e)return o}(o)||o)}function Be(o,e,t){var n=J.exec(e);return n?yt(0,n[2]-(t||0))+(n[3]||"px"):e}function qe(p,e,t,n,r,i){var o="width"===e?1:0,d=0,l=0;if(t===(n?"border":"content"))return 0;for(;4>o;o+=2)"margin"===t&&(l+=E.css(p,t+Q[o],!0,r)),n?("content"===t&&(l-=E.css(p,"padding"+Q[o],!0,r)),"margin"!==t&&(l-=E.css(p,"border"+Q[o]+"Width",!0,r))):(l+=E.css(p,"padding"+Q[o],!0,r),"padding"===t?d+=E.css(p,"border"+Q[o]+"Width",!0,r):l+=E.css(p,"border"+Q[o]+"Width",!0,r));return!n&&0<=i&&(l+=yt(0,ut(p["offset"+e[0].toUpperCase()+e.slice(1)]-i-l-d-.5))||0),l}function Ve(d,e,t){var n=Me(d),r=(!v.boxSizingReliable()||t)&&"border-box"===E.css(d,"boxSizing",!1,n),l=r,g=Re(d,e,n),c="offset"+e[0].toUpperCase()+e.slice(1);if(je.test(g)){if(!t)return g;g="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&p(d,"tr")||"auto"===g||!parseFloat(g)&&"inline"===E.css(d,"display",!1,n))&&d.getClientRects().length&&(r="border-box"===E.css(d,"boxSizing",!1,n),(l=c in d)&&(g=d[c])),(g=parseFloat(g)||0)+qe(d,e,t||(r?"border":"content"),l,n,g)+"px"}function Ze(o,e,t,n,r){return new Ze.prototype.init(o,e,t,n,r)}function He(){vt&&(!1===x.hidden&&q.requestAnimationFrame?q.requestAnimationFrame(He):q.setTimeout(He,E.fx.interval),E.fx.tick())}function Xe(){return q.setTimeout(function(){Qe=void 0}),Qe=Date.now()}function Ke(o,e){var a=0,s={height:o},i;for(e=e?1:0;4>a;a+=2-e)s["margin"+(i=Q[a])]=s["padding"+i]=o;return e&&(s.opacity=s.width=o),s}function Je(s,e,t){for(var n=($e.tweeners[e]||[]).concat($e.tweeners["*"]),i=0,p=n.length,a;i<p;i++)if(a=n[i].call(t,e,s))return a}function $e(p,o,e){var t=0,d=$e.prefilters.length,g=E.Deferred().always(function(){delete i.elem}),i=function(){if(_)return!1;for(var o=Qe||Xe(),e=yt(0,s.startTime+s.duration-o),t=1-(e/s.duration||0),n=0,a=s.tweens.length;n<a;n++)s.tweens[n].run(t);return g.notifyWith(p,[s,t,e]),1>t&&a?e:(a||g.notifyWith(p,[s,1,0]),g.resolveWith(p,[s]),!1)},s=g.promise({elem:p,props:E.extend({},o),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},e),originalProperties:o,originalOptions:e,startTime:Qe||Xe(),duration:e.duration,tweens:[],createTween:function(o,e){var t=E.Tween(p,s.opts,o,e,s.opts.specialEasing[o]||s.opts.easing);return s.tweens.push(t),t},stop:function(o){var e=0,i=o?s.tweens.length:0;if(_)return this;for(_=!0;e<i;e++)s.tweens[e].run(1);return o?(g.notifyWith(p,[s,1,0]),g.resolveWith(p,[s,o])):g.rejectWith(p,[s,o]),this}}),l=s.props,c,_;for(!function(s,e){var t,p,d,l,g;for(t in s)if(d=e[p=B(t)],l=s[t],Array.isArray(l)&&(d=l[1],l=s[t]=l[0]),t!==p&&(s[p]=l,delete s[t]),(g=E.cssHooks[p])&&("expand"in g))for(t in l=g.expand(l),delete s[p],l)(t in s)||(s[t]=l[t],e[t]=d);else e[p]=d}(l,s.opts.specialEasing);t<d;t++)if(c=$e.prefilters[t].call(s,p,l,s.opts))return y(c.stop)&&(E._queueHooks(s.elem,s.opts.queue).stop=c.stop.bind(c)),c;return E.map(l,Je,s),y(s.opts.start)&&s.opts.start.call(p,s),s.progress(s.opts.progress).done(s.opts.done,s.opts.complete).fail(s.opts.fail).always(s.opts.always),E.fx.timer(E.extend(i,{elem:p,anim:s,queue:s.opts.queue})),s}function et(t){return(t.match(N)||[]).join(" ")}function ot(t){return t.getAttribute&&t.getAttribute("class")||""}function at(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}function st(o,n,a,r){if(Array.isArray(n))E.each(n,function(n,e){a||Et.test(o)?r(o,e):st(o+"["+("object"==typeof e&&null!=e?n:"")+"]",e,a,r)});else if(a||"object"!==b(n))r(o,n);else for(var e in n)st(o+"["+e+"]",n[e],a,r)}function lt(e){return function(o,a){"string"!=typeof o&&(a=o,o="*");var s=0,p=o.toLowerCase().match(N)||[],i;if(y(a))for(;i=p[s++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(a)):(e[i]=e[i]||[]).push(a)}}function gt(n,r,i,o){function a(t){var d;return p[t]=!0,E.each(n[t]||[],function(l,e){var t=e(r,i,o);return"string"!=typeof t||s||p[t]?s?!(d=t):void 0:(r.dataTypes.unshift(t),a(t),!1)}),d}var p={},s=n===Rt;return a(r.dataTypes[0])||!p["*"]&&a("*")}function ct(o,e){var t=E.ajaxSettings.flatOptions||{},i,a;for(i in e)void 0!==e[i]&&((t[i]?o:a||(a={}))[i]=e[i]);return a&&E.extend(!0,o,a),o}var mt=[],ft=Object.getPrototypeOf,ht=mt.slice,xt=mt.flat?function(t){return mt.flat.call(t)}:function(t){return mt.concat.apply([],t)},s=mt.push,g=mt.indexOf,i={},r=i.toString,Lt=i.hasOwnProperty,o=Lt.toString,a=o.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},x=q.document,n={type:!0,src:!0,nonce:!0,noModule:!0},t="3.5.1",E=function(o,e){return new E.fn.init(o,e)};E.fn=E.prototype={jquery:t,constructor:E,length:0,toArray:function(){return ht.call(this)},get:function(t){return null==t?ht.call(this):0>t?this[t+this.length]:this[t]},pushStack:function(o){var e=E.merge(this.constructor(),o);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(o){return this.pushStack(E.map(this,function(n,e){return o.call(n,e,n)}))},slice:function(){return this.pushStack(ht.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(o,e){return(e+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(o,e){return e%2}))},eq:function(o){var e=this.length,t=+o+(0>o?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:mt.sort,splice:mt.splice},E.extend=E.fn.extend=function(){var p=arguments[0]||{},d=1,g=arguments.length,c=!1,_,u,m,f,h,x;for("boolean"==typeof p&&(c=p,p=arguments[d]||{},d++),"object"==typeof p||y(p)||(p={}),d===g&&(p=this,d--);d<g;d++)if(null!=(_=arguments[d]))for(u in _)f=_[u],"__proto__"!==u&&p!==f&&(c&&f&&(E.isPlainObject(f)||(h=Array.isArray(f)))?(m=p[u],x=h&&!Array.isArray(m)?[]:h||E.isPlainObject(m)?m:{},h=!1,p[u]=E.extend(c,x,f)):void 0!==f&&(p[u]=f));return p},E.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(i){var e,s;return i&&"[object Object]"===r.call(i)&&(!(e=ft(i))||"function"==typeof(s=Lt.call(e,"constructor")&&e.constructor)&&o.call(s)===a)},isEmptyObject:function(o){for(var e in o)return!1;return!0},globalEval:function(o,e,t){W(o,{nonce:e&&e.nonce},t)},each:function(o,e){var t=0,i;if(w(o))for(i=o.length;t<i&&!1!==e.call(o[t],t,o[t]);t++);else for(t in o)if(!1===e.call(o[t],t,o[t]))break;return o},makeArray:function(o,e){var t=e||[];return null!=o&&(w(Object(o))?E.merge(t,"string"==typeof o?[o]:o):s.call(t,o)),t},inArray:function(o,e,t){return null==e?-1:g.call(e,o,t)},merge:function(o,e){for(var t=+e.length,n=0,a=o.length;n<t;n++)o[a++]=e[n];return o.length=a,o},grep:function(a,e,t){for(var n=[],r=0,s=a.length;r<s;r++)!e(a[r],r)!=!t&&n.push(a[r]);return n},map:function(s,e,t){var n=0,p=[],a,d;if(w(s))for(a=s.length;n<a;n++)null!=(d=e(s[n],n,t))&&p.push(d);else for(n in s)null!=(d=e(s[n],n,t))&&p.push(d);return xt(p)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=mt[Symbol.iterator]),E.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error","Symbol"],function(o,e){i["[object "+e+"]"]=e.toLowerCase()});var l=function(_){function I(d,t,g,_){var r=t&&t.ownerDocument,y=t?t.nodeType:9,p,m,h,E,C,I,b;if(g=g||[],"string"!=typeof d||!d||1!==y&&9!==y&&11!==y)return g;if(!_&&(Oe(t),t=t||De,Me)){if(11!==y&&(C=K.exec(d)))if(!(p=C[1])){if(C[2])return he.apply(g,t.getElementsByTagName(d)),g;if((p=C[3])&&Ce.getElementsByClassName&&t.getElementsByClassName)return he.apply(g,t.getElementsByClassName(p)),g}else if(9===y){if(!(h=t.getElementById(p)))return g;if(h.id===p)return g.push(h),g}else if(r&&(h=r.getElementById(p))&&ke(t,h)&&h.id===p)return g.push(h),g;if(Ce.qsa&&!x[d+" "]&&(!we||!we.test(d))&&(1!==y||"object"!==t.nodeName.toLowerCase())){if(b=d,r=t,1===y&&(z.test(d)||Ee.test(d))){for((r=Z.test(d)&&J(t.parentNode)||t)===t&&Ce.scope||((E=t.getAttribute("id"))?E=E.replace(ne,re):t.setAttribute("id",E=_e)),m=(I=Se(d)).length;m--;)I[m]=(E?"#"+E:":scope")+" "+se(I[m]);b=I.join(",")}try{return he.apply(g,r.querySelectorAll(b)),g}catch(t){x(d,!0)}finally{E===_e&&t.removeAttribute("id")}}}return ve(d.replace(P,"$1"),t,g,_)}function n(){var o=[];return function i(e,t){return o.push(e+" ")>Ie.cacheLength&&delete i[o.shift()],i[e+" "]=t}}function R(t){return t[_e]=!0,t}function M(o){var e=De.createElement("fieldset");try{return!!o(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function F(o,e){for(var t=o.split("|"),n=t.length;n--;)Ie.attrHandle[t[n]]=e}function B(o,e){var t=e&&o,i=t&&1===o.nodeType&&1===e.nodeType&&o.sourceIndex-e.sourceIndex;if(i)return i;if(t)for(;t=t.nextSibling;)if(t===e)return-1;return o?1:-1}function V(o){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===o}}function X(o){return function(n){var e=n.nodeName.toLowerCase();return("input"===e||"button"===e)&&n.type===o}}function Y(o){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===o:t.disabled===o:t.isDisabled===o||t.isDisabled!==!o&&oe(t)===o:t.disabled===o:"label"in t&&t.disabled===o}}function W(s){return R(function(a){return a=+a,R(function(o,e){for(var t=s([],o.length,a),r=t.length,p;r--;)o[p=t[r]]&&(o[p]=!(e[p]=o[p]))})})}function J(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function Q(){}function se(o){for(var e=0,i=o.length,n="";e<i;e++)n+=o[e].value;return n}function pe(o,n,e){var s=n.dir,d=n.next,l=d||s,g=e&&"parentNode"===l,c=ye++;return n.first?function(i,r,t){for(;i=i[s];)if(1===i.nodeType||g)return o(i,r,t);return!1}:function(p,_,t){var n=[ue,c],a,u,y;if(t){for(;p=p[s];)if((1===p.nodeType||g)&&o(p,_,t))return!0;}else for(;p=p[s];)if(1===p.nodeType||g)if(u=(y=p[_e]||(p[_e]={}))[p.uniqueID]||(y[p.uniqueID]={}),d&&d===p.nodeName.toLowerCase())p=p[s]||p;else{if((a=u[l])&&a[0]===ue&&a[1]===c)return n[2]=a[2];if((u[l]=n)[2]=o(p,_,t))return!0}return!1}}function de(o){return 1<o.length?function(i,e,t){for(var n=o.length;n--;)if(!o[n](i,e,t))return!1;return!0}:o[0]}function le(p,e,t,n,r){for(var i=[],a=0,d=p.length,l;a<d;a++)(l=p[a])&&(t&&!t(l,n,r)||(i.push(l),null!=e&&e.push(a)));return i}function ge(_,d,m,g,h,t){return g&&!g[_e]&&(g=ge(g)),h&&!h[_e]&&(h=ge(h,t)),R(function(y,e,t,n){var r=[],s=[],u=e.length,l=y||function(o,e,t){for(var n=0,a=e.length;n<a;n++)I(o,e[n],t);return t}(d||"*",t.nodeType?[t]:t,[]),c=_&&(y||!d)?le(l,r,_,t,n):l,f=m?h||(y?_:u||g)?[]:e:c,x,E,C;if(m&&m(c,f,t,n),g)for(x=le(f,s),g(x,[],t,n),E=x.length;E--;)(C=x[E])&&(f[s[E]]=!(c[s[E]]=C));if(!y)f=le(f===e?f.splice(u,f.length):f),h?h(null,e,f,n):he.apply(e,f);else if(h||_){if(h){for(x=[],E=f.length;E--;)(C=f[E])&&x.push(c[E]=C);h(null,f=[],x,n)}for(E=f.length;E--;)(C=f[E])&&-1<(x=h?O(y,C):r[E])&&(y[x]=!(e[x]=C))}})}function ce(p){for(var d=p.length,g=Ie.relative[p[0].type],o=g||Ie.relative[" "],r=g?1:0,a=pe(function(t){return t===u},o,!0),_=pe(function(t){return-1<O(u,t)},o,!0),l=[function(o,e,t){var n=!g&&(t||e!==Te)||((u=e).nodeType?a(o,e,t):_(o,e,t));return u=null,n}],u,y,m;r<d;r++)if(y=Ie.relative[p[r].type])l=[pe(de(l),y)];else{if((y=Ie.filter[p[r].type].apply(null,p[r].matches))[_e]){for(m=++r;m<d&&!Ie.relative[p[m].type];m++);return ge(1<r&&de(l),1<r&&se(p.slice(0,r-1).concat({value:" "===p[r-2].type?"*":""})).replace(P,"$1"),y,r<m&&ce(p.slice(r,m)),m<d&&ce(p=p.slice(m)),m<d&&se(p))}l.push(y)}return de(l)}var _e="sizzle"+1*new Date,S=_.document,ue=0,ye=0,p=n(),m=n(),me=n(),x=n(),N=function(o,e){return o===e&&(Re=!0),0},A={}.hasOwnProperty,j=[],fe=j.pop,q=j.push,he=j.push,xe=j.slice,O=function(o,e){for(var t=0,i=o.length;t<i;t++)if(o[t]===e)return t;return-1},P=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Ee=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,z=/[\x20\t\r\n\f]|>/,U={ID:/^#((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+)/,CLASS:/^\.((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+)/,TAG:/^((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},G=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\([^\r\n\f])/g,te=function(o,e){var t=String.fromCharCode,i="0x"+o.slice(1)-65536;return e||(0>i?t(i+65536):t(55296|i>>10,56320|1023&i))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(o,e){return e?"\0"===o?"\uFFFD":o.slice(0,-1)+"\\"+o.charCodeAt(o.length-1).toString(16)+" ":"\\"+o},ie=function(){Oe()},oe=pe(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"}),ae,Ce,Ie,be,Le,Se,Ne,ve,Te,Pe,Re,Oe,De,Ae,Me,we,Fe,ze,ke;try{he.apply(j=xe.call(S.childNodes),S.childNodes),j[S.childNodes.length].nodeType}catch(t){he={apply:j.length?function(o,e){q.apply(o,xe.call(e))}:function(o,e){for(var t=o.length,i=0;o[t++]=e[i++];);o.length=t-1}}}for(ae in Ce=I.support={},Le=I.isXML=function(o){var e=o.namespaceURI,t=(o.ownerDocument||o).documentElement;return!/HTML$/i.test(e||t&&t.nodeName||"HTML")},Oe=I.setDocument=function(o){var e=o?o.ownerDocument||o:S,i,r;return e!=De&&9===e.nodeType&&e.documentElement&&(Ae=(De=e).documentElement,Me=!Le(De),S!=De&&(r=De.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),Ce.scope=M(function(t){return Ae.appendChild(t).appendChild(De.createElement("div")),"undefined"!=typeof t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),Ce.attributes=M(function(t){return t.className="i",!t.getAttribute("className")}),Ce.getElementsByTagName=M(function(t){return t.appendChild(De.createComment("")),!t.getElementsByTagName("*").length}),Ce.getElementsByClassName=G.test(De.getElementsByClassName),Ce.getById=M(function(t){return Ae.appendChild(t).id=_e,!De.getElementsByName||!De.getElementsByName(_e).length}),Ce.getById?(Ie.filter.ID=function(o){var n=o.replace(ee,te);return function(t){return t.getAttribute("id")===n}},Ie.find.ID=function(o,e){if("undefined"!=typeof e.getElementById&&Me){var t=e.getElementById(o);return t?[t]:[]}}):(Ie.filter.ID=function(t){var o=t.replace(ee,te);return function(n){var e="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return e&&e.value===o}},Ie.find.ID=function(a,e){if("undefined"!=typeof e.getElementById&&Me){var t=e.getElementById(a),s,p,d;if(t){if((s=t.getAttributeNode("id"))&&s.value===a)return[t];for(d=e.getElementsByName(a),p=0;t=d[p++];)if((s=t.getAttributeNode("id"))&&s.value===a)return[t]}return[]}}),Ie.find.TAG=Ce.getElementsByTagName?function(o,e){return"undefined"==typeof e.getElementsByTagName?Ce.qsa?e.querySelectorAll(o):void 0:e.getElementsByTagName(o)}:function(a,e){var t=[],r=0,s=e.getElementsByTagName(a),o;if("*"===a){for(;o=s[r++];)1===o.nodeType&&t.push(o);return t}return s},Ie.find.CLASS=Ce.getElementsByClassName&&function(o,e){if("undefined"!=typeof e.getElementsByClassName&&Me)return e.getElementsByClassName(o)},Fe=[],we=[],(Ce.qsa=G.test(De.querySelectorAll))&&(M(function(o){var e;Ae.appendChild(o).innerHTML="<a id='"+_e+"'></a><select id='"+_e+"-\r\\' msallowcapture=''><option selected=''></option></select>",o.querySelectorAll("[msallowcapture^='']").length&&we.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),o.querySelectorAll("[selected]").length||we.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),o.querySelectorAll("[id~="+_e+"-]").length||we.push("~="),(e=De.createElement("input")).setAttribute("name",""),o.appendChild(e),o.querySelectorAll("[name='']").length||we.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),o.querySelectorAll(":checked").length||we.push(":checked"),o.querySelectorAll("a#"+_e+"+*").length||we.push(".#.+[+~]"),o.querySelectorAll("\\\f"),we.push("[\\r\\n\\f]")}),M(function(o){o.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=De.createElement("input");e.setAttribute("type","hidden"),o.appendChild(e).setAttribute("name","D"),o.querySelectorAll("[name=d]").length&&we.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==o.querySelectorAll(":enabled").length&&we.push(":enabled",":disabled"),Ae.appendChild(o).disabled=!0,2!==o.querySelectorAll(":disabled").length&&we.push(":enabled",":disabled"),o.querySelectorAll("*,:x"),we.push(",.*:")})),(Ce.matchesSelector=G.test(ze=Ae.matches||Ae.webkitMatchesSelector||Ae.mozMatchesSelector||Ae.oMatchesSelector||Ae.msMatchesSelector))&&M(function(t){Ce.disconnectedMatch=ze.call(t,"*"),ze.call(t,"[s!='']:x"),Fe.push("!=",":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),we=we.length&&new RegExp(we.join("|")),Fe=Fe.length&&new RegExp(Fe.join("|")),i=G.test(Ae.compareDocumentPosition),ke=i||G.test(Ae.contains)?function(o,e){var t=9===o.nodeType?o.documentElement:o,n=e&&e.parentNode;return o===n||n&&1===n.nodeType&&(t.contains?t.contains(n):o.compareDocumentPosition&&16&o.compareDocumentPosition(n))}:function(o,e){if(e)for(;e=e.parentNode;)if(e===o)return!0;return!1},N=i?function(o,e){if(o===e)return Re=!0,0;var t=!o.compareDocumentPosition-!e.compareDocumentPosition;return t||(1&(t=(o.ownerDocument||o)==(e.ownerDocument||e)?o.compareDocumentPosition(e):1)||!Ce.sortDetached&&e.compareDocumentPosition(o)===t?o==De||o.ownerDocument==S&&ke(S,o)?-1:e==De||e.ownerDocument==S&&ke(S,e)?1:Pe?O(Pe,o)-O(Pe,e):0:4&t?-1:1)}:function(p,e){if(p===e)return Re=!0,0;var t=0,d=p.parentNode,i=e.parentNode,o=[p],a=[e],s;if(!d||!i)return p==De?-1:e==De?1:d?-1:i?1:Pe?O(Pe,p)-O(Pe,e):0;if(d===i)return B(p,e);for(s=p;s=s.parentNode;)o.unshift(s);for(s=e;s=s.parentNode;)a.unshift(s);for(;o[t]===a[t];)t++;return t?B(o[t],a[t]):o[t]==S?-1:a[t]==S?1:0}),De},I.matches=function(o,e){return I(o,null,null,e)},I.matchesSelector=function(o,i){if(Oe(o),Ce.matchesSelector&&Me&&!x[i+" "]&&(!Fe||!Fe.test(i))&&(!we||!we.test(i)))try{var e=ze.call(o,i);if(e||Ce.disconnectedMatch||o.document&&11!==o.document.nodeType)return e}catch(t){x(i,!0)}return 0<I(i,De,null,[o]).length},I.contains=function(o,e){return(o.ownerDocument||o)!=De&&Oe(o),ke(o,e)},I.attr=function(o,e){(o.ownerDocument||o)!=De&&Oe(o);var t=Ie.attrHandle[e.toLowerCase()],n=t&&A.call(Ie.attrHandle,e.toLowerCase())?t(o,e,!Me):void 0;return void 0===n?Ce.attributes||!Me?o.getAttribute(e):(n=o.getAttributeNode(e))&&n.specified?n.value:null:n},I.escape=function(t){return(t+"").replace(ne,re)},I.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},I.uniqueSort=function(o){var e=[],n=0,a=0,s;if(Re=!Ce.detectDuplicates,Pe=!Ce.sortStable&&o.slice(0),o.sort(N),Re){for(;s=o[a++];)s===o[a]&&(n=e.push(a));for(;n--;)o.splice(e[n],1)}return Pe=null,o},be=I.getText=function(o){var a="",s=0,p=o.nodeType,i;if(!p)for(;i=o[s++];)a+=be(i);else if(1===p||9===p||11===p){if("string"==typeof o.textContent)return o.textContent;for(o=o.firstChild;o;o=o.nextSibling)a+=be(o)}else if(3===p||4===p)return o.nodeValue;return a},(Ie=I.selectors={cacheLength:50,createPseudo:R,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ee,te),t[3]=(t[3]||t[4]||t[5]||"").replace(ee,te),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||I.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&I.error(t[0]),t},PSEUDO:function(o){var e=!o[6]&&o[2],n;return U.CHILD.test(o[0])?null:(o[3]?o[2]=o[4]||o[5]||"":e&&/:((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/.test(e)&&(n=Se(e,!0))&&(n=e.indexOf(")",e.length-n)-e.length)&&(o[0]=o[0].slice(0,n),o[2]=e.slice(0,n)),o.slice(0,3))}},filter:{TAG:function(o){var n=o.replace(ee,te).toLowerCase();return"*"===o?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===n}},CLASS:function(o){var n=p[o+" "];return n||(n=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+o+"("+"[\\x20\\t\\r\\n\\f]"+"|$)"))&&p(o,function(t){return n.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(o,n,r){return function(i){var e=I.attr(i,o);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(/[\x20\t\r\n\f]+/g," ")+" ").indexOf(r):"|="==n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(n,o,e,t,g){var _="nth"!==n.slice(0,3),y="last"!==n.slice(-4),m="of-type"===o;return 1===t&&0===g?function(t){return!!t.parentNode}:function(h,e,x){var E=_===y?"previousSibling":"nextSibling",C=h.parentNode,c=m&&h.nodeName.toLowerCase(),f=!x&&!m,p=!1,I,b,S,N,v,T;if(C){if(_){for(;E;){for(N=h;N=N[E];)if(m?N.nodeName.toLowerCase()===c:1===N.nodeType)return!1;T=E="only"===n&&!T&&"nextSibling"}return!0}if(T=[y?C.firstChild:C.lastChild],y&&f){for(p=(v=(I=(b=(S=(N=C)[_e]||(N[_e]={}))[N.uniqueID]||(S[N.uniqueID]={}))[n]||[])[0]===ue&&I[1])&&I[2],N=v&&C.childNodes[v];N=++v&&N&&N[E]||(p=v=0)||T.pop();)if(1===N.nodeType&&++p&&N===h){b[n]=[ue,v,p];break}}else if(f&&(p=v=(I=(b=(S=(N=h)[_e]||(N[_e]={}))[N.uniqueID]||(S[N.uniqueID]={}))[n]||[])[0]===ue&&I[1]),!1===p)for(;(N=++v&&N&&N[E]||(p=v=0)||T.pop())&&!((m?N.nodeName.toLowerCase()===c:1===N.nodeType)&&++p&&(f&&((b=(S=N[_e]||(N[_e]={}))[N.uniqueID]||(S[N.uniqueID]={}))[n]=[ue,p]),N===h)););return(p-=g)===t||0==p%t&&0<=p/t}}},PSEUDO:function(n,s){var o=Ie.pseudos[n]||Ie.setFilters[n.toLowerCase()]||I.error("unsupported pseudo: "+n),i;return o[_e]?o(s):1<o.length?(i=[n,n,"",s],Ie.setFilters.hasOwnProperty(n.toLowerCase())?R(function(a,e){for(var t=o(a,s),r=t.length,p;r--;)a[p=O(a,t[r])]=!(e[p]=t[r])}):function(t){return o(t,0,i)}):o}},pseudos:{not:R(function(t){var o=[],r=[],p=Ne(t.replace(P,"$1"));return p[_e]?R(function(s,e,t,n){for(var r=p(s,null,n,[]),o=s.length,d;o--;)(d=r[o])&&(s[o]=!(e[o]=d))}):function(i,e,t){return o[0]=i,p(o,null,t,r),o[0]=null,!r.pop()}}),has:R(function(o){return function(t){return 0<I(o,t).length}}),contains:R(function(o){return o=o.replace(ee,te),function(t){return-1<(t.textContent||be(t)).indexOf(o)}}),lang:R(function(o){return /^(?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\0-\x7f])+$/.test(o||"")||I.error("unsupported lang: "+o),o=o.replace(ee,te).toLowerCase(),function(n){var i;do if(i=Me?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(i=i.toLowerCase())===o||0===i.indexOf(o+"-");while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(o){var e=_.location&&_.location.hash;return e&&e.slice(1)===o.id},root:function(t){return t===Ae},focus:function(t){return t===De.activeElement&&(!De.hasFocus||De.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:Y(!1),disabled:Y(!0),checked:function(o){var e=o.nodeName.toLowerCase();return"input"===e&&!!o.checked||"option"===e&&!!o.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(6>t.nodeType)return!1;return!0},parent:function(t){return!Ie.pseudos.empty(t)},header:function(t){return /^h\d$/i.test(t.nodeName)},input:function(t){return /^(?:input|select|textarea|button)$/i.test(t.nodeName)},button:function(o){var e=o.nodeName.toLowerCase();return"input"===e&&"button"===o.type||"button"===e},text:function(o){var e;return"input"===o.nodeName.toLowerCase()&&"text"===o.type&&(null==(e=o.getAttribute("type"))||"text"===e.toLowerCase())},first:W(function(){return[0]}),last:W(function(o,e){return[e-1]}),eq:W(function(o,e,t){return[0>t?t+e:t]}),even:W(function(o,e){for(var t=0;t<e;t+=2)o.push(t);return o}),odd:W(function(o,e){for(var t=1;t<e;t+=2)o.push(t);return o}),lt:W(function(o,e,t){for(var n=0>t?t+e:e<t?e:t;0<=--n;)o.push(n);return o}),gt:W(function(o,e,t){for(var n=0>t?t+e:t;++n<e;)o.push(n);return o})}}).pseudos.nth=Ie.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ie.pseudos[ae]=V(ae);for(ae in{submit:!0,reset:!0})Ie.pseudos[ae]=X(ae);return Q.prototype=Ie.filters=Ie.pseudos,Ie.setFilters=new Q,Se=I.tokenize=function(p,e){var t=m[p+" "],d,l,g,c,_,y,f;if(t)return e?0:t.slice(0);for(_=p,y=[],f=Ie.preFilter;_;){for(c in d&&!(l=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/.exec(_))||(l&&(_=_.slice(l[0].length)||_),y.push(g=[])),d=!1,(l=Ee.exec(_))&&(d=l.shift(),g.push({value:d,type:l[0].replace(P," ")}),_=_.slice(d.length)),Ie.filter)(l=U[c].exec(_))&&(!f[c]||(l=f[c](l)))&&(d=l.shift(),g.push({value:d,type:c,matches:l}),_=_.slice(d.length));if(!d)break}return e?_.length:_?I.error(p):m(p,y).slice(0)},Ne=I.compile=function(s,e){var p=[],i=[],o=me[s+" "],d,l,g,_,E,c;if(!o){for(e||(e=Se(s)),d=e.length;d--;)(o=ce(e[d]))[_e]?p.push(o):i.push(o);(o=me(s,(l=i,_=0<(g=p).length,E=0<l.length,c=function(y,e,t,m,r){var i=0,x="0",C=y&&[],c=[],b=Te,p=y||E&&Ie.find.TAG("*",r),d=ue+=null==b?1:Math.random()||.1,h=p.length,S,N,v;for(r&&(Te=e==De||e||r);x!==h&&null!=(S=p[x]);x++){if(E&&S){for(N=0,e||S.ownerDocument==De||(Oe(S),t=!Me);v=l[N++];)if(v(S,e||De,t)){m.push(S);break}r&&(ue=d)}_&&((S=!v&&S)&&i--,y&&C.push(S))}if(i+=x,_&&x!==i){for(N=0;v=g[N++];)v(C,c,e,t);if(y){if(0<i)for(;x--;)C[x]||c[x]||(c[x]=fe.call(m));c=le(c)}he.apply(m,c),r&&!y&&0<c.length&&1<i+g.length&&I.uniqueSort(m)}return r&&(ue=d,Te=b),C},_?R(c):c))).selector=s}return o},ve=I.select=function(p,d,g,_){var y="function"==typeof p&&p,l=!_&&Se(p=y.selector||p),c,m,f,h,x;if(g=g||[],1===l.length){if(2<(m=l[0]=l[0].slice(0)).length&&"ID"===(f=m[0]).type&&9===d.nodeType&&Me&&Ie.relative[m[1].type]){if(!(d=(Ie.find.ID(f.matches[0].replace(ee,te),d)||[])[0]))return g;y&&(d=d.parentNode),p=p.slice(m.shift().value.length)}for(c=U.needsContext.test(p)?0:m.length;c--&&!(f=m[c],Ie.relative[h=f.type]);)if((x=Ie.find[h])&&(_=x(f.matches[0].replace(ee,te),Z.test(m[0].type)&&J(d.parentNode)||d))){if(m.splice(c,1),!(p=_.length&&se(m)))return he.apply(g,_),g;break}}return(y||Ne(p,l))(_,d,!Me,g,!d||Z.test(p)&&J(d.parentNode)||d),g},Ce.sortStable=_e.split("").sort(N).join("")===_e,Ce.detectDuplicates=!!Re,Oe(),Ce.sortDetached=M(function(t){return 1&t.compareDocumentPosition(De.createElement("fieldset"))}),M(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||F("type|href|height|width",function(o,e,t){if(!t)return o.getAttribute(e,"type"===e.toLowerCase()?1:2)}),Ce.attributes&&M(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||F("value",function(o,e,t){if(!t&&"input"===o.nodeName.toLowerCase())return o.defaultValue}),M(function(t){return null==t.getAttribute("disabled")})||F("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(o,e,t){var n;if(!t)return!0===o[e]?e.toLowerCase():(n=o.getAttributeNode(e))&&n.specified?n.value:null}),I}(q);E.find=l,E.expr=l.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=l.uniqueSort,E.text=l.getText,E.isXMLDoc=l.isXML,E.contains=l.contains,E.escapeSelector=l.escape;var d=function(o,i,t){for(var n=[];(o=o[i])&&9!==o.nodeType;)if(1===o.nodeType){if(void 0!==t&&E(o).is(t))break;n.push(o)}return n},c=function(o,i){for(var t=[];o;o=o.nextSibling)1===o.nodeType&&o!==i&&t.push(o);return t},u=E.expr.match.needsContext,f=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;E.filter=function(o,i,t){var n=i[0];return t&&(o=":not("+o+")"),1===i.length&&1===n.nodeType?E.find.matchesSelector(n,o)?[n]:[]:E.find.matches(o,E.grep(i,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(o){var e=this.length,r=this,i,a;if("string"!=typeof o)return this.pushStack(E(o).filter(function(){for(i=0;i<e;i++)if(E.contains(r[i],this))return!0}));for(a=this.pushStack([]),i=0;i<e;i++)E.find(o,r[i],a);return 1<e?E.uniqueSort(a):a},filter:function(t){return this.pushStack(A(this,t||[],!1))},not:function(t){return this.pushStack(A(this,t||[],!0))},is:function(t){return!!A(this,"string"==typeof t&&u.test(t)?E(t):t||[],!1).length}});var h;(E.fn.init=function(o,e,a){var s,p;if(!o)return this;if(a=a||h,"string"==typeof o){if(!(s="<"===o[0]&&">"===o[o.length-1]&&3<=o.length?[null,o,null]:/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/.exec(o))||!s[1]&&e)return!e||e.jquery?(e||a).find(o):this.constructor(e).find(o);if(s[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(s[1],e&&e.nodeType?e.ownerDocument||e:x,!0)),f.test(s[1])&&E.isPlainObject(e))for(s in e)y(this[s])?this[s](e[s]):this.attr(s,e[s]);return this}return(p=x.getElementById(s[2]))&&(this[0]=p,this.length=1),this}return o.nodeType?(this[0]=o,this.length=1,this):y(o)?void 0===a.ready?o(E):a.ready(o):E.makeArray(o,this)}).prototype=E.fn,h=E(x);var S={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(o){var i=E(o,this),t=i.length;return this.filter(function(){for(var o=0;o<t;o++)if(E.contains(this,i[o]))return!0})},closest:function(s,e){var t=0,p=this.length,i=[],o="string"!=typeof s&&E(s),a;if(!u.test(s))for(;t<p;t++)for(a=this[t];a&&a!==e;a=a.parentNode)if(11>a.nodeType&&(o?-1<o.index(a):1===a.nodeType&&E.find.matchesSelector(a,s))){i.push(a);break}return this.pushStack(1<i.length?E.uniqueSort(i):i)},index:function(t){return t?"string"==typeof t?g.call(E(t),this[0]):g.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(o,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(o,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(o){var e=o.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return d(t,"parentNode")},parentsUntil:function(o,e,t){return d(o,"parentNode",t)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return d(t,"nextSibling")},prevAll:function(t){return d(t,"previousSibling")},nextUntil:function(o,e,t){return d(o,"nextSibling",t)},prevUntil:function(o,e,t){return d(o,"previousSibling",t)},siblings:function(t){return c((t.parentNode||{}).firstChild,t)},children:function(t){return c(t.firstChild)},contents:function(t){return null!=t.contentDocument&&ft(t.contentDocument)?t.contentDocument:(p(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(o,r){E.fn[o]=function(i,e){var a=E.map(this,r,i);return"Until"!==o.slice(-5)&&(e=i),e&&"string"==typeof e&&(a=E.filter(e,a)),1<this.length&&(S[o]||E.uniqueSort(a),/^(?:parents|prev(?:Until|All))/.test(o)&&a.reverse()),this.pushStack(a)}});var N=/[^\x20\t\r\n\f]+/g;E.Callbacks=function(p){var d,g;p="string"==typeof p?(d=p,g={},E.each(d.match(N)||[],function(o,e){g[e]=!0}),g):E.extend({},p);var _=[],m=[],h=-1,x=function(){for(S=S||p.once,I=f=!0;m.length;h=-1)for(C=m.shift();++h<_.length;)!1===_[h].apply(C[0],C[1])&&p.stopOnFalse&&(h=_.length,C=!1);p.memory||(C=!1),f=!1,S&&(_=C?[]:"")},c={add:function(){return _&&(C&&!f&&(h=_.length-1,m.push(C)),function o(t){E.each(t,function(n,e){y(e)?p.unique&&c.has(e)||_.push(e):e&&e.length&&"string"!==b(e)&&o(e)})}(arguments),C&&!f&&x()),this},remove:function(){return E.each(arguments,function(o,e){for(var t;-1<(t=E.inArray(e,_,t));)_.splice(t,1),t<=h&&h--}),this},has:function(t){return t?-1<E.inArray(t,_):0<_.length},empty:function(){return _&&(_=[]),this},disable:function(){return S=m=[],_=C="",this},disabled:function(){return!_},lock:function(){return S=m=[],C||f||(_=C=""),this},locked:function(){return!!S},fireWith:function(o,e){return S||(e=[o,(e=e||[]).slice?e.slice():e],m.push(e),f||x()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!I}},f,C,I,S;return c},E.extend({Deferred:function(t){var p=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],e="pending",o={state:function(){return e},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var o=arguments;return E.Deferred(function(i){E.each(p,function(r,s){var t=y(o[s[4]])&&o[s[4]];a[s[1]](function(){var o=t&&t.apply(this,arguments);o&&y(o.promise)?o.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[s[0]+"With"](this,t?[o]:arguments)})}),o=null}).promise()},then:function(o,t,n){function i(p,l,o,a){return function(){var s=this,g=arguments,c=function(){var n,r;if(!(p<d)){if((n=o.apply(s,g))===l.promise())throw new TypeError("Thenable self-resolution");r=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(r)?a?r.call(n,i(d,l,O,a),i(d,l,R,a)):(d++,r.call(n,i(d,l,O,a),i(d,l,R,a),i(d,l,O,l.notifyWith))):(o!==O&&(s=void 0,g=[n]),(a||l.resolveWith)(s,g))}},_=a?c:function(){try{c()}catch(t){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(t,_.stackTrace),d<=p+1&&(o!==R&&(s=void 0,g=[t]),l.rejectWith(s,g))}};p?_():(E.Deferred.getStackHook&&(_.stackTrace=E.Deferred.getStackHook()),q.setTimeout(_))}}var d=0;return E.Deferred(function(r){p[0][3].add(i(0,r,y(n)?n:O,r.notifyWith)),p[1][3].add(i(0,r,y(o)?o:O)),p[2][3].add(i(0,r,y(t)?t:R))}).promise()},promise:function(t){return null==t?o:E.extend(t,o)}},a={};return E.each(p,function(i,s){var t=s[2],n=s[5];o[s[1]]=t.add,n&&t.add(function(){e=n},p[3-i][2].disable,p[3-i][3].disable,p[0][2].lock,p[0][3].lock),t.add(s[3].fire),a[s[0]]=function(){return a[s[0]+"With"](this===a?void 0:this,arguments),this},a[s[0]+"With"]=t.fireWith}),o.promise(a),t&&t.call(a,a),a},when:function(s){var p=arguments.length,e=p,d=Array(e),r=ht.call(arguments),i=E.Deferred(),o=function(o){return function(t){d[o]=this,r[o]=1<arguments.length?ht.call(arguments):t,--p||i.resolveWith(d,r)}};if(1>=p&&(M(s,i.done(o(e)).resolve,i.reject,!p),"pending"===i.state()||y(r[e]&&r[e].then)))return i.then();for(;e--;)M(r[e],o(e),i.reject);return i.promise()}});E.Deferred.exceptionHook=function(o,e){q.console&&q.console.warn&&o&&/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/.test(o.name)&&q.console.warn("jQuery.Deferred exception: "+o.message,o.stack,e)},E.readyException=function(t){q.setTimeout(function(){throw t})};var T=E.Deferred();E.fn.ready=function(t){return T.then(t)["catch"](function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0)!==t&&0<--E.readyWait||T.resolveWith(x,[E])}}),E.ready.then=T.then,"complete"!==x.readyState&&("loading"===x.readyState||x.documentElement.doScroll)?(x.addEventListener("DOMContentLoaded",e),q.addEventListener("load",e)):q.setTimeout(E.ready);var P=function(p,e,d,n,r,g,o){var c=0,_=p.length,u=null==d;if("object"===b(d))for(c in r=!0,d)P(p,e,c,d[c],!0,g,o);else if(void 0!==n&&(r=!0,y(n)||(o=!0),u&&(o?(e.call(p,n),e=null):(u=e,e=function(o,e,t){return u.call(E(o),t)})),e))for(;c<_;c++)e(p[c],d,o?n:n.call(p[c],c,e(p[c],d)));return r?p:u?e.call(p):_?e(p[0],d):g},F=/^-ms-/,_=/-([a-z])/g,z=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};U.uid=1,U.prototype={cache:function(o){var e=o[this.expando];return e||(e={},z(o)&&(o.nodeType?o[this.expando]=e:Object.defineProperty(o,this.expando,{value:e,configurable:!0}))),e},set:function(o,e,t){var n=this.cache(o),i;if("string"==typeof e)n[B(e)]=t;else for(i in e)n[B(i)]=e[i];return n},get:function(o,e){return void 0===e?this.cache(o):o[this.expando]&&o[this.expando][B(e)]},access:function(o,e,t){return void 0===e||e&&"string"==typeof e&&void 0===t?this.get(o,e):(this.set(o,e,t),void 0===t?e:t)},remove:function(o,e){var i=o[this.expando],r;if(void 0!==i){if(void 0!==e)for(r=(e=Array.isArray(e)?e.map(B):((e=B(e))in i)?[e]:e.match(N)||[]).length;r--;)delete i[e[r]];(void 0===e||E.isEmptyObject(i))&&(o.nodeType?o[this.expando]=void 0:delete o[this.expando])}},hasData:function(o){var e=o[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var k=new U,V=new U,H=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;E.extend({hasData:function(t){return V.hasData(t)||k.hasData(t)},data:function(o,e,t){return V.access(o,e,t)},removeData:function(o,e){V.remove(o,e)},_data:function(o,e,t){return k.access(o,e,t)},_removeData:function(o,e){k.remove(o,e)}}),E.fn.extend({data:function(s,n){var p=this[0],e=p&&p.attributes,o,a,d;if(void 0===s){if(this.length&&(d=V.get(p),1===p.nodeType&&!k.get(p,"hasDataAttrs"))){for(o=e.length;o--;)e[o]&&0===(a=e[o].name).indexOf("data-")&&(a=B(a.slice(5)),G(p,a,d[a]));k.set(p,"hasDataAttrs",!0)}return d}return"object"==typeof s?this.each(function(){V.set(this,s)}):P(this,function(o){var e;return p&&void 0===o?void 0===(e=V.get(p,s))?void 0===(e=G(p,s))?void 0:e:e:void this.each(function(){V.set(this,s,o)})},null,n,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){V.remove(this,t)})}}),E.extend({queue:function(o,e,i){var n;if(o)return e=(e||"fx")+"queue",n=k.get(o,e),i&&(!n||Array.isArray(i)?n=k.access(o,e,E.makeArray(i)):n.push(i)),n||[]},dequeue:function(a,e){e=e||"fx";var s=E.queue(a,e),n=s.length,p=s.shift(),d=E._queueHooks(a,e);"inprogress"===p&&(p=s.shift(),n--),p&&("fx"===e&&s.unshift("inprogress"),delete d.stop,p.call(a,function(){E.dequeue(a,e)},d)),!n&&d&&d.empty.fire()},_queueHooks:function(o,e){var t=e+"queueHooks";return k.get(o,t)||k.access(o,t,{empty:E.Callbacks("once memory").add(function(){k.remove(o,[e+"queue",t])})})}}),E.fn.extend({queue:function(o,i){var r=2;return"string"!=typeof o&&(i=o,o="fx",r--),arguments.length<r?E.queue(this[0],o):void 0===i?this:this.each(function(){var t=E.queue(this,o,i);E._queueHooks(this,o),"fx"===o&&"inprogress"!==t[0]&&E.dequeue(this,o)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(p,d){var l=1,g=E.Deferred(),i=this,o=this.length,c=function(){--l||g.resolveWith(i,[i])},s;for("string"!=typeof p&&(d=p,p=void 0),p=p||"fx";o--;)(s=k.get(i[o],p+"queueHooks"))&&s.empty&&(l++,s.empty.add(c));return c(),g.promise(d)}});var K=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,J=new RegExp("^(?:([+-])=|)("+K+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],ee=x.documentElement,te=function(t){return E.contains(t.ownerDocument,t)},ne={composed:!0};ee.getRootNode&&(te=function(t){return E.contains(t.ownerDocument,t)||t.getRootNode(ne)===t.ownerDocument});var oe=function(o,n){return"none"===(o=n||o).style.display||""===o.style.display&&te(o)&&"none"===E.css(o,"display")},re={};E.fn.extend({show:function(){return X(this,!0)},hide:function(){return X(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){oe(this)?E(this).show():E(this).hide()})}});var ae=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,de=/^$|^module$|\/(?:java|ecma)script/i,ue,he;ue=x.createDocumentFragment().appendChild(x.createElement("div")),(he=x.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),ue.appendChild(he),v.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML="<option></option>",v.option=!!ue.lastChild;var Nt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.option||(Nt.optgroup=Nt.option=[1,"<select multiple='multiple'>","</select>"]);var ge=/<|&#?\w+;/,me=/^([^.]*)(?:\.(.+)|)/;E.event={global:{},add:function(_,t,y,m,r){var x=k.get(_),C,I,b,S,v,T,P,R,O,D,A;if(z(_))for(y.handler&&(y=(C=y).handler,r=C.selector),r&&E.find.matchesSelector(ee,r),y.guid||(y.guid=E.guid++),(S=x.events)||(S=x.events=Object.create(null)),(I=x.handle)||(I=x.handle=function(t){return"undefined"!=typeof E&&E.event.triggered!==t.type?E.event.dispatch.apply(_,arguments):void 0}),v=(t=(t||"").match(N)||[""]).length;v--;)O=A=(b=me.exec(t[v])||[])[1],D=(b[2]||"").split(".").sort(),O&&(P=E.event.special[O]||{},O=(r?P.delegateType:P.bindType)||O,P=E.event.special[O]||{},T=E.extend({type:O,origType:A,data:m,handler:y,guid:y.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:D.join(".")},C),(R=S[O])||((R=S[O]=[]).delegateCount=0,P.setup&&!1!==P.setup.call(_,m,D,I)||_.addEventListener&&_.addEventListener(O,I)),P.add&&(P.add.call(_,T),T.handler.guid||(T.handler.guid=y.guid)),r?R.splice(R.delegateCount++,0,T):R.push(T),E.event.global[O]=!0)},remove:function(_,e,y,n,r){var i=k.hasData(_)&&k.get(_),m,x,C,I,b,S,v,T,P,R,O;if(i&&(I=i.events)){for(b=(e=(e||"").match(N)||[""]).length;b--;)if(P=O=(C=me.exec(e[b])||[])[1],R=(C[2]||"").split(".").sort(),P){for(v=E.event.special[P]||{},T=I[P=(n?v.delegateType:v.bindType)||P]||[],C=C[2]&&new RegExp("(^|\\.)"+R.join("\\.(?:.*\\.|)")+"(\\.|$)"),x=m=T.length;m--;)S=T[m],!r&&O!==S.origType||y&&y.guid!==S.guid||C&&!C.test(S.namespace)||n&&n!==S.selector&&("**"!==n||!S.selector)||(T.splice(m,1),S.selector&&T.delegateCount--,v.remove&&v.remove.call(_,S));x&&!T.length&&(v.teardown&&!1!==v.teardown.call(_,R,i.handle)||E.removeEvent(_,P,i.handle),delete I[P])}else for(P in I)E.event.remove(_,P+e[b],y,n,!0);E.isEmptyObject(I)&&k.remove(_,"handle events")}},dispatch:function(p){var e=Array(arguments.length),s=E.event.fix(p),d=(k.get(this,"events")||Object.create(null))[s.type]||[],l=E.event.special[s.type]||{},g,c,_,u,y,m;for(e[0]=s,g=1;g<arguments.length;g++)e[g]=arguments[g];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(m=E.event.handlers.call(this,s,d),g=0;(u=m[g++])&&!s.isPropagationStopped();)for(s.currentTarget=u.elem,c=0;(y=u.handlers[c++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==y.namespace&&!s.rnamespace.test(y.namespace)||(s.handleObj=y,s.data=y.data,void 0!==(_=((E.event.special[y.origType]||{}).handle||y.handler).apply(u.elem,e))&&!1===(s.result=_)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(p,e){var t=[],s=e.delegateCount,d=p.target,g,c,_,u,y;if(s&&d.nodeType&&!("click"===p.type&&1<=p.button))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==p.type||!0!==d.disabled)){for(u=[],y={},g=0;g<s;g++)void 0===y[_=(c=e[g]).selector+" "]&&(y[_]=c.needsContext?-1<E(_,this).index(d):E.find(_,this,null,[d]).length),y[_]&&u.push(c);u.length&&t.push({elem:d,handlers:u})}return d=this,s<e.length&&t.push({elem:d,handlers:e.slice(s)}),t},addProp:function(o,t){Object.defineProperty(E.Event.prototype,o,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[o]},set:function(t){Object.defineProperty(this,o,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},click:{setup:function(o){var e=this||o;return ae.test(e.type)&&e.click&&p(e,"input")&&Se(e,"click",xe),!1},trigger:function(o){var e=this||o;return ae.test(e.type)&&e.click&&p(e,"input")&&Se(e,"click"),!0},_default:function(o){var e=o.target;return ae.test(e.type)&&e.click&&p(e,"input")&&k.get(e,"click")||p(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(o,e,t){o.removeEventListener&&o.removeEventListener(e,t)},E.Event=function(o,e){return this instanceof E.Event?void(o&&o.type?(this.originalEvent=o,this.type=o.type,this.isDefaultPrevented=o.defaultPrevented||void 0===o.defaultPrevented&&!1===o.returnValue?xe:Ce,this.target=o.target&&3===o.target.nodeType?o.target.parentNode:o.target,this.currentTarget=o.currentTarget,this.relatedTarget=o.relatedTarget):this.type=o,e&&E.extend(this,e),this.timeStamp=o&&o.timeStamp||Date.now(),this[E.expando]=!0):new E.Event(o,e)},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xe,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xe,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xe,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(o){var e=o.button;return null==o.which&&/^key/.test(o.type)?null==o.charCode?o.keyCode:o.charCode:!o.which&&void 0!==e&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(o.type)?1&e?1:2&e?3:4&e?2:0:o.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(o,e){E.event.special[o]={setup:function(){return Se(this,o,Ee),!1},trigger:function(){return Se(this,o),!0},delegateType:e}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){E.event.special[t]={delegateType:o,bindType:o,handle:function(i){var e=i.relatedTarget,n=i.handleObj,r;return e&&(e===this||E.contains(this,e))||(i.type=n.origType,r=n.handler.apply(this,arguments),i.type=o),r}}}),E.fn.extend({on:function(o,e,t,n){return be(this,o,e,t,n)},one:function(o,e,t,n){return be(this,o,e,t,n,1)},off:function(o,e,a){var s,p;if(o&&o.preventDefault&&o.handleObj)return s=o.handleObj,E(o.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof o){for(p in o)this.off(p,e,o[p]);return this}return!1!==e&&"function"!=typeof e||(a=e,e=void 0),!1===a&&(a=Ce),this.each(function(){E.event.remove(this,o,a,e)})}});var Te=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;E.extend({htmlPrefilter:function(t){return t},clone:function(p,e,t){var n=p.cloneNode(!0),d=te(p),g,c,_,y,m,f,h;if(!(v.noCloneChecked||1!==p.nodeType&&11!==p.nodeType||E.isXMLDoc(p)))for(y=se(n),g=0,c=(_=se(p)).length;g<c;g++)m=_[g],f=y[g],"input"===(h=f.nodeName.toLowerCase())&&ae.test(m.type)?f.checked=m.checked:"input"!==h&&"textarea"!==h||(f.defaultValue=m.defaultValue);if(e)if(t)for(_=_||se(p),y=y||se(n),g=0,c=_.length;g<c;g++)Ae(_[g],y[g]);else Ae(p,n);return 0<(y=se(n,"script")).length&&le(y,!d&&se(p,"script")),n},cleanData:function(a){for(var e=E.event.special,i=0,s,p,d;void 0!==(p=a[i]);i++)if(z(p)){if(s=p[k.expando]){if(s.events)for(d in s.events)e[d]?E.event.remove(p,d):E.removeEvent(p,d,s.handle);p[k.expando]=void 0}p[V.expando]&&(p[V.expando]=void 0)}}}),E.fn.extend({detach:function(t){return Pe(this,t,!0)},remove:function(t){return Pe(this,t)},text:function(t){return P(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Oe(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,t).appendChild(t)})},prepend:function(){return Oe(this,arguments,function(o){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ne(this,o);e.insertBefore(o,e.firstChild)}})},before:function(){return Oe(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Oe(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var o=0,n;null!=(n=this[o]);o++)1===n.nodeType&&(E.cleanData(se(n,!1)),n.textContent="");return this},clone:function(o,n){return o=null!=o&&o,n=null==n?o:n,this.map(function(){return E.clone(this,o,n)})},html:function(t){return P(this,function(o){var i=this[0]||{},a=0,s=this.length;if(void 0===o&&1===i.nodeType)return i.innerHTML;if("string"==typeof o&&!/<script|<style|<link/i.test(o)&&!Nt[(pe.exec(o)||["",""])[1].toLowerCase()]){o=E.htmlPrefilter(o);try{for(;a<s;a++)1===(i=this[a]||{}).nodeType&&(E.cleanData(se(i,!1)),i.innerHTML=o);i=0}catch(t){}}i&&this.empty().append(o)},null,t,arguments.length)},replaceWith:function(){var o=[];return Oe(this,arguments,function(n){var e=this.parentNode;0>E.inArray(this,o)&&(E.cleanData(se(this)),e&&e.replaceChild(n,this))},o)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,p){E.fn[t]=function(a){for(var e=[],n=E(a),r=n.length-1,i=0,d;i<=r;i++)d=i==r?this:this.clone(!0),E(n[i])[p](d),s.apply(e,d.get());return this.pushStack(e)}});var je=new RegExp("^("+K+")(?!px)[a-z%]+$","i"),Me=function(o){var e=o.ownerDocument.defaultView;return e&&e.opener||(e=q),e.getComputedStyle(o)},Ie=function(a,e,t){var n={},o,s;for(s in e)n[s]=a.style[s],a.style[s]=e[s];for(s in o=t.call(a),e)a.style[s]=n[s];return o},We=new RegExp(Q.join("|"),"i");!function(){function p(){if(g){t.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",g.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ee.appendChild(t).appendChild(g);var o=q.getComputedStyle(g);c="1%"!==o.top,f=12===d(o.marginLeft),g.style.right="60%",y=36===d(o.right),_=36===d(o.width),g.style.position="absolute",u=12===d(g.offsetWidth/3),ee.removeChild(t),g=null}}function d(t){return Math.round(parseFloat(t))}var t=x.createElement("div"),g=x.createElement("div"),c,_,u,y,m,f;g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===g.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return p(),_},pixelBoxStyles:function(){return p(),y},pixelPosition:function(){return p(),c},reliableMarginLeft:function(){return p(),f},scrollboxSize:function(){return p(),u},reliableTrDimensions:function(){var o,i,a,s;return null==m&&(o=x.createElement("table"),i=x.createElement("tr"),a=x.createElement("div"),o.style.cssText="position:absolute;left:-11111px",i.style.height="1px",a.style.height="9px",ee.appendChild(o).appendChild(i).appendChild(a),s=q.getComputedStyle(i),m=3<parseInt(s.height),ee.removeChild(o)),m}}))}();var Fe=["Webkit","Moz","ms"],_e=x.createElement("div").style,ze={},Ue=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"};E.extend({cssHooks:{opacity:{get:function(o,e){if(e){var t=Re(o,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(p,e,d,g){if(p&&3!==p.nodeType&&8!==p.nodeType&&p.style){var r=B(e),s=Ue.test(e),c=p.style,l,_,u;if(s||(e=ke(r)),u=E.cssHooks[e]||E.cssHooks[r],void 0===d)return u&&"get"in u&&void 0!==(l=u.get(p,!1,g))?l:c[e];"string"==(_=typeof d)&&(l=J.exec(d))&&l[1]&&(d=Z(p,e,l),_="number"),null!=d&&d==d&&("number"!==_||s||(d+=l&&l[3]||(E.cssNumber[r]?"":"px")),v.clearCloneStyle||""!==d||0!==e.indexOf("background")||(c[e]="inherit"),u&&"set"in u&&void 0===(d=u.set(p,d,g))||(s?c.setProperty(e,d):c[e]=d))}},css:function(p,e,d,n){var r=B(e),s,l,g;return Ue.test(e)||(e=ke(r)),(g=E.cssHooks[e]||E.cssHooks[r])&&"get"in g&&(s=g.get(p,!0,d)),void 0===s&&(s=Re(p,e,n)),"normal"===s&&e in Ye&&(s=Ye[e]),""===d||d?(l=parseFloat(s),!0===d||isFinite(l)?l||0:s):s}}),E.each(["height","width"],function(t,p){E.cssHooks[p]={get:function(o,e,t){if(e)return!/^(none|table(?!-c[ea]).+)/.test(E.css(o,"display"))||o.getClientRects().length&&o.getBoundingClientRect().width?Ve(o,p,t):Ie(o,Ge,function(){return Ve(o,p,t)})},set:function(d,e,l){var n=Me(d),i=!v.scrollboxSize()&&"absolute"===n.position,o=(i||l)&&"border-box"===E.css(d,"boxSizing",!1,n),a=l?qe(d,p,l,o,n):0,g;return o&&i&&(a-=ut(d["offset"+p[0].toUpperCase()+p.slice(1)]-parseFloat(n[p])-qe(d,p,"border",!1,n)-.5)),a&&(g=J.exec(e))&&"px"!==(g[3]||"px")&&(d.style[p]=e,e=E.css(d,p)),Be(0,e,a)}}}),E.cssHooks.marginLeft=we(v.reliableMarginLeft,function(o,e){if(e)return(parseFloat(Re(o,"marginLeft"))||o.getBoundingClientRect().left-Ie(o,{marginLeft:0},function(){return o.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(a,i){E.cssHooks[a+i]={expand:function(o){for(var e=0,s={},n="string"==typeof o?o.split(" "):[o];4>e;e++)s[a+Q[e]+i]=n[e]||n[e-2]||n[0];return s}},"margin"!==a&&(E.cssHooks[a+i].set=Be)}),E.fn.extend({css:function(o,e){return P(this,function(s,e,t){var n={},o=0,p,d;if(Array.isArray(e)){for(p=Me(s),d=e.length;o<d;o++)n[e[o]]=E.css(s,e[o],!1,p);return n}return void 0===t?E.css(s,e):E.style(s,e,t)},o,e,1<arguments.length)}}),((E.Tween=Ze).prototype={constructor:Ze,init:function(a,e,t,n,r,i){this.elem=a,this.prop=t,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=i||(E.cssNumber[t]?"":"px")},cur:function(){var t=Ze.propHooks[this.prop];return t&&t.get?t.get(this):Ze.propHooks._default.get(this)},run:function(o){var e=Ze.propHooks[this.prop],n;return this.pos=this.options.duration?n=E.easing[this.easing](o,this.options.duration*o,0,1,this.options.duration):n=o,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):Ze.propHooks._default.set(this),this}}).init.prototype=Ze.prototype,(Ze.propHooks={_default:{get:function(o){var e;return 1!==o.elem.nodeType||null!=o.elem[o.prop]&&null==o.elem.style[o.prop]?o.elem[o.prop]:(e=E.css(o.elem,o.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1===t.elem.nodeType&&(E.cssHooks[t.prop]||null!=t.elem.style[ke(t.prop)])?E.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}}).scrollTop=Ze.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=Ze.prototype.init,E.fx.step={};var Qe,vt,Pt,Ot;E.Animation=E.extend($e,{tweeners:{"*":[function(o,e){var t=this.createTween(o,e);return Z(t.elem,o,J.exec(e),t),t}]},tweener:function(o,a){y(o)?(a=o,o=["*"]):o=o.match(N);for(var s=0,p=o.length,i;s<p;s++)i=o[s],$e.tweeners[i]=$e.tweeners[i]||[],$e.tweeners[i].unshift(a)},prefilters:[function(_,e,t){var n="width"in e||"height"in e,y=this,p={},d=_.style,m=_.nodeType&&oe(_),f=k.get(_,"fxshow"),h,x,C,I,b,S,N,T;for(h in t.queue||(null==(I=E._queueHooks(_,"fx")).unqueued&&(I.unqueued=0,b=I.empty.fire,I.empty.fire=function(){I.unqueued||b()}),I.unqueued++,y.always(function(){y.always(function(){I.unqueued--,E.queue(_,"fx").length||I.empty.fire()})})),e)if(x=e[h],/^(?:toggle|show|hide)$/.test(x)){if(delete e[h],C=C||"toggle"===x,x===(m?"hide":"show")){if("show"!==x||!f||void 0===f[h])continue;m=!0}p[h]=f&&f[h]||E.style(_,h)}if((S=!E.isEmptyObject(e))||!E.isEmptyObject(p))for(h in n&&1===_.nodeType&&(t.overflow=[d.overflow,d.overflowX,d.overflowY],null==(N=f&&f.display)&&(N=k.get(_,"display")),"none"===(T=E.css(_,"display"))&&(N?T=N:(X([_],!0),N=_.style.display||N,T=E.css(_,"display"),X([_]))),("inline"===T||"inline-block"===T&&null!=N)&&"none"===E.css(_,"float")&&(S||(y.done(function(){d.display=N}),null==N&&(T=d.display,N="none"===T?"":T)),d.display="inline-block")),t.overflow&&(d.overflow="hidden",y.always(function(){d.overflow=t.overflow[0],d.overflowX=t.overflow[1],d.overflowY=t.overflow[2]})),S=!1,p)S||(f?"hidden"in f&&(m=f.hidden):f=k.access(_,"fxshow",{display:N}),C&&(f.hidden=!m),m&&X([_],!0),y.done(function(){for(h in m||X([_]),k.remove(_,"fxshow"),p)E.style(_,h,p[h])})),S=Je(m?f[h]:0,h,y),h in f||(f[h]=S.start,m&&(S.end=S.start,S.start=0))}],prefilter:function(o,e){e?$e.prefilters.unshift(o):$e.prefilters.push(o)}}),E.speed=function(o,e,t){var n=o&&"object"==typeof o?E.extend({},o):{complete:t||!t&&e||y(o)&&o,duration:o,easing:t&&e||e&&!y(e)&&e};return E.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in E.fx.speeds?n.duration=E.fx.speeds[n.duration]:n.duration=E.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&E.dequeue(this,n.queue)},n},E.fn.extend({fadeTo:function(o,e,t,n){return this.filter(oe).css("opacity",0).show().end().animate({opacity:e},o,t,n)},animate:function(s,t,e,n){var r=E.isEmptyObject(s),i=E.speed(t,e,n),o=function(){var t=$e(this,E.extend({},s),i);(r||k.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(s,t,p){var d=function(o){var e=o.stop;delete o.stop,e(p)};return"string"!=typeof s&&(p=t,t=s,s=void 0),t&&this.queue(s||"fx",[]),this.each(function(){var o=!0,i=null!=s&&s+"queueHooks",a=E.timers,n=k.get(this);if(i)n[i]&&n[i].stop&&d(n[i]);else for(i in n)n[i]&&n[i].stop&&/queueHooks$/.test(i)&&d(n[i]);for(i=a.length;i--;)a[i].elem!==this||null!=s&&a[i].queue!==s||(a[i].anim.stop(p),o=!1,a.splice(i,1));!o&&p||E.dequeue(this,s)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var a=k.get(this),t=a[s+"queue"],n=a[s+"queueHooks"],r=E.timers,i=t?t.length:0,o;for(a.finish=!0,E.queue(this,s,[]),n&&n.stop&&n.stop.call(this,!0),o=r.length;o--;)r[o].elem===this&&r[o].queue===s&&(r[o].anim.stop(!0),r.splice(o,1));for(o=0;o<i;o++)t[o]&&t[o].finish&&t[o].finish.call(this);delete a.finish})}}),E.each(["toggle","show","hide"],function(t,o){var r=E.fn[o];E.fn[o]=function(i,e,t){return null==i||"boolean"==typeof i?r.apply(this,arguments):this.animate(Ke(o,!0),i,e,t)}}),E.each({slideDown:Ke("show"),slideUp:Ke("hide"),slideToggle:Ke("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,o){E.fn[t]=function(i,e,t){return this.animate(o,i,e,t)}}),E.timers=[],E.fx.tick=function(){var o=0,i=E.timers,n;for(Qe=Date.now();o<i.length;o++)(n=i[o])()||i[o]!==n||i.splice(o--,1);i.length||E.fx.stop(),Qe=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){vt||(vt=!0,He())},E.fx.stop=function(){vt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(o,t){return o=E.fx&&E.fx.speeds[o]||o,t=t||"fx",this.queue(t,function(i,e){var t=q.setTimeout(i,o);e.stop=function(){q.clearTimeout(t)}})},Pt=x.createElement("input"),Ot=x.createElement("select").appendChild(x.createElement("option")),Pt.type="checkbox",v.checkOn=""!==Pt.value,v.optSelected=Ot.selected,(Pt=x.createElement("input")).value="t",Pt.type="radio",v.radioValue="t"===Pt.value;var Dt=E.expr.attrHandle,dt;E.fn.extend({attr:function(o,e){return P(this,E.attr,o,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(a,e,t){var n=a.nodeType,o,s;if(3!==n&&8!==n&&2!==n)return"undefined"==typeof a.getAttribute?E.prop(a,e,t):(1===n&&E.isXMLDoc(a)||(s=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?dt:void 0)),void 0===t?s&&"get"in s&&null!==(o=s.get(a,e))?o:null==(o=E.find.attr(a,e))?void 0:o:null===t?void E.removeAttr(a,e):s&&"set"in s&&void 0!==(o=s.set(a,t,e))?o:(a.setAttribute(e,t+""),t))},attrHooks:{type:{set:function(o,e){if(!v.radioValue&&"radio"===e&&p(o,"input")){var t=o.value;return o.setAttribute("type",e),t&&(o.value=t),e}}}},removeAttr:function(o,e){var t=0,a=e&&e.match(N),i;if(a&&1===o.nodeType)for(;i=a[t++];)o.removeAttribute(i)}}),dt={set:function(o,e,t){return!1===e?E.removeAttr(o,t):o.setAttribute(t,t),t}},E.each(E.expr.match.bool.source.match(/\w+/g),function(o,e){var s=Dt[e]||E.find.attr;Dt[e]=function(a,e,t){var n=e.toLowerCase(),o,p;return t||(p=Dt[n],Dt[n]=o,o=null==s(a,e,t)?null:n,Dt[n]=p),o}});E.fn.extend({prop:function(o,e){return P(this,E.prop,o,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(a,e,s){var n=a.nodeType,o,p;if(3!==n&&8!==n&&2!==n)return 1===n&&E.isXMLDoc(a)||(e=E.propFix[e]||e,p=E.propHooks[e]),void 0===s?p&&"get"in p&&null!==(o=p.get(a,e))?o:a[e]:p&&"set"in p&&void 0!==(o=p.set(a,s,e))?o:a[e]=s},propHooks:{tabIndex:{get:function(o){var e=E.find.attr(o,"tabindex");return e?parseInt(e,10):/^(?:input|select|textarea|button)$/i.test(o.nodeName)||/^(?:a|area)$/i.test(o.nodeName)&&o.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(o){var e=o.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(o){var e=o.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(p){var t=0,d,l,g,c,_,m,f;if(y(p))return this.each(function(t){E(this).addClass(p.call(this,t,ot(this)))});if((d=at(p)).length)for(;l=this[t++];)if(c=ot(l),g=1===l.nodeType&&" "+et(c)+" "){for(m=0;_=d[m++];)0>g.indexOf(" "+_+" ")&&(g+=_+" ");c!==(f=et(g))&&l.setAttribute("class",f)}return this},removeClass:function(p){var t=0,d,l,g,c,_,m,f;if(y(p))return this.each(function(t){E(this).removeClass(p.call(this,t,ot(this)))});if(!arguments.length)return this.attr("class","");if((d=at(p)).length)for(;l=this[t++];)if(c=ot(l),g=1===l.nodeType&&" "+et(c)+" "){for(m=0;_=d[m++];)for(;-1<g.indexOf(" "+_+" ");)g=g.replace(" "+_+" "," ");c!==(f=et(g))&&l.setAttribute("class",f)}return this},toggleClass:function(s,n){var i=typeof s,o="string"==i||Array.isArray(s);return"boolean"==typeof n&&o?n?this.addClass(s):this.removeClass(s):y(s)?this.each(function(t){E(this).toggleClass(s.call(this,t,ot(this),n),n)}):this.each(function(){var a,p,d,l;if(o)for(p=0,d=E(this),l=at(s);a=l[p++];)d.hasClass(a)?d.removeClass(a):d.addClass(a);else void 0!==s&&"boolean"!==i||((a=ot(this))&&k.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||!1===s?"":k.get(this,"__className__")||""))})},hasClass:function(o){var e=0,i,a;for(i=" "+o+" ";a=this[e++];)if(1===a.nodeType&&-1<(" "+et(ot(a))+" ").indexOf(i))return!0;return!1}});E.fn.extend({val:function(o){var n=this[0],a,t,s;return arguments.length?(s=y(o),this.each(function(n){var e;1===this.nodeType&&(null==(e=s?o.call(this,n,E(this).val()):o)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=E.map(e,function(t){return null==t?"":t+""})),(a=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in a&&void 0!==a.set(this,e,"value")||(this.value=e))})):n?(a=E.valHooks[n.type]||E.valHooks[n.nodeName.toLowerCase()])&&"get"in a&&void 0!==(t=a.get(n,"value"))?t:"string"==typeof(t=n.value)?t.replace(/\r/g,""):null==t?"":t:void 0}}),E.extend({valHooks:{option:{get:function(o){var e=E.find.attr(o,"value");return null==e?et(E.text(o)):e}},select:{get:function(d){var e=d.options,i=d.selectedIndex,o="select-one"===d.type,a=o?null:[],s=o?i+1:e.length,l,g,c;for(c=0>i?s:o?i:0;c<s;c++)if(((g=e[c]).selected||c===i)&&!g.disabled&&(!g.parentNode.disabled||!p(g.parentNode,"optgroup"))){if(l=E(g).val(),o)return l;a.push(l)}return a},set:function(s,e){for(var t=s.options,i=E.makeArray(e),o=t.length,p,d;o--;)((d=t[o]).selected=-1<E.inArray(E.valHooks.option.get(d),i))&&(p=!0);return p,i}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(o,e){if(Array.isArray(e))return o.checked=-1<E.inArray(E(o).val(),e)}},v.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in q;var At=/^(?:focusinfocus|focusoutblur)$/,bt=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(g,_,C,I){var r=[C||x],p=Lt.call(g,"type")?g.type:g,b=Lt.call(g,"namespace")?g.namespace.split("."):[],S,N,v,T,P,R,O,D;if(N=D=v=C=C||x,3!==C.nodeType&&8!==C.nodeType&&!At.test(p+E.event.triggered)&&(-1<p.indexOf(".")&&(p=(b=p.split(".")).shift(),b.sort()),P=0>p.indexOf(":")&&"on"+p,(g=g[E.expando]?g:new E.Event(p,"object"==typeof g&&g)).isTrigger=I?2:3,g.namespace=b.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=C),_=null==_?[g]:E.makeArray(_,[g]),O=E.event.special[p]||{},I||!O.trigger||!1!==O.trigger.apply(C,_))){if(!I&&!O.noBubble&&!m(C)){for(T=O.delegateType||p,At.test(T+p)||(N=N.parentNode);N;N=N.parentNode)r.push(N),v=N;v===(C.ownerDocument||x)&&r.push(v.defaultView||v.parentWindow||q)}for(S=0;(N=r[S++])&&!g.isPropagationStopped();)D=N,g.type=1<S?T:O.bindType||p,(R=(k.get(N,"events")||Object.create(null))[g.type]&&k.get(N,"handle"))&&R.apply(N,_),(R=P&&N[P])&&R.apply&&z(N)&&(g.result=R.apply(N,_),!1===g.result&&g.preventDefault());return g.type=p,I||g.isDefaultPrevented()||O._default&&!1!==O._default.apply(r.pop(),_)||!z(C)||P&&y(C[p])&&!m(C)&&((v=C[P])&&(C[P]=null),E.event.triggered=p,g.isPropagationStopped()&&D.addEventListener(p,bt),C[p](),g.isPropagationStopped()&&D.removeEventListener(p,bt),E.event.triggered=void 0,v&&(C[P]=v)),g.result}},simulate:function(o,e,t){var n=E.extend(new E.Event,t,{type:o,isSimulated:!0});E.event.trigger(n,null,e)}}),E.fn.extend({trigger:function(o,e){return this.each(function(){E.event.trigger(o,e,this)})},triggerHandler:function(o,e){var t=this[0];if(t)return E.event.trigger(o,e,t,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(o,n){var r=function(t){E.event.simulate(n,t.target,E.event.fix(t))};E.event.special[n]={setup:function(){var i=this.ownerDocument||this.document||this,e=k.access(i,n);e||i.addEventListener(o,r,!0),k.access(i,n,(e||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,e=k.access(i,n)-1;e?k.access(i,n,e):(i.removeEventListener(o,r,!0),k.remove(i,n))}}});var wt=q.location,Tt={guid:Date.now()},Ct=/\?/;E.parseXML=function(o){var n;if(!o||"string"!=typeof o)return null;try{n=new q.DOMParser().parseFromString(o,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+o),n};var Et=/\[\]$/,St=/\r?\n/g;E.param=function(o,e){var a=[],t=function(o,e){var t=y(e)?e():e;a[a.length]=encodeURIComponent(o)+"="+encodeURIComponent(null==t?"":t)},i;if(null==o)return"";if(Array.isArray(o)||o.jquery&&!E.isPlainObject(o))E.each(o,function(){t(this.name,this.value)});else for(i in o)st(i,o[i],e,t);return a.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&/^(?:input|select|textarea|keygen)/i.test(this.nodeName)&&!/^(?:submit|button|image|reset|file)$/i.test(t)&&(this.checked||!ae.test(t))}).map(function(o,i){var e=E(this).val();return null==e?null:Array.isArray(e)?E.map(e,function(t){return{name:i.name,value:t.replace(St,"\r\n")}}):{name:i.name,value:e.replace(St,"\r\n")}}).get()}});var Ft={},Rt={},Mt="*/".concat("*"),It=x.createElement("a");It.href=wt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(o,e){return e?ct(ct(o,E.ajaxSettings),e):ct(E.ajaxSettings,o)},ajaxPrefilter:lt(Ft),ajaxTransport:lt(Rt),ajax:function(_,C){function I(p,d,t,n){var r=d,g,c,_,f,h;z||(z=!0,M&&q.clearTimeout(M),T=void 0,D=n||"",R.readyState=0<p?4:0,g=200<=p&&300>p||304===p,t&&(f=function(p,e,t){for(var n=p.contents,s=p.dataTypes,d,l,g,c;"*"===s[0];)s.shift(),void 0===d&&(d=p.mimeType||e.getResponseHeader("Content-Type"));if(d)for(l in n)if(n[l]&&n[l].test(d)){s.unshift(l);break}if(s[0]in t)g=s[0];else{for(l in t){if(!s[0]||p.converters[l+" "+s[0]]){g=l;break}c||(c=l)}g=g||c}return g?(g!==s[0]&&s.unshift(g),t[g]):void 0}(S,R,t)),!g&&-1<E.inArray("script",S.dataTypes)&&(S.converters["text script"]=function(){}),f=function(p,e,d,n){var r={},l=p.dataTypes.slice(),g,c,_,y,m;if(l[1])for(_ in p.converters)r[_.toLowerCase()]=p.converters[_];for(c=l.shift();c;)if(p.responseFields[c]&&(d[p.responseFields[c]]=e),!m&&n&&p.dataFilter&&(e=p.dataFilter(e,p.dataType)),m=c,c=l.shift())if("*"===c)c=m;else if("*"!==m&&m!==c){if(!(_=r[m+" "+c]||r["* "+c]))for(g in r)if((y=g.split(" "))[1]===c&&(_=r[m+" "+y[0]]||r["* "+y[0]])){!0===_?_=r[g]:!0!==r[g]&&(c=y[0],l.unshift(y[1]));break}if(!0!==_)if(_&&p.throws)e=_(e);else try{e=_(e)}catch(t){return{state:"parsererror",error:_?t:"No conversion from "+m+" to "+c}}}return{state:"success",data:e}}(S,f,R,g),g?(S.ifModified&&((h=R.getResponseHeader("Last-Modified"))&&(E.lastModified[O]=h),(h=R.getResponseHeader("etag"))&&(E.etag[O]=h)),204===p||"HEAD"===S.type?r="nocontent":304===p?r="notmodified":(r=f.state,c=f.data,g=!(_=f.error))):(_=r,!p&&r||(r="error",0>p&&(p=0))),R.status=p,R.statusText=(d||r)+"",g?m.resolveWith(v,[c,r,R]):m.rejectWith(v,[R,r,_]),R.statusCode(b),b=void 0,k&&y.trigger(g?"ajaxSuccess":"ajaxError",[R,S,g?c:_]),P.fireWith(v,[R,r]),k&&(y.trigger("ajaxComplete",[R,S]),--E.active||E.event.trigger("ajaxStop")))}"object"==typeof _&&(C=_,_=void 0),C=C||{};var S=E.ajaxSetup({},C),v=S.context||S,y=S.context&&(v.nodeType||v.jquery)?E(v):E.event,m=E.Deferred(),P=E.Callbacks("once memory"),b=S.statusCode||{},l={},a={},s="canceled",R={readyState:0,getResponseHeader:function(o){var e;if(z){if(!A)for(A={};e=/^(.*?):[ \t]*([^\r\n]*)$/gm.exec(D);)A[e[1].toLowerCase()+" "]=(A[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=A[o.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return z?D:null},setRequestHeader:function(o,n){return null==z&&(o=a[o.toLowerCase()]=a[o.toLowerCase()]||o,l[o]=n),this},overrideMimeType:function(t){return null==z&&(S.mimeType=t),this},statusCode:function(o){if(o)if(z)R.always(o[R.status]);else for(var e in o)b[e]=[b[e],o[e]];return this},abort:function(o){var e=o||s;return T&&T.abort(e),I(0,e),this}},T,O,D,A,M,F,z,k,B,G;if(m.promise(R),S.url=((_||S.url||wt.href)+"").replace(/^\/\//,wt.protocol+"//"),S.type=C.method||C.type||S.method||S.type,S.dataTypes=(S.dataType||"*").toLowerCase().match(N)||[""],null==S.crossDomain){F=x.createElement("a");try{F.href=S.url,F.href=F.href,S.crossDomain=It.protocol+"//"+It.host!=F.protocol+"//"+F.host}catch(t){S.crossDomain=!0}}if(S.data&&S.processData&&"string"!=typeof S.data&&(S.data=E.param(S.data,S.traditional)),gt(Ft,S,C,R),z)return R;for(B in(k=E.event&&S.global)&&0==E.active++&&E.event.trigger("ajaxStart"),S.type=S.type.toUpperCase(),S.hasContent=!/^(?:GET|HEAD)$/.test(S.type),O=S.url.replace(/#.*$/,""),S.hasContent?S.data&&S.processData&&0===(S.contentType||"").indexOf("application/x-www-form-urlencoded")&&(S.data=S.data.replace(/%20/g,"+")):(G=S.url.slice(O.length),S.data&&(S.processData||"string"==typeof S.data)&&(O+=(Ct.test(O)?"&":"?")+S.data,delete S.data),!1===S.cache&&(O=O.replace(/([?&])_=[^&]*/,"$1"),G=(Ct.test(O)?"&":"?")+"_="+Tt.guid++ +G),S.url=O+G),S.ifModified&&(E.lastModified[O]&&R.setRequestHeader("If-Modified-Since",E.lastModified[O]),E.etag[O]&&R.setRequestHeader("If-None-Match",E.etag[O])),(S.data&&S.hasContent&&!1!==S.contentType||C.contentType)&&R.setRequestHeader("Content-Type",S.contentType),R.setRequestHeader("Accept",S.dataTypes[0]&&S.accepts[S.dataTypes[0]]?S.accepts[S.dataTypes[0]]+("*"===S.dataTypes[0]?"":", */*; q=0.01"):S.accepts["*"]),S.headers)R.setRequestHeader(B,S.headers[B]);if(S.beforeSend&&(!1===S.beforeSend.call(v,R,S)||z))return R.abort();if(s="abort",P.add(S.complete),R.done(S.success),R.fail(S.error),T=gt(Rt,S,C,R)){if(R.readyState=1,k&&y.trigger("ajaxSend",[R,S]),z)return R;S.async&&0<S.timeout&&(M=q.setTimeout(function(){R.abort("timeout")},S.timeout));try{z=!1,T.send(l,I)}catch(t){if(z)throw t;I(-1,t)}}else I(-1,"No Transport");return R},getJSON:function(o,e,t){return E.get(o,e,t,"json")},getScript:function(o,e){return E.get(o,void 0,e,"script")}}),E.each(["get","post"],function(t,o){E[o]=function(i,e,a,s){return y(e)&&(s=s||a,a=e,e=void 0),E.ajax(E.extend({url:i,type:o,dataType:s,data:e,success:a},E.isPlainObject(i)&&i))}}),E.ajaxPrefilter(function(o){for(var e in o.headers)"content-type"===e.toLowerCase()&&(o.contentType=o.headers[e]||"")}),E._evalUrl=function(o,i,t){return E.ajax({url:o,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(o){E.globalEval(o,i,t)}})},E.fn.extend({wrapAll:function(o){var n;return this[0]&&(y(o)&&(o=o.call(this[0])),n=E(o,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(o){return y(o)?this.each(function(t){E(this).wrapInner(o.call(this,t))}):this.each(function(){var n=E(this),e=n.contents();e.length?e.wrapAll(o):n.append(o)})},wrap:function(o){var t=y(o);return this.each(function(n){E(this).wrapAll(t?o.call(this,n):o)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new q.XMLHttpRequest}catch(t){}};var kt={0:200,1223:204},_t=E.ajaxSettings.xhr();v.cors=!!_t&&"withCredentials"in _t,v.ajax=_t=!!_t,E.ajaxTransport(function(s){var i,p;if(v.cors||_t&&!s.crossDomain)return{send:function(o,a){var t=s.xhr(),e;if(t.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(e in s.xhrFields)t[e]=s.xhrFields[e];for(e in s.mimeType&&t.overrideMimeType&&t.overrideMimeType(s.mimeType),s.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)t.setRequestHeader(e,o[e]);i=function(o){return function(){i&&(i=p=t.onload=t.onerror=t.onabort=t.ontimeout=t.onreadystatechange=null,"abort"===o?t.abort():"error"===o?"number"==typeof t.status?a(t.status,t.statusText):a(0,"error"):a(kt[t.status]||t.status,t.statusText,"text"!==(t.responseType||"text")||"string"!=typeof t.responseText?{binary:t.response}:{text:t.responseText},t.getAllResponseHeaders()))}},t.onload=i(),p=t.onerror=t.ontimeout=i("error"),void 0===t.onabort?t.onreadystatechange=function(){4===t.readyState&&q.setTimeout(function(){i&&p()})}:t.onabort=p,i=i("abort");try{t.send(s.hasContent&&s.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(o){var n,a;if(o.crossDomain||o.scriptAttrs)return{send:function(i,r){n=E("<script>").attr(o.scriptAttrs||{}).prop({charset:o.scriptCharset,src:o.url}).on("load error",a=function(t){n.remove(),a=null,t&&r("error"===t.type?404:200,t.type)}),x.head.appendChild(n[0])},abort:function(){a&&a()}}});var Bt=[],Gt=/(=)\?(?=&|$)|\?\?/,qt;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Bt.pop()||E.expando+"_"+Tt.guid++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(s,e,t){var n=!1!==s.jsonp&&(Gt.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(s.data)&&"data"),a,p,d;if(n||"jsonp"===s.dataTypes[0])return a=s.jsonpCallback=y(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,n?s[n]=s[n].replace(Gt,"$1"+a):!1!==s.jsonp&&(s.url+=(Ct.test(s.url)?"&":"?")+s.jsonp+"="+a),s.converters["script json"]=function(){return d||E.error(a+" was not called"),d[0]},s.dataTypes[0]="json",p=q[a],q[a]=function(){d=arguments},t.always(function(){void 0===p?E(q).removeProp(a):q[a]=p,s[a]&&(s.jsonpCallback=e.jsonpCallback,Bt.push(a)),d&&y(p)&&p(d[0]),d=p=void 0}),"script"}),v.createHTMLDocument=((qt=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),E.parseHTML=function(a,e,s){return"string"==typeof a?("boolean"==typeof e&&(s=e,e=!1),e||(v.createHTMLDocument?((p=(e=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,e.head.appendChild(p)):e=x),l=!s&&[],(d=f.exec(a))?[e.createElement(d[1])]:(d=ye([a],e,l),l&&l.length&&E(l).remove(),E.merge([],d.childNodes))):[];var p,d,l},E.fn.load=function(p,d,l){var g=this,a=p.indexOf(" "),s,c,_;return-1<a&&(s=et(p.slice(a)),p=p.slice(0,a)),y(d)?(l=d,d=void 0):d&&"object"==typeof d&&(c="POST"),0<g.length&&E.ajax({url:p,type:c||"GET",dataType:"html",data:d}).done(function(t){_=arguments,g.html(s?E("<div>").append(E.parseHTML(t)).find(s):t)}).always(l&&function(o,e){g.each(function(){l.apply(this,_||[o.responseText,e,o])})}),this},E.expr.pseudos.animated=function(o){return E.grep(E.timers,function(t){return o===t.elem}).length},E.offset={setOffset:function(p,e,d){var n=E.css(p,"position"),l=E(p),g={},c,_,m,f,h,x;"static"===n&&(p.style.position="relative"),h=l.offset(),m=E.css(p,"top"),x=E.css(p,"left"),("absolute"===n||"fixed"===n)&&-1<(m+x).indexOf("auto")?(f=(c=l.position()).top,_=c.left):(f=parseFloat(m)||0,_=parseFloat(x)||0),y(e)&&(e=e.call(p,d,E.extend({},h))),null!=e.top&&(g.top=e.top-h.top+f),null!=e.left&&(g.left=e.left-h.left+_),"using"in e?e.using.call(p,g):("number"==typeof g.top&&(g.top+="px"),"number"==typeof g.left&&(g.left+="px"),l.css(g))}},E.fn.extend({offset:function(o){if(arguments.length)return void 0===o?this:this.each(function(t){E.offset.setOffset(this,o,t)});var t=this[0],i,r;return t?t.getClientRects().length?(i=t.getBoundingClientRect(),r=t.ownerDocument.defaultView,{top:i.top+r.pageYOffset,left:i.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var o=this[0],r={top:0,left:0},a,s,p;if("fixed"===E.css(o,"position"))s=o.getBoundingClientRect();else{for(s=this.offset(),p=o.ownerDocument,a=o.offsetParent||p.documentElement;a&&(a===p.body||a===p.documentElement)&&"static"===E.css(a,"position");)a=a.parentNode;a&&a!==o&&1===a.nodeType&&((r=E(a).offset()).top+=E.css(a,"borderTopWidth",!0),r.left+=E.css(a,"borderLeftWidth",!0))}return{top:s.top-r.top-E.css(o,"marginTop",!0),left:s.left-r.left-E.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||ee})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,a){var i="pageYOffset"===a;E.fn[n]=function(t){return P(this,function(o,e,t){var n;return(m(o)?n=o:9===o.nodeType&&(n=o.defaultView),void 0===t)?n?n[a]:o[e]:void(n?n.scrollTo(i?n.pageXOffset:t,i?t:n.pageYOffset):o[e]=t)},n,t,arguments.length)}}),E.each(["top","left"],function(t,o){E.cssHooks[o]=we(v.pixelPosition,function(n,e){if(e)return e=Re(n,o),je.test(e)?E(n).position()[o]+"px":e})}),E.each({Height:"height",Width:"width"},function(p,a){E.each({padding:"inner"+p,content:a,"":"outer"+p},function(s,d){E.fn[d]=function(o,e){var t=arguments.length&&(s||"boolean"!=typeof o),l=s||(!0===o||!0===e?"margin":"border");return P(this,function(o,e,t){var n;return m(o)?0===d.indexOf("outer")?o["inner"+p]:o.document.documentElement["client"+p]:9===o.nodeType?(n=o.documentElement,yt(o.body["scroll"+p],n["scroll"+p],o.body["offset"+p],n["offset"+p],n["client"+p])):void 0===t?E.css(o,e,l):E.style(o,e,t,l)},a,t?o:void 0,t)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(o,n){E.fn[n]=function(t){return this.on(n,t)}}),E.fn.extend({bind:function(o,e,t){return this.on(o,null,e,t)},unbind:function(o,e){return this.off(o,null,e)},delegate:function(o,e,t,n){return this.on(e,o,t,n)},undelegate:function(o,e,t){return 1===arguments.length?this.off(o,"**"):this.off(e,o||"**",t)},hover:function(o,e){return this.mouseenter(o).mouseleave(e||o)}}),E.each(["blur","focus","focusin","focusout","resize","scroll","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","submit","keydown","keypress","keyup","contextmenu"],function(t,o){E.fn[o]=function(n,e){return 0<arguments.length?this.on(o,null,n,e):this.trigger(o)}});E.proxy=function(o,a){var s,p,d;if("string"==typeof a&&(s=o[a],a=o,o=s),y(o))return p=ht.call(arguments,2),(d=function(){return o.apply(a||this,p.concat(ht.call(arguments)))}).guid=o.guid=o.guid||E.guid++,d},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=p,E.isFunction=y,E.isWindow=m,E.camelCase=B,E.type=b,E.now=Date.now,E.isNumeric=function(o){var e=E.type(o);return("number"===e||"string"===e)&&!isNaN(o-parseFloat(o))},E.trim=function(t){return null==t?"":(t+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var jt=q.jQuery,Vt=q.$;return E.noConflict=function(t){return q.$===E&&(q.$=Vt),t&&q.jQuery===E&&(q.jQuery=jt),E},"undefined"==typeof C&&(q.jQuery=q.$=E),E}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.L={})}(this,function(U){"use strict";var Ao=Math.atan,Mo=Math.exp,wo=Math.sin,Fo=Math.LN2,zo=Math.log,ko=Math.min,Bo=Math.floor,Go=Math.sqrt,qo=Math.abs,jo=Math.pow,Uo=Math.cos,Vo=Math.PI,Zo=Math.round,Ho=Math.ceil,Xo=Math.max;function ne(r){for(var t=1,a=arguments.length,o,s;t<a;t++)for(o in s=arguments[t])r[o]=s[o];return r}function h(){}function ye(o,t){var i=Array.prototype.slice;if(o.bind)return o.bind.apply(o,i.call(arguments,1));var e=i.call(arguments,2);return function(){return o.apply(t,e.length?e.concat(i.call(arguments)):arguments)}}function fe(e){return e._leaflet_id=e._leaflet_id||++s,e._leaflet_id}function i(a,t,i){var e=function(){r=!1,p&&(s.apply(i,p),p=!1)},s=function(){r?p=arguments:(a.apply(i,arguments),setTimeout(e,t),r=!0)},r,p;return s}function n(r,t,i){var e=t[1],n=t[0],o=e-n;return r===e&&i?r:((r-n)%o+o)%o+n}function p(){return!1}function o(o,t){var n=jo(10,void 0===t?6:t);return Zo(o*n)/n}function r(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function a(e){return r(e).split(/\s+/)}function l(o,t){for(var n in Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?Yo(o.options):{}),t)o.options[n]=t[n];return o.options}function c(r,t,i){var e=[];for(var n in r)e.push(encodeURIComponent(i?n.toUpperCase():n)+"="+encodeURIComponent(r[n]));return(t&&-1!==t.indexOf("?")?"&":"?")+e.join("&")}function _(e,o){return e.replace(Wo,function(n,t){var i=o[t];if(void 0===i)throw new Error("No value provided for variable "+n);return"function"==typeof i&&(i=i(o)),i})}function t(o,t){for(var n=0;n<o.length;n++)if(o[n]===t)return n;return-1}function u(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function m(o){var t=+new Date,n=Xo(0,16-(t-y));return y=t+n,window.setTimeout(o,n)}function x(o,t,n){return n&&Ko===m?void o.call(t):Ko.call(window,ye(o,t))}function f(e){e&&b.call(window,e)}function v(){}function S(o,t,n){this.x=n?Zo(o):o,this.y=n?Zo(t):t}function P(o,t,n){return o instanceof S?o:d(o)?new S(o[0],o[1]):null==o?o:"object"==typeof o&&"x"in o&&"y"in o?new S(o.x,o.y):new S(o,t,n)}function A(r,t){if(r)for(var i=t?[r,t]:r,e=0,a=i.length;e<a;e++)this.extend(i[e])}function I(e,t){return!e||e instanceof A?e:new A(e,t)}function O(r,t){if(r)for(var i=t?[r,t]:r,e=0,a=i.length;e<a;e++)this.extend(i[e])}function R(e,t){return e instanceof O?e:new O(e,t)}function N(o,t,n){if(isNaN(o)||isNaN(t))throw new Error("Invalid LatLng object: ("+o+", "+t+")");this.lat=+o,this.lng=+t,void 0!==n&&(this.alt=+n)}function D(o,t,n){return o instanceof N?o:d(o)&&"object"!=typeof o[0]?3===o.length?new N(o[0],o[1],o[2]):2===o.length?new N(o[0],o[1]):null:null==o?o:"object"==typeof o&&"lat"in o?new N(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===t?null:new N(o,t,n)}function M(o,t,i,e){return d(o)?(this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3])):void(this._a=o,this._b=t,this._c=i,this._d=e)}function z(o,t,i,e){return new M(o,t,i,e)}function k(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function G(p,t){for(var i="",d=0,l=p.length,g,c,_,u;d<l;d++){for(g=0,c=(_=p[d]).length;g<c;g++)i+=(g?"L":"M")+(u=_[g]).x+" "+u.y;i+=t?St?"z":"x":""}return i||"M0 0"}function q(e){return 0<=navigator.userAgent.toLowerCase().indexOf(e)}function j(p,t,i,e){function n(e){xt(e,g)}function o(e){e.pointerType===(e.MSPOINTER_TYPE_MOUSE||"mouse")&&0===e.buttons||xt(e,m)}var d,g,y,m,f,x,E,C;return"touchstart"===t?(f=p,x=i,E=e,C=ye(function(e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Io(e),xt(e,x)}),f["_leaflet_touchstart"+E]=C,f.addEventListener(Et,C,!1),Nt||(document.addEventListener(Et,J,!0),document.addEventListener(At,Pe,!0),document.addEventListener(It,Ye,!0),document.addEventListener(Ot,Ye,!0),Nt=!0)):"touchmove"===t?(m=i,(y=p)["_leaflet_touchmove"+e]=o,y.addEventListener(At,o,!1)):"touchend"==t&&(g=i,(d=p)["_leaflet_touchend"+e]=n,d.addEventListener(It,n,!1),d.addEventListener(Ot,n,!1)),this}function J(e){Rt[e.pointerId]=e}function Pe(e){Rt[e.pointerId]&&(Rt[e.pointerId]=e)}function Ye(e){delete Rt[e.pointerId]}function xt(o,t){for(var n in o.touches=[],Rt)o.touches.push(Rt[n]);o.changedTouches=[o],t(o)}function Mt(e){return"string"==typeof e?document.getElementById(e):e}function wt(o,t){var i=o.style[t]||o.currentStyle&&o.currentStyle[t],r;return i&&"auto"!==i||!document.defaultView||(i=(r=document.defaultView.getComputedStyle(o,null))?r[t]:null),"auto"===i?null:i}function Ft(o,t,i){var e=document.createElement(o);return e.className=t||"",i&&i.appendChild(e),e}function kt(e){var t=e.parentNode;t&&t.removeChild(e)}function Bt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function jt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Ut(o,t){if(void 0!==o.classList)return o.classList.contains(t);var n=to(o);return 0<n.length&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function Ht(r,t){var i;if(void 0!==r.classList)for(var p=a(t),n=0,d=p.length;n<d;n++)r.classList.add(p[n]);else Ut(r,t)||eo(r,((i=to(r))?i+" ":"")+t)}function Wt(e,t){void 0===e.classList?eo(e,r((" "+to(e)+" ").replace(" "+t+" "," "))):e.classList.remove(t)}function eo(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function to(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function oo(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(o,n){var t=!1;try{t=o.filters.item("DXImageTransform.Microsoft.Alpha")}catch(e){if(1===n)return}n=Zo(100*n),t?(t.Enabled=100!==n,t.Opacity=n):o.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+n+")"}(e,t)}function no(o){for(var t=document.documentElement.style,n=0;n<o.length;n++)if(o[n]in t)return o[n];return!1}function io(o,t,i){var e=t||new S(0,0);o.style[qt]=(pt?"translate("+e.x+"px,"+e.y+"px)":"translate3d("+e.x+"px,"+e.y+"px,0)")+(i?" scale("+i+")":"")}function ro(e,t){e._leaflet_pos=t,gt?io(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function ao(e){return e._leaflet_pos||new S(0,0)}function so(){uo(window,"dragstart",Io)}function po(){yo(window,"dragstart",Io)}function lo(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(go(),Sn=(In=e).style.outline,e.style.outline="none",uo(window,"keydown",go))}function go(){In&&(In.style.outline=Sn,Sn=In=void 0,yo(window,"keydown",go))}function co(e){for(;!((e=e.parentNode).offsetWidth&&e.offsetHeight||e===document.body););return e}function _o(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}function uo(p,t,d,e){if("object"==typeof t)for(var n in t)fo(p,n,t[n],d);else for(var o=0,l=(t=a(t)).length;o<l;o++)fo(p,t[o],d,e);return this}function yo(p,t,d,e){if("object"==typeof t)for(var n in t)ho(p,n,t[n],d);else if(t)for(var o=0,l=(t=a(t)).length;o<l;o++)ho(p,t[o],d,e);else{for(var r in p._leaflet_events)ho(p,r,p._leaflet_events[r]);delete p._leaflet_events}return this}function mo(){return Pt&&!it&&!lt}function fo(g,i,y,e){function t(o){if(Pt){if(!o.isPrimary)return;if("mouse"===o.pointerType)return}else if(1<o.touches.length)return;var t=Date.now(),n=t-(x||t);E=o.touches?o.touches[0]:o,C=0<n&&250>=n,x=t}function n(o){if(C&&!E.cancelBubble){if(Pt){if("mouse"===o.pointerType)return;var t={},n,r;for(r in E)n=E[r],t[r]=n&&n.bind?n.bind(E):n;E=t}E.type="dblclick",E.button=0,m(E),x=null}}var p=i+fe(y)+(e?"_"+fe(e):"");if(g._leaflet_events&&g._leaflet_events[p])return this;var o=function(o){return y.call(e||g,o||window.event)},d=o,_,m,f,x,E,C;Pt&&0===i.indexOf("touch")?j(g,i,o,p):Lt&&"dblclick"===i&&!mo()?(m=o,C=!1,(_=g)["_leaflet_"+Qo+(f=p)]=t,_["_leaflet_"+Vt+f]=n,_["_leaflet_dblclick"+f]=m,_.addEventListener(Qo,t,!!zt&&{passive:!1}),_.addEventListener(Vt,n,!!zt&&{passive:!1}),_.addEventListener("dblclick",m,!1)):"addEventListener"in g?"touchstart"===i||"touchmove"===i||"wheel"===i||"mousewheel"===i?g.addEventListener(Tn[i]||i,o,!!zt&&{passive:!1}):"mouseenter"===i||"mouseleave"===i?(o=function(e){e=e||window.event,To(g,e)&&d(e)},g.addEventListener(Tn[i],o,!1)):g.addEventListener(i,d,!1):"attachEvent"in g&&g.attachEvent("on"+i,o),g._leaflet_events=g._leaflet_events||{},g._leaflet_events[p]=o}function ho(p,t,i,e){var n=t+fe(i)+(e?"_"+fe(e):""),g=p._leaflet_events&&p._leaflet_events[n],d,_,y,m,f,x,E,C;return g?void(Pt&&0===t.indexOf("touch")?(C=(x=p)["_leaflet_"+(E=t)+n],"touchstart"===E?x.removeEventListener(Et,C,!1):"touchmove"===E?x.removeEventListener(At,C,!1):"touchend"===E&&(x.removeEventListener(It,C,!1),x.removeEventListener(Ot,C,!1))):Lt&&"dblclick"===t&&!mo()?(y=(d=p)["_leaflet_"+Qo+(_=n)],m=d["_leaflet_"+Vt+_],f=d["_leaflet_dblclick"+_],d.removeEventListener(Qo,y,!!zt&&{passive:!1}),d.removeEventListener(Vt,m,!!zt&&{passive:!1}),d.removeEventListener("dblclick",f,!1)):"removeEventListener"in p?p.removeEventListener(Tn[t]||t,g,!1):"detachEvent"in p&&p.detachEvent("on"+t,g),p._leaflet_events[n]=null):this}function xo(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,vo(e),this}function Eo(e){return fo(e,"wheel",xo),this}function Co(e){return uo(e,"mousedown touchstart dblclick",xo),fo(e,"click",No),this}function Io(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function bo(e){return Io(e),xo(e),this}function Lo(o,t){if(!t)return new S(o.clientX,o.clientY);var i=_o(t),e=i.boundingClientRect;return new S((o.clientX-e.left)/i.x-t.clientLeft,(o.clientY-e.top)/i.y-t.clientTop)}function So(e){return it?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Rn:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&32765>qo(e.detail)?20*-e.detail:e.detail?60*(e.detail/-32765):0}function No(e){On[e.type]=!0}function vo(e){var t=On[e.type];return On[e.type]=!1,t}function To(o,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==o;)n=n.parentNode}catch(e){return!1}return n!==o}function Po(e){return new Mn(e)}function Ro(o,n){if(!n||!o.length)return o.slice();var i=n*n;return o=function(r,t){var i=r.length,e=new(typeof Uint8Array=="undefined"?Array:Uint8Array)(i);e[0]=e[i-1]=1,function p(t,i,e,n,o){var s=0,d,l,g;for(l=n+1;l<=o-1;l++)g=_e(t[l],t[n],t[o],!0),s<g&&(d=l,s=g);e<s&&(i[d]=1,p(t,i,e,n,d),p(t,i,e,d,o))}(r,e,t,0,i-1);var n=[],a;for(a=0;a<i;a++)e[a]&&n.push(r[a]);return n}(o=function(r,t){for(var i=[r[0]],e=1,a=0,p=r.length;e<p;e++)(function(o,t){var i=t.x-o.x,e=t.y-o.y;return i*i+e*e})(r[e],r[a])>t&&(i.push(r[e]),a=e);return a<p-1&&i.push(r[p-1]),i}(o,i),i)}function he(o,t,n){return Go(_e(o,t,n,!0))}function ue(p,d,l,e,n){var o=e?Te:ce(p,l),g=ce(d,l),c,_,y;for(Te=g;;){if(!(o|g))return[p,d];if(o&g)return!1;y=ce(_=le(p,d,c=o||g,l,n),l),c===o?(p=_,o=y):(d=_,g=y)}}function le(p,t,i,e,n){var o=t.x-p.x,a=t.y-p.y,d=e.min,g=e.max,l,c;return 8&i?(l=p.x+o*(g.y-p.y)/a,c=g.y):4&i?(l=p.x+o*(d.y-p.y)/a,c=d.y):2&i?(l=g.x,c=p.y+a*(g.x-p.x)/o):1&i&&(l=d.x,c=p.y+a*(d.x-p.x)/o),new S(l,c,n)}function ce(o,t){var n=0;return o.x<t.min.x?n|=1:o.x>t.max.x&&(n|=2),o.y<t.min.y?n|=4:o.y>t.max.y&&(n|=8),n}function _e(p,t,i,e){var n=t.x,d=t.y,l=i.x-n,g=i.y-d,c=l*l+g*g,_;return 0<c&&(1<(_=((p.x-n)*l+(p.y-d)*g)/c)?(n=i.x,d=i.y):0<_&&(n+=l*_,d+=g*_)),l=p.x-n,g=p.y-d,e?l*l+g*g:new S(n,d)}function de(e){return!d(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function pe(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),de(e)}function me(p,d,i){for(var e=[1,4,2,8],l=0,g=p.length,y,m,f,x,E,C,I;l<g;l++)p[l]._code=ce(p[l],d);for(f=0;4>f;f++){for(C=e[f],y=[],l=0,m=(g=p.length)-1;l<g;m=l++)x=p[l],E=p[m],x._code&C?E._code&C||((I=le(E,x,C,d,i))._code=ce(I,d),y.push(I)):(E._code&C&&((I=le(E,x,C,d,i))._code=ce(I,d),y.push(I)),y.push(x));p=y}return p}function ge(p,t){var i="Feature"===p.type?p.geometry:p,r=i?i.coordinates:null,a=[],d=t&&t.pointToLayer,g=t&&t.coordsToLatLng||je,l,_,u,y;if(!r&&!i)return null;switch(i.type){case"Point":return De(d,p,l=g(r),t);case"MultiPoint":for(u=0,y=r.length;u<y;u++)l=g(r[u]),a.push(De(d,p,l,t));return new ze(a);case"LineString":case"MultiLineString":return _=We(r,"LineString"===i.type?0:1,g),new Ie(_,t);case"Polygon":case"MultiPolygon":return _=We(r,"Polygon"===i.type?1:2,g),new Oe(_,t);case"GeometryCollection":for(u=0,y=i.geometries.length;u<y;u++){var m=ge({geometry:i.geometries[u],type:"Feature",properties:p.properties},t);m&&a.push(m)}return new ze(a);default:throw new Error("Invalid GeoJSON object.");}}function De(o,t,i,e){return o?o(t,i):new Ee(i,e&&e.markersInheritOptions&&e)}function je(e){return new N(e[1],e[0],e[2])}function We(a,t,i){for(var e=[],o=0,p=a.length,r;o<p;o++)r=t?We(a[o],t-1,i):(i||je)(a[o]),e.push(r);return e}function He(e,t){return t="number"==typeof t?t:6,void 0===e.alt?[o(e.lng,t),o(e.lat,t)]:[o(e.lng,t),o(e.lat,t),o(e.alt,t)]}function Fe(a,t,i,e){for(var n=[],o=0,p=a.length;o<p;o++)n.push(t?Fe(a[o],t-1,i,e):He(a[o],e));return!t&&i&&n.push(n[0]),n}function Ue(e,t){return e.feature?ne({},e.feature,{geometry:t}):Ve(t)}function Ve(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}function qe(e,t){return new Re(e,t)}function Ke(e,t){return new on(e,t)}function Oo(e){return Ct?new hn(e):null}function Do(e){return St||Zt?new dn(e):null}var Yo=Object.create||function(e){return h.prototype=e,new h},s=0,Wo=/\{ *([\w_-]+) *\}/g,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},g="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",y=0,Ko=window.requestAnimationFrame||u("RequestAnimationFrame")||m,b=window.cancelAnimationFrame||u("CancelAnimationFrame")||u("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)},T={extend:ne,create:Yo,bind:ye,lastId:s,stamp:fe,throttle:i,wrapNum:n,falseFn:p,formatNum:o,trim:r,splitWords:a,setOptions:l,getParamString:c,template:_,isArray:d,indexOf:t,emptyImageUrl:g,requestFn:Ko,cancelFn:b,requestAnimFrame:x,cancelAnimFrame:f};v.extend=function(r){function t(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var a=t.__super__=this.prototype,e=Yo(a);for(var n in(e.constructor=t).prototype=e,this)Object.prototype.hasOwnProperty.call(this,n)&&"prototype"!==n&&"__super__"!==n&&(t[n]=this[n]);return r.statics&&(ne(t,r.statics),delete r.statics),r.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=d(e)?e:[e];for(var o=0;o<e.length;o++)e[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}(r.includes),ne.apply(null,[e].concat(r.includes)),delete r.includes),e.options&&(r.options=ne(Yo(e.options),r.options)),ne(e,r),e._initHooks=[],e.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var o=0,n=e._initHooks.length;o<n;o++)e._initHooks[o].call(this)}},t},v.include=function(e){return ne(this.prototype,e),this},v.mergeOptions=function(e){return ne(this.prototype.options,e),this},v.addInitHook=function(o){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof o?o:function(){this[o].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var C={on:function(r,p,i){if("object"==typeof r)for(var e in r)this._on(e,r[e],p);else for(var n=0,d=(r=a(r)).length;n<d;n++)this._on(r[n],p,i);return this},off:function(r,p,i){if(!r)delete this._events;else if("object"==typeof r)for(var e in r)this._off(e,r[e],p);else for(var n=0,d=(r=a(r)).length;n<d;n++)this._off(r[n],p,i);return this},_on:function(p,t,i){this._events=this._events||{};var d=this._events[p];d||(d=[],this._events[p]=d),i===this&&(i=void 0);for(var l={fn:t,ctx:i},o=d,s=0,g=o.length;s<g;s++)if(o[s].fn===t&&o[s].ctx===i)return;o.push(l)},_off:function(a,t,i){var d,l,g;if(this._events&&(d=this._events[a]))if(!t){for(l=0,g=d.length;l<g;l++)d[l].fn=p;delete this._events[a]}else if(i===this&&(i=void 0),d)for(l=0,g=d.length;l<g;l++){var c=d[l];if(c.ctx===i&&c.fn===t)return c.fn=p,this._firingCount&&(this._events[a]=d=d.slice()),void d.splice(l,1)}},fire:function(p,t,i){if(!this.listens(p,i))return this;var e=ne({},t,{type:p,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var n=this._events[p];if(n){this._firingCount=this._firingCount+1||1;for(var o=0,d=n.length,r;o<d;o++)r=n[o],r.fn.call(r.ctx||this,e);this._firingCount--}}return i&&this._propagateEvent(e),this},listens:function(o,t){var i=this._events&&this._events[o];if(i&&i.length)return!0;if(t)for(var e in this._eventParents)if(this._eventParents[e].listens(o,t))return!0;return!1},once:function(r,t,i){if("object"==typeof r){for(var e in r)this.once(e,r[e],t);return this}var n=ye(function(){this.off(r,t,i).off(r,n,i)},this);return this.on(r,t,i).on(r,n,i)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[fe(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[fe(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,ne({layer:e.target,propagatedFrom:e.target},e),!0)}};C.addEventListener=C.on,C.removeEventListener=C.clearAllEventListeners=C.off,C.addOneTimeEventListener=C.once,C.fireEvent=C.fire,C.hasEventListeners=C.listens;var Z=v.extend(C),E=Math.trunc||function(e){return 0<e?Bo(e):Ho(e)};S.prototype={clone:function(){return new S(this.x,this.y)},add:function(e){return this.clone()._add(P(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(P(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new S(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new S(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Zo(this.x),this.y=Zo(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Bo(this.x),this.y=Bo(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Ho(this.x),this.y=Ho(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=E(this.x),this.y=E(this.y),this},distanceTo:function(o){var n=(o=P(o)).x-this.x,i=o.y-this.y;return Go(n*n+i*i)},equals:function(e){return(e=P(e)).x===this.x&&e.y===this.y},contains:function(e){return e=P(e),qo(e.x)<=qo(this.x)&&qo(e.y)<=qo(this.y)},toString:function(){return"Point("+o(this.x)+", "+o(this.y)+")"}},A.prototype={extend:function(e){return e=P(e),this.min||this.max?(this.min.x=ko(e.x,this.min.x),this.max.x=Xo(e.x,this.max.x),this.min.y=ko(e.y,this.min.y),this.max.y=Xo(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new S((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new S(this.min.x,this.max.y)},getTopRight:function(){return new S(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var n,r;return(o=("number"==typeof o[0]||o instanceof S?P:I)(o))instanceof A?(n=o.min,r=o.max):n=r=o,n.x>=this.min.x&&r.x<=this.max.x&&n.y>=this.min.y&&r.y<=this.max.y},intersects:function(a){a=I(a);var p=this.min,i=this.max,e=a.min,n=a.max,o=n.x>=p.x&&e.x<=i.x,s=n.y>=p.y&&e.y<=i.y;return o&&s},overlaps:function(a){a=I(a);var p=this.min,i=this.max,e=a.min,n=a.max,o=n.x>p.x&&e.x<i.x,s=n.y>p.y&&e.y<i.y;return o&&s},isValid:function(){return this.min&&this.max}},O.prototype={extend:function(r){var t=this._southWest,n=this._northEast,o,a;if(r instanceof N)a=o=r;else{if(!(r instanceof O))return r?this.extend(D(r)||R(r)):this;if(o=r._southWest,a=r._northEast,!o||!a)return this}return t||n?(t.lat=ko(o.lat,t.lat),t.lng=ko(o.lng,t.lng),n.lat=Xo(a.lat,n.lat),n.lng=Xo(a.lng,n.lng)):(this._southWest=new N(o.lat,o.lng),this._northEast=new N(a.lat,a.lng)),this},pad:function(r){var t=this._southWest,i=this._northEast,e=qo(t.lat-i.lat)*r,n=qo(t.lng-i.lng)*r;return new O(new N(t.lat-e,t.lng-n),new N(i.lat+e,i.lng+n))},getCenter:function(){return new N((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new N(this.getNorth(),this.getWest())},getSouthEast:function(){return new N(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){r=("number"==typeof r[0]||r instanceof N||"lat"in r?D:R)(r);var a=this._southWest,n=this._northEast,o,s;return r instanceof O?(o=r.getSouthWest(),s=r.getNorthEast()):o=s=r,o.lat>=a.lat&&s.lat<=n.lat&&o.lng>=a.lng&&s.lng<=n.lng},intersects:function(a){a=R(a);var p=this._southWest,i=this._northEast,e=a.getSouthWest(),n=a.getNorthEast(),o=n.lat>=p.lat&&e.lat<=i.lat,s=n.lng>=p.lng&&e.lng<=i.lng;return o&&s},overlaps:function(a){a=R(a);var p=this._southWest,i=this._northEast,e=a.getSouthWest(),n=a.getNorthEast(),o=n.lat>p.lat&&e.lat<i.lat,s=n.lng>p.lng&&e.lng<i.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return!!e&&(e=R(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o))},isValid:function(){return this._southWest&&this._northEast}};var B={latLngToPoint:function(o,t){var i=this.projection.project(o),e=this.scale(t);return this.transformation._transform(i,e)},pointToLatLng:function(o,t){var i=this.scale(t),e=this.transformation.untransform(o,i);return this.projection.unproject(e)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*jo(2,e)},zoom:function(e){return zo(e/256)/Fo},getProjectedBounds:function(o){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(o);return new A(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!(N.prototype={equals:function(e,o){return!!e&&(e=D(e),Xo(qo(this.lat-e.lat),qo(this.lng-e.lng))<=(void 0===o?1e-9:o))},toString:function(e){return"LatLng("+o(this.lat,e)+", "+o(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,D(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(o){var t=180*o/40075017,n=t/Uo(Vo/180*this.lat);return R([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new N(this.lat,this.lng,this.alt)}}),wrapLatLng:function(e){var t=this.wrapLng?n(e.lng,this.wrapLng,!0):e.lng;return new N(this.wrapLat?n(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(a){var t=a.getCenter(),i=this.wrapLatLng(t),e=t.lat-i.lat,n=t.lng-i.lng;if(0==e&&0==n)return a;var o=a.getSouthWest(),s=a.getNorthEast();return new O(new N(o.lat-e,o.lng-n),new N(s.lat-e,s.lng-n))}},H=ne({},B,{wrapLng:[-180,180],R:6371e3,distance:function(p,t){var i=Vo/180,e=p.lat*i,n=t.lat*i,o=wo((t.lat-p.lat)*i/2),s=wo((t.lng-p.lng)*i/2),r=o*o+Uo(e)*Uo(n)*s*s,a=2*Math.atan2(Go(r),Go(1-r));return this.R*a}}),F={R:6378137,MAX_LATITUDE:85.0511287798,project:function(r){var t=Vo/180,i=this.MAX_LATITUDE,e=Xo(ko(i,r.lat),-i),n=wo(e*t);return new S(this.R*r.lng*t,this.R*zo((1+n)/(1-n))/2)},unproject:function(e){var t=180/Vo;return new N((2*Ao(Mo(e.y/this.R))-Vo/2)*t,e.x*t/this.R)},bounds:new A([-(V=6378137*Vo),-V],[V,V])},V;M.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new S((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Jo=ne({},H,{code:"EPSG:3857",projection:F,transformation:z(ln=.5/(Vo*F.R),.5,-ln,.5)}),Y=ne({},Jo,{code:"EPSG:900913"}),X=document.documentElement.style,Q=("ActiveXObject"in window),tt=Q&&!document.addEventListener,it="msLaunchUri"in navigator&&!("documentMode"in document),et=q("webkit"),nt=q("android"),ot=q("android 2")||q("android 3"),st=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=nt&&q("Google")&&537>st&&!("AudioNode"in window),at=!!window.opera,ht=!it&&q("chrome"),ut=q("gecko")&&!et&&!at&&!Q,lt=!ht&&q("safari"),ct=q("phantom"),_t=("OTransition"in X),dt=0===navigator.platform.indexOf("Win"),pt=Q&&"transition"in X,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ot,ft=("MozPerspective"in X),gt=!window.L_DISABLE_3D&&(pt||mt||ft)&&!_t&&!ct,vt="undefined"!=typeof orientation||q("mobile"),yt=!window.PointerEvent&&window.MSPointerEvent,Pt=window.PointerEvent||yt,Lt=!window.L_NO_TOUCH&&(Pt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),bt=vt&&at,Tt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),zt=function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",p,o),window.removeEventListener("testPassiveEventSupport",p,o)}catch(e){}return e}(),Ct=!!document.createElement("canvas").getContext,St=document.createElementNS&&k("svg").createSVGRect,Zt=!St&&function(){try{var e=document.createElement("div");e.innerHTML="<v:shape adj=\"1\"/>";var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),Et=yt?"MSPointerDown":"pointerdown",At=yt?"MSPointerMove":"pointermove",It=yt?"MSPointerUp":"pointerup",Ot=yt?"MSPointerCancel":"pointercancel",Rt={},Nt=!1,Qo=yt?"MSPointerDown":Pt?"pointerdown":"touchstart",Vt=yt?"MSPointerUp":Pt?"pointerup":"touchend",qt=no(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$o=no(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rn="webkitTransition"===$o||"OTransition"===$o?$o+"End":"transitionend",ln,_n,mn,En,Cn,In,Sn;Cn="onselectstart"in document?(En=function(){uo(window,"selectstart",Io)},function(){yo(window,"selectstart",Io)}):(mn=no(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),En=function(){var e;mn&&(e=document.documentElement.style,_n=e[mn],e[mn]="none")},function(){mn&&(document.documentElement.style[mn]=_n,_n=void 0)});var Nn={TRANSFORM:qt,TRANSITION:$o,TRANSITION_END:rn,get:Mt,getStyle:wt,create:Ft,remove:kt,empty:Bt,toFront:Gt,toBack:jt,hasClass:Ut,addClass:Ht,removeClass:Wt,setClass:eo,getClass:to,setOpacity:oo,testProp:no,setTransform:io,setPosition:ro,getPosition:ao,disableTextSelection:En,enableTextSelection:Cn,disableImageDrag:so,enableImageDrag:po,preventOutline:lo,restoreOutline:go,getSizedParentNode:co,getScale:_o},Tn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},Rn=dt&&ht?2*window.devicePixelRatio:ut?window.devicePixelRatio:1,On={},Dn=Z.extend({run:function(o,t,i,e){this.stop(),this._el=o,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Xo(e||.5,.2),this._startPos=ao(o),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=x(this._animate,this),this._step()},_step:function(o){var t=new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),o):(this._runFrame(1),this._complete())},_runFrame:function(o,t){var n=this._startPos.add(this._offset.multiplyBy(o));t&&n._round(),ro(this._el,n),this.fire("step")},_complete:function(){f(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-jo(1-e,this._easeOutPower)}}),An=Z.extend({options:{crs:Jo,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=l(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=ye(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(D(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$o&&gt&&!bt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),uo(this._proxy,rn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,n,r){return(n=void 0===n?this._zoom:this._limitZoom(n),o=this._limitCenter(D(o),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r)&&(void 0!==r.animate&&(r.zoom=ne({animate:r.animate},r.zoom),r.pan=ne({animate:r.animate,duration:r.duration},r.pan)),this._zoom===n?this._tryAnimatedPan(o,r.pan):this._tryAnimatedZoom&&this._tryAnimatedZoom(o,n,r.zoom))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,n),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(a,t,i){var e=this.getZoomScale(t),n=this.getSize().divideBy(2),o=(a instanceof S?a:this.latLngToContainerPoint(a)).subtract(n).multiplyBy(1-1/e),s=this.containerPointToLatLng(n.add(o));return this.setView(s,t,{zoom:i})},_getBoundsCenterZoom:function(p,d){d=d||{},p=p.getBounds?p.getBounds():R(p);var l=P(d.paddingTopLeft||d.padding||[0,0]),e=P(d.paddingBottomRight||d.padding||[0,0]),n=this.getBoundsZoom(p,!1,l.add(e));if((n="number"==typeof d.maxZoom?ko(d.maxZoom,n):n)===1/0)return{center:p.getCenter(),zoom:n};var g=e.subtract(l).divideBy(2),s=this.project(p.getSouthWest(),n),r=this.project(p.getNorthEast(),n);return{center:this.unproject(s.add(r).divideBy(2).add(g),n),zoom:n}},fitBounds:function(o,n){if(!(o=R(o)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(o,n);return this.setView(i.center,i.zoom,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(o,n){return n=n||{},(o=P(o).round()).x||o.y?(!0===n.animate||this.getSize().contains(o)?(this._panAnim||(this._panAnim=new Dn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),!1===n.animate?(this._rawPanBy(o),this.fire("move").fire("moveend")):(Ht(this._mapPane,"leaflet-pan-anim"),r=this._getMapPanePos().subtract(o).round(),this._panAnim.run(this._mapPane,r,n.duration||.25,n.easeLinearity))):this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this):this.fire("moveend");var r},flyTo:function(E,C,I){function b(o){var t=(l*l-u*u+(o?-1:1)*n*n*N*N)/(2*(o?l:u)*n*N),i=Go(t*t+1)-t;return 1e-9>i?-18:zo(i)}function e(e){return(Mo(e)-Mo(-e))/2}function d(e){return(Mo(e)+Mo(-e))/2}function p(o){return u*(d(_)*(e(t=_+c*o)/d(t))-e(_))/n;var t}if(!1===(I=I||{}).animate||!gt)return this.setView(E,C,I);this._stop();var f=this.project(this.getCenter()),a=this.project(E),h=this.getSize(),S=this._zoom;E=D(E),C=void 0===C?S:C;var u=Xo(h.x,h.y),l=u*this.getZoomScale(S,C),N=a.distanceTo(f)||1,c=1.42,n=c*c,_=b(0),m=Date.now(),g=(b(1)-_)/c,v=I.duration?1e3*I.duration:.8*(1e3*g);return this._moveStart(!0,I.noMoveStart),function r(){var t=(Date.now()-m)/v,n=(o=t,(1-jo(1-o,1.5))*g),o,s;1>=t?(this._flyToFrame=x(r,this),this._move(this.unproject(f.add(a.subtract(f).multiplyBy(p(n)/N)),S),this.getScaleZoom(u/(s=n,u*(d(_)/d(_+c*s))),S),{flyTo:!0})):this._move(E,C)._moveEnd(!0)}.call(this),this},flyToBounds:function(o,t){var n=this._getBoundsCenterZoom(o,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=R(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(o,t){this._enforcingBounds=!0;var i=this.getCenter(),e=this._limitCenter(i,this._zoom,R(o));return i.equals(e)||this.panTo(e,t),this._enforcingBounds=!1,this},panInside:function(p,t){var d=P((t=t||{}).paddingTopLeft||t.padding||[0,0]),o=P(t.paddingBottomRight||t.padding||[0,0]),s=this.getCenter(),r=this.project(s),a=this.project(p),g=this.getPixelBounds(),_=g.getSize().divideBy(2),l=I([g.min.add(d),g.max.subtract(o)]),c,u;return l.contains(a)||(this._enforcingBounds=!0,c=r.subtract(a),u=P(a.x+c.x,a.y+c.y),(a.x<l.min.x||a.x>l.max.x)&&(u.x=r.x-c.x,0<c.x?u.x+=_.x-d.x:u.x-=_.x-o.x),(a.y<l.min.y||a.y>l.max.y)&&(u.y=r.y-c.y,0<c.y?u.y+=_.y-d.y:u.y-=_.y-o.y),this.panTo(this.unproject(u),t),this._enforcingBounds=!1),this},invalidateSize:function(r){if(!this._loaded)return this;r=ne({animate:!1,pan:!0},!0===r?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),e=a.divideBy(2).round(),n=i.divideBy(2).round(),o=e.subtract(n);return o.x||o.y?(r.animate&&r.pan?this.panBy(o):(r.pan&&this._rawPanBy(o),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(ye(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=ne({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=ye(this._handleGeolocationResponse,this),i=ye(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,i,o):navigator.geolocation.getCurrentPosition(n,i,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){var t=o.code,n=o.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(a){var t=new N(a.coords.latitude,a.coords.longitude),e=t.toBounds(2*a.coords.accuracy),n=this._locateOptions,o;n.setView&&(o=this.getBoundsZoom(e),this.setView(t,n.maxZoom?ko(o,n.maxZoom):o));var p={latlng:t,bounds:e,timestamp:a.timestamp};for(var s in a.coords)"number"==typeof a.coords[s]&&(p[s]=a.coords[s]);this.fire("locationfound",p)},addHandler:function(o,t){if(!t)return this;var n=this[o]=new t(this);return this._handlers.push(n),this.options[o]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}for(var e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(f(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)kt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,t){var n=Ft("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),t||this._mapPane);return o&&(this._panes[o]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new O(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,g,i){p=R(p),i=P(i||[0,0]);var y=this.getZoom()||0,m=this.getMinZoom(),o=this.getMaxZoom(),s=p.getNorthWest(),r=p.getSouthEast(),a=this.getSize().subtract(i),f=I(this.project(r,y),this.project(s,y)).getSize(),u=gt?this.options.zoomSnap:1,l=a.x/f.x,c=a.y/f.y,_=g?Xo(l,c):ko(l,c),y=this.getScaleZoom(_,y);return u&&(y=Zo(y/(u/100))*(u/100),y=g?Ho(y/u)*u:Bo(y/u)*u),Xo(m,ko(o,y))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new S(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,t){var n=this._getTopLeftPoint(o,t);return new A(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(o)/n.scale(t)},getScaleZoom:function(o,t){var r=this.options.crs;t=void 0===t?this._zoom:t;var e=r.zoom(o*r.scale(t));return isNaN(e)?1/0:e},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(D(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(P(e),t)},layerPointToLatLng:function(e){var t=P(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(D(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(D(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(R(e))},distance:function(e,t){return this.options.crs.distance(D(e),D(t))},containerPointToLayerPoint:function(e){return P(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return P(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(P(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(D(e)))},mouseEventToContainerPoint:function(e){return Lo(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=Mt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");uo(t,"scroll",this._onScroll,this),this._containerId=fe(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt,Ht(e,"leaflet-container"+(Lt?" leaflet-touch":"")+(Tt?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(lt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=wt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ro(this._mapPane,new S(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ht(e.markerPane,"leaflet-zoom-hide"),Ht(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,t){ro(this._mapPane,new S(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var e=this._zoom!==t;this._moveStart(e,!1)._move(o,t)._moveEnd(e),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(o,t,r){void 0===t&&(t=this._zoom);var e=this._zoom!==t;return this._zoom=t,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),(e||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return f(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){ro(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={};var t=e?yo:uo;t((this._targets[fe(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),gt&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){f(this._resizeRequest),this._resizeRequest=x(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Xo(qo(e.x),qo(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,t){for(var i=[],p="mouseout"===t||"mouseover"===t,o=a.target||a.srcElement,d=!1,l;o;){if((l=this._targets[fe(o)])&&("click"===t||"preclick"===t)&&!a._simulated&&this._draggableMoved(l)){d=!0;break}if(l&&l.listens(t,!0)){if(p&&!To(o,a))break;if(i.push(l),p)break}if(o===this._container)break;o=o.parentNode}return i.length||d||p||!To(o,a)||(i=[this]),i},_handleDOMEvent:function(e){var t;this._loaded&&!vo(e)&&("mousedown"!==(t=e.type)&&"keypress"!==t&&"keyup"!==t&&"keydown"!==t||lo(e.target||e.srcElement),this._fireDOMEvent(e,t))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,d,i){var l;if("click"===p.type&&((l=ne({},p)).type="preclick",this._fireDOMEvent(l,l.type,i)),!p._stopped&&(i=(i||[]).concat(this._findEventTargets(p,d))).length){var g=i[0];"contextmenu"===d&&g.listens(d,!0)&&Io(p);var o={originalEvent:p},r;"keypress"!==p.type&&"keydown"!==p.type&&"keyup"!==p.type&&(r=g.getLatLng&&(!g._radius||10>=g._radius),o.containerPoint=r?this.latLngToContainerPoint(g.getLatLng()):this.mouseEventToContainerPoint(p),o.layerPoint=this.containerPointToLayerPoint(o.containerPoint),o.latlng=r?g.getLatLng():this.layerPointToLatLng(o.layerPoint));for(var c=0;c<i.length;c++)if(i[c].fire(d,o,!0),o.originalEvent._stopped||!1===i[c].options.bubblingMouseEvents&&-1!==t(this._mouseEvents,d))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return ao(this._mapPane)||new S(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,t){var n=this.getSize()._divideBy(2);return this.project(o,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,t,i){var e=this._getNewPixelOrigin(i,t);return this.project(o,t)._subtract(e)},_latLngBoundsToNewLayerBounds:function(o,t,i){var e=this._getNewPixelOrigin(i,t);return I([this.project(o.getSouthWest(),t)._subtract(e),this.project(o.getNorthWest(),t)._subtract(e),this.project(o.getSouthEast(),t)._subtract(e),this.project(o.getNorthEast(),t)._subtract(e)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,t,i){if(!i)return a;var e=this.project(a,t),n=this.getSize().divideBy(2),o=new A(e.subtract(n),e.add(n)),s=this._getBoundsOffset(o,i,t);return s.round().equals([0,0])?a:this.unproject(e.add(s),t)},_limitOffset:function(o,t){if(!t)return o;var i=this.getPixelBounds(),e=new A(i.min.add(o),i.max.add(o));return o.add(this._getBoundsOffset(e,t))},_getBoundsOffset:function(r,t,i){var e=I(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),n=e.min.subtract(r.min),o=e.max.subtract(r.max);return new S(this._rebound(n.x,-o.x),this._rebound(n.y,-o.y))},_rebound:function(e,t){return 0<e+t?Zo(e-t)/2:Xo(0,Ho(e))-Xo(0,Bo(t))},_limitZoom:function(o){var r=this.getMinZoom(),i=this.getMaxZoom(),e=gt?this.options.zoomSnap:1;return e&&(o=Zo(o/e)*e),Xo(r,ko(i,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,t){var n=this._getCenterOffset(o)._trunc();return(!0===(t&&t.animate)||this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=Ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var t=qt,n=this._proxy.style[t];io(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();io(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&0<=e.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||qo(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(t),n=this._getCenterOffset(r)._divideBy(1-1/a);return(!0===i.animate||this.getSize().contains(n))&&(x(function(){this._moveStart(!0,!1)._animateZoom(r,t,!0)},this),!0)},_animateZoom:function(o,t,i,e){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=t,Ht(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:t,noUpdate:e}),setTimeout(ye(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),x(function(){this._moveEnd(!0)},this))}}),Mn=v.extend({options:{position:"topright"},initialize:function(e){l(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var t=this._container=this.onAdd(o),i=this.getPosition(),e=o._controlCorners[i];return Ht(t,"leaflet-control"),-1===i.indexOf("bottom")?e.appendChild(t):e.insertBefore(t,e.firstChild),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(e){this._map&&e&&0<e.screenX&&0<e.screenY&&this._map.getContainer().focus()}});An.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){function e(e,t){o[e+t]=Ft("div","leaflet-"+e+" "+"leaflet-"+t,n)}var o=this._controlCorners={},n=this._controlContainer=Ft("div","leaflet-control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)kt(this._controlCorners[e]);kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Fn=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,t,i,e){return i<e?-1:e<i?1:0}},initialize:function(o,t,i){for(var e in l(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,o)this._addLayer(o[e],e);for(e in t)this._addLayer(t[e],e,!0)},onAdd:function(e){this._initLayout(),this._update(),(this._map=e).on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Mn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(fe(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){Ht(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Ht(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t=this._container=Ft("div","leaflet-control-layers"),i=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Co(t),Eo(t);var e=this._section=Ft("section","leaflet-control-layers-list");i&&(this._map.on("click",this.collapse,this),nt||uo(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var n=this._layersLink=Ft("a","leaflet-control-layers-toggle",t);n.href="#",n.title="Layers",Lt?(uo(n,"click",bo),uo(n,"click",this.expand,this)):uo(n,"focus",this.expand,this),i||this.expand(),this._baseLayersList=Ft("div","leaflet-control-layers-base",e),this._separator=Ft("div","leaflet-control-layers-separator",e),this._overlaysList=Ft("div","leaflet-control-layers-overlays",e),t.appendChild(e)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&fe(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(o,t,n){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(ye(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bt(this._baseLayersList),Bt(this._overlaysList),this._layerControlInputs=[];for(var r=0,a=0,s,p,d;a<this._layers.length;a++)d=this._layers[a],this._addItem(d),p=p||d.overlay,s=s||!d.overlay,r+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&1<r,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=p&&s?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var t=this._getLayer(fe(o.target)),n=t.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(o,t){var i="<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\""+o+"\""+(t?" checked=\"checked\"":"")+"/>",e=document.createElement("div");return e.innerHTML=i,e.firstChild},_addItem:function(r){var t=document.createElement("label"),e=this._map.hasLayer(r.layer),n;r.overlay?((n=document.createElement("input")).type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=e):n=this._createRadioElement("leaflet-base-layers_"+fe(this),e),this._layerControlInputs.push(n),n.layerId=fe(r.layer),uo(n,"click",this._onInputClick,this);var a=document.createElement("span");a.innerHTML=" "+r.name;var o=document.createElement("div");return t.appendChild(o),o.appendChild(n),o.appendChild(a),(r.overlay?this._overlaysList:this._baseLayersList).appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){var r=this._layerControlInputs,e=[],n=[],o,a;this._handlingClick=!0;for(var p=r.length-1;0<=p;p--)o=r[p],a=this._getLayer(o.layerId).layer,o.checked?e.push(a):o.checked||n.push(a);for(p=0;p<n.length;p++)this._map.hasLayer(n[p])&&this._map.removeLayer(n[p]);for(p=0;p<e.length;p++)this._map.hasLayer(e[p])||this._map.addLayer(e[p]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,e=this._map.getZoom(),n=r.length-1,a,s;0<=n;n--)a=r[n],s=this._getLayer(a.layerId).layer,a.disabled=void 0!==s.options.minZoom&&e<s.options.minZoom||void 0!==s.options.maxZoom&&e>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),zn=Mn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(o){var t=Ft("div","leaflet-control-zoom leaflet-bar"),e=this.options;return this._zoomInButton=this._createButton(e.zoomInText,e.zoomInTitle,"leaflet-control-zoom-in",t,this._zoomIn),this._zoomOutButton=this._createButton(e.zoomOutText,e.zoomOutTitle,"leaflet-control-zoom-out",t,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),t},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(r,t,i,e,n){var o=Ft("a",i,e);return o.innerHTML=r,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Co(o),uo(o,"click",bo),uo(o,"click",n,this),uo(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map;Wt(this._zoomInButton,"leaflet-disabled"),Wt(this._zoomOutButton,"leaflet-disabled"),(this._disabled||e._zoom===e.getMinZoom())&&Ht(this._zoomOutButton,"leaflet-disabled"),(this._disabled||e._zoom===e.getMaxZoom())&&Ht(this._zoomInButton,"leaflet-disabled")}});An.mergeOptions({zoomControl:!0}),An.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zn,this.addControl(this.zoomControl))});var kn=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var t=Ft("div","leaflet-control-scale"),e=this.options;return this._addScales(e,"leaflet-control-scale-line",t),o.on(e.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,t,n){o.metric&&(this._mScale=Ft("div",t,n)),o.imperial&&(this._iScale=Ft("div",t,n))},_update:function(){var o=this._map,t=o.getSize().y/2,n=o.distance(o.containerPointToLatLng([0,t]),o.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(o){var t=this._getRoundNum(o),n=1e3>t?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/o)},_updateImperial:function(r){var t=3.2808399*r,o,a,s;5280<t?(o=t/5280,a=this._getRoundNum(o),this._updateScale(this._iScale,a+" mi",a/o)):(s=this._getRoundNum(t),this._updateScale(this._iScale,s+" ft",s/t))},_updateScale:function(o,t,n){o.style.width=Zo(this.options.maxWidth*n)+"px",o.innerHTML=t},_getRoundNum:function(o){var t=jo(10,(Bo(o)+"").length-1),n=o/t;return t*(n=10<=n?10:5<=n?5:3<=n?3:2<=n?2:1)}}),Bn=Mn.extend({options:{position:"bottomright",prefix:"<a href=\"https://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>"},initialize:function(e){l(this,e),this._attributions={}},onAdd:function(e){for(var t in(e.attributionControl=this)._container=Ft("div","leaflet-control-attribution"),Co(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e&&(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update()),this},removeAttribution:function(e){return e&&this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(this._map){var o=[];for(var t in this._attributions)this._attributions[t]&&o.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),o.length&&n.push(o.join(", ")),this._container.innerHTML=n.join(" | ")}}});An.mergeOptions({attributionControl:!0}),An.addInitHook(function(){this.options.attributionControl&&new Bn().addTo(this)}),Mn.Layers=Fn,Mn.Zoom=zn,Mn.Scale=kn,Mn.Attribution=Bn,Po.layers=function(o,t,n){return new Fn(o,t,n)},Po.zoom=function(e){return new zn(e)},Po.scale=function(e){return new kn(e)},Po.attribution=function(e){return new Bn(e)};var te=v.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});te.addTo=function(e,t){return e.addHandler(t,this),this};var ie=Lt?"touchstart mousedown":"mousedown",oe={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},se={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},re=Z.extend({options:{clickTolerance:3},initialize:function(o,t,i,e){l(this,e),this._element=o,this._dragStartTarget=t||o,this._preventOutline=i},enable:function(){this._enabled||(uo(this._dragStartTarget,ie,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(re._dragging===this&&this.finishDrag(),yo(this._dragStartTarget,ie,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){var t,n;!o._simulated&&this._enabled&&(this._moved=!1,Ut(this._element,"leaflet-zoom-anim")||re._dragging||o.shiftKey||1!==o.which&&1!==o.button&&!o.touches||((re._dragging=this)._preventOutline&&lo(this._element),so(),En(),this._moving||(this.fire("down"),t=o.touches?o.touches[0]:o,n=co(this._element),this._startPoint=new S(t.clientX,t.clientY),this._parentScale=_o(n),uo(document,se[o.type],this._onMove,this),uo(document,oe[o.type],this._onUp,this))))},_onMove:function(o){var t,n;!o._simulated&&this._enabled&&(o.touches&&1<o.touches.length?this._moved=!0:((n=new S((t=o.touches&&1===o.touches.length?o.touches[0]:o).clientX,t.clientY)._subtract(this._startPoint)).x||n.y)&&(qo(n.x)+qo(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Io(o),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ao(this._element).subtract(n),Ht(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ht(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,f(this._animRequest),this._lastEvent=o,this._animRequest=x(this._updatePosition,this,!0))))},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),ro(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in Wt(document.body,"leaflet-dragging"),this._lastTarget&&(Wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),se)yo(document,se[e],this._onMove,this),yo(document,oe[e],this._onUp,this);po(),Cn(),this._moved&&this._moving&&(f(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,re._dragging=!1}}),ae={project:function(e){return new S(e.lng,e.lat)},unproject:function(e){return new N(e.y,e.x)},bounds:new A([-180,-90],[180,90])},xe={R:6378137,R_MINOR:6356752.314245179,bounds:new A([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(p){var t=Vo/180,i=this.R,e=p.lat*t,d=this.R_MINOR/i,o=Go(1-d*d),s=o*wo(e),r=Math.tan(Vo/4-e/2)/jo((1-s)/(1+s),o/2),e=-i*zo(Xo(r,1e-10));return new S(p.lng*t*i,e)},unproject:function(p){for(var t=180/Vo,e=this.R,n=this.R_MINOR/e,o=Go(1-n*n),s=Mo(-p.y/e),r=Vo/2-2*Ao(s),d=0,l=.1,g;15>d&&1e-7<qo(l);d++)g=o*wo(r),g=jo((1-g)/(1+g),o/2),r+=l=Vo/2-2*Ao(s*g)-r;return new N(r*t,p.x*t/e)}},we=ne({},H,{code:"EPSG:3395",projection:xe,transformation:z(Gn=.5/(Vo*xe.R),.5,-Gn,.5)}),Le=ne({},H,{code:"EPSG:4326",projection:ae,transformation:z(1/180,1,-1/180,.5)}),be=ne({},B,{projection:ae,transformation:z(1,0,-1,0),scale:function(e){return jo(2,e)},zoom:function(e){return zo(e)/Fo},distance:function(o,t){var i=t.lng-o.lng,e=t.lat-o.lat;return Go(i*i+e*e)},infinite:!0}),Te,Gn;B.Earth=H,B.EPSG3395=we,B.EPSG3857=Jo,B.EPSG900913=Y,B.EPSG4326=Le,B.Simple=be;var qn=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[fe(e)]=this},removeInteractiveTarget:function(e){return delete this._map._targets[fe(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var t=o.target,e;t.hasLayer(this)&&(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents&&(e=this.getEvents(),t.on(e,this),this.once("remove",function(){t.off(e,this)},this)),this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this}))}});An.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=fe(e);return this._layers[t]||((this._layers[t]=e)._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=fe(e);return this._layers[t]&&(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null),this},hasLayer:function(e){return!!e&&fe(e)in this._layers},eachLayer:function(o,t){for(var n in this._layers)o.call(t,this._layers[n]);return this},_addLayers:function(o){for(var n=0,r=(o=o?d(o)?o:[o]:[]).length;n<r;n++)this.addLayer(o[n])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[fe(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=fe(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,s=this._getZoomSpan();for(var e in this._zoomBoundLayers)var n=this._zoomBoundLayers[e].options,r=void 0===n.minZoom?r:ko(r,n.minZoom),a=void 0===n.maxZoom?a:Xo(a,n.maxZoom);this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Me=qn.extend({initialize:function(o,t){var i,r;if(l(this,t),this._layers={},o)for(i=0,r=o.length;i<r;i++)this.addLayer(o[i])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var t=Array.prototype.slice.call(arguments,1),n,r;for(n in this._layers)(r=this._layers[n])[o]&&r[o].apply(r,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(o,t){for(var n in this._layers)o.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:fe}),ze=Me.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Me.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Me.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new O;for(var t in this._layers){var n=this._layers[t];o.extend(n.getBounds?n.getBounds():n.getLatLng())}return o}}),Ce=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){l(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(o,t){var i=this._getIconUrl(o);if(!i){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var e=this._createImg(i,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(e,o),e},_setIconStyles:function(r,t){var i=this.options,e=i[t+"Size"];"number"==typeof e&&(e=[e,e]);var a=P(e),o=P("shadow"===t&&i.shadowAnchor||i.iconAnchor||a&&a.divideBy(2,!0));r.className="leaflet-marker-"+t+" "+(i.className||""),o&&(r.style.marginLeft=-o.x+"px",r.style.marginTop=-o.y+"px"),a&&(r.style.width=a.x+"px",r.style.height=a.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Tt&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),Se=Ce.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Se.imagePath||(Se.imagePath=this._detectIconPath()),(this.options.imagePath||Se.imagePath)+Ce.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=Ft("div","leaflet-default-icon-path",document.body),t=wt(e,"background-image")||wt(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Ze=te.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new re(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ht(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var t=this._marker,e=t._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=ao(t._icon),r=e.getPixelBounds(),a=e.getPixelOrigin(),d=I(r.min._subtract(a).add(o),r.max._subtract(a).subtract(o)),l;d.contains(s)||(l=P((Xo(d.max.x,s.x)-d.max.x)/(r.max.x-d.max.x)-(ko(d.min.x,s.x)-d.min.x)/(r.min.x-d.min.x),(Xo(d.max.y,s.y)-d.max.y)/(r.max.y-d.max.y)-(ko(d.min.y,s.y)-d.min.y)/(r.min.y-d.min.y)).multiplyBy(n),e.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),ro(t._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=x(this._adjustPan.bind(this,p)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(f(this._panRequest),this._panRequest=x(this._adjustPan.bind(this,e)))},_onDrag:function(r){var t=this._marker,i=t._shadow,e=ao(t._icon),n=t._map.layerPointToLatLng(e);i&&ro(i,e),t._latlng=n,r.latlng=n,r.oldLatLng=this._oldLatLng,t.fire("move",r).fire("drag",r)},_onDragEnd:function(e){f(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ee=qn.extend({options:{icon:new Se,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){l(this,t),this._latlng=D(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=D(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var e;return this._icon&&this._map&&(e=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(e)),this},_initIcon:function(){var r=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=r.icon.createIcon(this._icon),e=!1;i!==this._icon&&(this._icon&&this._removeIcon(),e=!0,r.title&&(i.title=r.title),"IMG"===i.tagName&&(i.alt=r.alt||"")),Ht(i,t),r.keyboard&&(i.tabIndex="0"),this._icon=i,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var a=r.icon.createShadow(this._shadow),o=!1;a!==this._shadow&&(this._removeShadow(),o=!0),a&&(Ht(a,t),a.alt=""),this._shadow=a,1>r.opacity&&this._updateOpacity(),e&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&o&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&kt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&ro(this._icon,e),this._shadow&&ro(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){var e;this.options.interactive&&(Ht(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ze&&(e=this.options.draggable,this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ze(this),e&&this.dragging.enable()))},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&oo(this._icon,e),this._shadow&&oo(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),ke=qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return l(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Be=ke.extend({options:{fill:!0,radius:10},initialize:function(e,t){l(this,t),this._latlng=D(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=D(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ke.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,t=this._radiusY||o,i=this._clickTolerance(),e=[o+i,t+i];this._pxBounds=new A(this._point.subtract(e),this._point.add(e))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Ae=Be.extend({initialize:function(o,t,n){if("number"==typeof t&&(t=ne({},n,{radius:t})),l(this,t),this._latlng=D(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new O(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ke.prototype.setStyle,_project:function(){var p=this._latlng.lng,d=this._latlng.lat,g=this._map,l=g.options.crs,c,_,u,y,m,f,h,x;l.distance===H.distance?(c=Vo/180,_=this._mRadius/H.R/c,u=g.project([d+_,p]),y=g.project([d-_,p]),m=u.add(y).divideBy(2),f=g.unproject(m).lat,h=Math.acos((Uo(_*c)-wo(d*c)*wo(f*c))/(Uo(d*c)*Uo(f*c)))/c,!isNaN(h)&&0!==h||(h=_/Uo(Vo/180*d)),this._point=m.subtract(g.getPixelOrigin()),this._radius=isNaN(h)?0:m.x-g.project([f,p-h]).x,this._radiusY=m.y-u.y):(x=l.unproject(l.project(this._latlng).subtract([this._mRadius,0])),this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(x).x),this._updateBounds()}}),Ie=ke.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){l(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var t=1/0,d=null,g=_e,s=0,_=this._parts.length,a,y;s<_;s++)for(var m=this._parts[s],f=1,h=m.length,l;f<h;f++)l=g(p,a=m[f-1],y=m[f],!0),l<t&&(t=l,d=g(p,a,y));return d&&(d.distance=Go(t)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var p=this._rings[0],a=p.length,d,l,g,c,_,u,y;if(!a)return null;for(l=d=0;d<a-1;d++)l+=p[d].distanceTo(p[d+1])/2;if(0===l)return this._map.layerPointToLatLng(p[0]);for(c=d=0;d<a-1;d++)if(_=p[d],u=p[d+1],l<(c+=g=_.distanceTo(u)))return y=(c-l)/g,this._map.layerPointToLatLng([u.x-y*(u.x-_.x),u.y-y*(u.y-_.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=D(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new O,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return de(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var t=[],i=de(r),e=0,a=r.length;e<a;e++)i?(t[e]=D(r[e]),this._bounds.extend(t[e])):t[e]=this._convertLatLngs(r[e]);return t},_project:function(){var e=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new S(e,e);this._pxBounds=new A([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(a,t,i){var e=a[0]instanceof N,s=a.length,r,p;if(e){for(p=[],r=0;r<s;r++)p[r]=this._map.latLngToLayerPoint(a[r]),i.extend(p[r]);t.push(p)}else for(r=0;r<s;r++)this._projectLatlngs(a[r],t,i)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(p))if(this.options.noClip)this._parts=this._rings;else for(var t=this._parts,s=0,d=0,l=this._rings.length,g,c,_,u;s<l;s++)for(g=0,c=(u=this._rings[s]).length;g<c-1;g++)(_=ue(u[g],u[g+1],p,g,!0))&&(t[d]=t[d]||[],t[d].push(_[0]),_[1]===u[g+1]&&g!==c-2||(t[d].push(_[1]),d++))},_simplifyPoints:function(){for(var o=this._parts,t=this.options.smoothFactor,i=0,r=o.length;i<r;i++)o[i]=Ro(o[i],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,t){var i=this._clickTolerance(),d,l,g,c,_,u;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(d=0,c=this._parts.length;d<c;d++)for(l=0,g=(_=(u=this._parts[d]).length)-1;l<_;g=l++)if((t||0!==l)&&he(p,u[g],u[l])<=i)return!0;return!1}});Ie._flat=pe;var Oe=Ie.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var p=this._rings[0],d=p.length,l,g,c,_,u,y,m,f,x;if(!d)return null;for(l=y=m=f=0,g=d-1;l<d;g=l++)c=p[l],_=p[g],u=c.y*_.x-_.y*c.x,m+=(c.x+_.x)*u,f+=(c.y+_.y)*u,y+=3*u;return x=0===y?p[0]:[m/y,f/y],this._map.layerPointToLatLng(x)},_convertLatLngs:function(o){var t=Ie.prototype._convertLatLngs.call(this,o),n=t.length;return 2<=n&&t[0]instanceof N&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Ie.prototype._setLatLngs.call(this,e),de(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return de(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,i=new S(a,a),r=new A(r.min.subtract(i),r.max.add(i));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(r))if(this.options.noClip)this._parts=this._rings;else for(var e=0,p=this._rings.length,s;e<p;e++)(s=me(this._rings[e],r,!0)).length&&this._parts.push(s)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var t=!1,d,l,g,c,_,y,m,f;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(c=0,m=this._parts.length;c<m;c++)for(_=0,y=(f=(d=this._parts[c]).length)-1;_<f;y=_++)l=d[_],g=d[y],l.y>p.y!=g.y>p.y&&p.x<(g.x-l.x)*(p.y-l.y)/(g.y-l.y)+l.x&&(t=!t);return t||Ie.prototype._containsPoint.call(this,p,!0)}}),Re=ze.extend({initialize:function(e,t){l(this,t),this._layers={},e&&this.addData(e)},addData:function(a){var t=d(a)?a:a.features,o,p,l;if(t){for(o=0,p=t.length;o<p;o++)((l=t[o]).geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var g=this.options;if(g.filter&&!g.filter(a))return this;var s=ge(a,g);return s?(s.feature=Ve(a),s.defaultOptions=s.options,this.resetStyle(s),g.onEachFeature&&g.onEachFeature(a,s),this.addLayer(s)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=ne({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(o){this._setLayerStyle(o,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}}),Ne={toGeoJSON:function(e){return Ue(this,{type:"Point",coordinates:He(this.getLatLng(),e)})}};Ee.include(Ne),Ae.include(Ne),Be.include(Ne),Ie.include({toGeoJSON:function(e){var t=!de(this._latlngs);return Ue(this,{type:(t?"Multi":"")+"LineString",coordinates:Fe(this._latlngs,t?1:0,!1,e)})}}),Oe.include({toGeoJSON:function(o){var t=!de(this._latlngs),i=t&&!de(this._latlngs[0]),e=Fe(this._latlngs,i?2:t?1:0,!0,o);return t||(e=[e]),Ue(this,{type:(i?"Multi":"")+"Polygon",coordinates:e})}}),Me.include({toMultiPoint:function(o){var n=[];return this.eachLayer(function(e){n.push(e.toGeoJSON(o).geometry.coordinates)}),Ue(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(r){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(r);var n="GeometryCollection"===e,o=[];return this.eachLayer(function(a){var t,s;a.toGeoJSON&&(t=a.toGeoJSON(r),n?o.push(t.geometry):"FeatureCollection"===(s=Ve(t)).type?o.push.apply(o,s.features):o.push(s))}),n?Ue(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var Ge=qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,t,n){this._url=o,this._bounds=R(t),l(this,n)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity()),this.options.interactive&&(Ht(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Gt(this._image),this},bringToBack:function(){return this._map&&jt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=R(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:Ft("img");Ht(t,"leaflet-image-layer"),this._zoomAnimated&&Ht(t,"leaflet-zoom-animated"),this.options.className&&Ht(t,this.options.className),t.onselectstart=p,t.onmousemove=p,t.onload=ye(this.fire,this,"load"),t.onerror=ye(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(o){var t=this._map.getZoomScale(o.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;io(this._image,n,t)},_reset:function(){var o=this._image,t=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();ro(o,t.min),o.style.width=n.x+"px",o.style.height=n.y+"px"},_updateOpacity:function(){oo(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Xe=Ge.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var a="VIDEO"===this._url.tagName,t=this._image=a?this._url:Ft("video");if(Ht(t,"leaflet-image-layer"),this._zoomAnimated&&Ht(t,"leaflet-zoom-animated"),this.options.className&&Ht(t,this.options.className),t.onselectstart=p,t.onmousemove=p,t.onloadeddata=ye(this.fire,this,"load"),a){for(var i=t.getElementsByTagName("source"),e=[],n=0;n<i.length;n++)e.push(i[n].src);this._url=0<i.length?e:[t.src]}else{d(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted;for(var l=0,g;l<this._url.length;l++)g=Ft("source"),g.src=this._url[l],t.appendChild(g)}}}),Je=Ge.extend({_initImage:function(){var e=this._image=this._url;Ht(e,"leaflet-image-layer"),this._zoomAnimated&&Ht(e,"leaflet-zoom-animated"),this.options.className&&Ht(e,this.options.className),e.onselectstart=p,e.onmousemove=p}}),$e=qn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){l(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&oo(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&oo(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(oo(this._container,0),this._removeTimeout=setTimeout(ye(kt,void 0,this._container),200)):kt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=D(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gt(this._container),this},bringToBack:function(){return this._map&&jt(this._container),this},_prepareOpen:function(o,t,r){if(t instanceof qn||(r=t,t=o),t instanceof ze)for(var a in o._layers){t=o._layers[a];break}if(!r)if(t.getCenter)r=t.getCenter();else{if(!t.getLatLng)throw new Error("Unable to get source layer LatLng.");r=t.getLatLng()}return this._source=t,this.update(),r},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){var r,a,s,p,d;this._map&&(r=this._map.latLngToLayerPoint(this._latlng),a=P(this.options.offset),s=this._getAnchor(),this._zoomAnimated?ro(this._container,r.add(s)):a=a.add(r).add(s),p=this._containerBottom=-a.y,d=this._containerLeft=-Zo(this._containerWidth/2)+a.x,this._container.style.bottom=p+"px",this._container.style.left=d+"px")},_getAnchor:function(){return[0,0]}}),Qe=$e.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){$e.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ke||this._source.on("preclick",xo))},onRemove:function(e){$e.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ke||this._source.off("preclick",xo))},getEvents:function(){var e=$e.prototype.getEvents.call(this);return(void 0===this.options.closeOnClick?this._map.options.closePopupOnClick:this.options.closeOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var o=this._container=Ft("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),e=this._wrapper=Ft("div","leaflet-popup-content-wrapper",o),n;this._contentNode=Ft("div","leaflet-popup-content",e),Co(o),Eo(this._contentNode),uo(o,"contextmenu",xo),this._tipContainer=Ft("div","leaflet-popup-tip-container",o),this._tip=Ft("div","leaflet-popup-tip",this._tipContainer),this.options.closeButton&&((n=this._closeButton=Ft("a","leaflet-popup-close-button",o)).href="#close",n.innerHTML="&#215;",uo(n,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var r=this._contentNode,t=r.style;t.width="",t.whiteSpace="nowrap";var i=r.offsetWidth,i=ko(i,this.options.maxWidth);i=Xo(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var a=r.offsetHeight,n=this.options.maxHeight;n&&n<a?(t.height=n+"px",Ht(r,"leaflet-popup-scrolled")):Wt(r,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var t=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),n=this._getAnchor();ro(this._container,t.add(n))},_adjustPan:function(){var p,d,g,_,y,m,f,x,E,C,I,b;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),p=this._map,d=parseInt(wt(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,_=this._containerWidth,(y=new S(this._containerLeft,-g-this._containerBottom))._add(ao(this._container)),m=p.layerPointToContainerPoint(y),f=P(this.options.autoPanPadding),x=P(this.options.autoPanPaddingTopLeft||f),E=P(this.options.autoPanPaddingBottomRight||f),C=p.getSize(),b=I=0,m.x+_+E.x>C.x&&(I=m.x+_-C.x+E.x),0>m.x-I-x.x&&(I=m.x-x.x),m.y+g+E.y>C.y&&(b=m.y+g-C.y+E.y),0>m.y-b-x.y&&(b=m.y-x.y),(I||b)&&p.fire("autopanstart").panBy([I,b]))},_onCloseButtonClick:function(e){this._close(),bo(e)},_getAnchor:function(){return P(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});An.mergeOptions({closePopupOnClick:!0}),An.include({openPopup:function(o,n,i){return o instanceof Qe||(o=new Qe(i).setContent(o)),n&&o.setLatLng(n),this.hasLayer(o)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=o,this.addLayer(o))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),qn.include({bindPopup:function(e,t){return e instanceof Qe?(l(e,t),(this._popup=e)._source=this):(this._popup&&!t||(this._popup=new Qe(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){return this._popup&&this._map&&(t=this._popup._prepareOpen(this,e,t),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(bo(e),t instanceof ke?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var tn=$e.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){$e.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){$e.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=$e.prototype.getEvents.call(this);return Lt&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ft("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var d=this._map,e=this._container,n=d.latLngToContainerPoint(d.getCenter()),o=d.layerPointToContainerPoint(p),s=this.options.direction,g=e.offsetWidth,a=e.offsetHeight,_=P(this.options.offset),u=this._getAnchor(),l="top"===s?(c=g/2,a):"bottom"===s?(c=g/2,0):(c="center"===s?g/2:"right"===s?0:"left"===s?g:o.x<n.x?(s="right",0):(s="left",g+2*(_.x+u.x)),a/2),c;p=p.subtract(P(c,l,!0)).add(_).add(u),Wt(e,"leaflet-tooltip-right"),Wt(e,"leaflet-tooltip-left"),Wt(e,"leaflet-tooltip-top"),Wt(e,"leaflet-tooltip-bottom"),Ht(e,"leaflet-tooltip-"+s),ro(e,p)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&oo(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return P(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});An.include({openTooltip:function(o,n,i){return o instanceof tn||(o=new tn(i).setContent(o)),n&&o.setLatLng(n),this.hasLayer(o)?this:this.addLayer(o)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),qn.include({bindTooltip:function(e,t){return e instanceof tn?(l(e,t),(this._tooltip=e)._source=this):(this._tooltip&&!t||(this._tooltip=new tn(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){var t,n;!o&&this._tooltipHandlersAdded||(t=o?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Lt&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!o)},openTooltip:function(e,t){return this._tooltip&&this._map&&(t=this._tooltip._prepareOpen(this,e,t),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(Ht(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Wt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(o){var t=o.latlng,r,a;this._tooltip.options.sticky&&o.originalEvent&&(r=this._map.mouseEventToContainerPoint(o.originalEvent),a=this._map.containerPointToLayerPoint(r),t=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(t)}});var en=Ce.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var t=o&&"DIV"===o.tagName?o:document.createElement("div"),e=this.options,n;return e.html instanceof Element?(Bt(t),t.appendChild(e.html)):t.innerHTML=!1===e.html?"":e.html,e.bgPos&&(n=P(e.bgPos),t.style.backgroundPosition=-n.x+"px "+-n.y+"px"),this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Ce.Default=Se;var nn=qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){l(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),kt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(jt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=i(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof S?e:new S(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var t=this.getPane().children,e=-r(-1/0,1/0),a=0,p=t.length,s;a<p;a++)s=t[a].style.zIndex,t[a]!==this._container&&s&&(e=r(e,+s));isFinite(e)&&(this.options.zIndex=e+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt){oo(this._container,this.options.opacity);var r=+new Date,t=!1,a=!1;for(var p in this._tiles){var n=this._tiles[p],s;n.current&&n.loaded&&(s=ko(1,(r-n.loaded)/200),oo(n.el,s),1>s?t=!0:(n.active?a=!0:this._onOpaqueTile(n),n.active=!0))}a&&!this._noPrune&&this._pruneTiles(),t&&(f(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,t=this.options.maxZoom;if(void 0!==r){for(var i in this._levels)i=+i,this._levels[i].el.children.length||i===r?(this._levels[i].el.style.zIndex=t-qo(r-i),this._onUpdateLevel(i)):(kt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var a=this._levels[r],s=this._map;return a||((a=this._levels[r]={}).el=Ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=t,a.origin=s.project(s.unproject(s.getPixelOrigin()),r).round(),a.zoom=r,this._setZoomTransform(a,s.getCenter(),s.getZoom()),p(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var o=this._map.getZoom(),n,r,a;if(o>this.options.maxZoom||o<this.options.minZoom)this._removeAllTiles();else{for(n in this._tiles)(a=this._tiles[n]).retain=a.current;for(n in this._tiles)(a=this._tiles[n]).current&&!a.active&&(r=a.coords,this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2));for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)kt(this._levels[e].el),this._onRemoveLevel(+e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,t,i,e){var n=Bo(p/2),o=Bo(t/2),s=i-1,r=new S(+n,+o);r.z=+s;var a=this._tileCoordsToKey(r),d=this._tiles[a];return d&&d.active?d.retain=!0:(d&&d.loaded&&(d.retain=!0),e<s&&this._retainParent(n,o,s,e))},_retainChildren:function(p,t,i,e){for(var n=2*p;n<2*p+2;n++)for(var d=2*t,l;d<2*t+2;d++){l=new S(n,d),l.z=i+1;var g=this._tileCoordsToKey(l),a=this._tiles[g];a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),i+1<e&&this._retainChildren(n,d,i+1,e))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(r,t,i,e){var n=Zo(t),n=void 0!==this.options.maxZoom&&n>this.options.maxZoom||void 0!==this.options.minZoom&&n<this.options.minZoom?void 0:this._clampZoom(n),a=this.options.updateWhenZooming&&n!==this._tileZoom;e&&!a||(this._tileZoom=n,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==n&&this._update(r),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(r,t)},_setZoomTransforms:function(o,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],o,t)},_setZoomTransform:function(r,t,i){var e=this._map.getZoomScale(i,r.zoom),n=r.origin.multiplyBy(e).subtract(this._map._getNewPixelOrigin(t,i)).round();gt?io(r.el,n,e):ro(r.el,n)},_resetGrid:function(){var r=this._map,t=r.options.crs,i=this._tileSize=this.getTileSize(),e=this._tileZoom,n=this._map.getPixelWorldBounds(this._tileZoom);n&&(this._globalTileRange=this._pxBoundsToTileRange(n)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Bo(r.project([0,t.wrapLng[0]],e).x/i.x),Ho(r.project([0,t.wrapLng[1]],e).x/i.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Bo(r.project([t.wrapLat[0],0],e).y/i.x),Ho(r.project([t.wrapLat[1],0],e).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(r){var t=this._map,i=t._animatingZoom?Xo(t._animateToZoom,t.getZoom()):t.getZoom(),e=t.getZoomScale(i,this._tileZoom),n=t.project(r,this._tileZoom).floor(),o=t.getSize().divideBy(2*e);return new A(n.subtract(o),n.add(o))},_update:function(g){var y=this._map;if(y){var i=this._clampZoom(y.getZoom());if(void 0===g&&(g=y.getCenter()),void 0!==this._tileZoom){var e=this._getTiledPixelBounds(g),n=this._pxBoundsToTileRange(e),o=n.getCenter(),s=[],r=this.options.keepBuffer,a=new A(n.getBottomLeft().subtract([r,-r]),n.getTopRight().add([r,-r]));if(!(isFinite(n.min.x)&&isFinite(n.min.y)&&isFinite(n.max.x)&&isFinite(n.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var f in this._tiles){var u=this._tiles[f].coords;u.z===this._tileZoom&&a.contains(new S(u.x,u.y))||(this._tiles[f].current=!1)}if(1<qo(i-this._tileZoom))this._setView(g,i);else{for(var l=n.min.y;l<=n.max.y;l++)for(var h=n.min.x;h<=n.max.x;h++){var x=new S(h,l),p;x.z=this._tileZoom,this._isValidTile(x)&&((p=this._tiles[this._tileCoordsToKey(x)])?p.current=!0:s.push(x))}if(s.sort(function(e,t){return e.distanceTo(o)-t.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));for(var E=document.createDocumentFragment(),h=0;h<s.length;h++)this._addTile(s[h],E);this._level.el.appendChild(E)}}}}},_isValidTile:function(o){var t=this._map.options.crs;if(!t.infinite){var i=this._globalTileRange;if(!t.wrapLng&&(o.x<i.min.x||o.x>i.max.x)||!t.wrapLat&&(o.y<i.min.y||o.y>i.max.y))return!1}if(!this.options.bounds)return!0;var e=this._tileCoordsToBounds(o);return R(this.options.bounds).overlaps(e)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(r){var t=this._map,i=this.getTileSize(),e=r.scaleBy(i),n=e.add(i);return[t.unproject(e,r.z),t.unproject(n,r.z)]},_tileCoordsToBounds:function(o){var t=this._tileCoordsToNwSe(o),n=new O(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(o){var t=o.split(":"),n=new S(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(kt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Ht(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=p,e.onmousemove=p,tt&&1>this.options.opacity&&oo(e,this.options.opacity),nt&&!ot&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(r,t){var i=this._getTilePos(r),e=this._tileCoordsToKey(r),n=this.createTile(this._wrapCoords(r),ye(this._tileReady,this,r));this._initTile(n),2>this.createTile.length&&x(ye(this._tileReady,this,r,null,n)),ro(n,i),this._tiles[e]={el:n,coords:r,current:!0},t.appendChild(n),this.fire("tileloadstart",{tile:n,coords:r})},_tileReady:function(o,t,i){t&&this.fire("tileerror",{error:t,tile:i,coords:o});var r=this._tileCoordsToKey(o);(i=this._tiles[r])&&(i.loaded=+new Date,this._map._fadeAnimated?(oo(i.el,0),f(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),t||(Ht(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt||!this._map._fadeAnimated?x(this._pruneTiles,this):setTimeout(ye(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new S(this._wrapX?n(e.x,this._wrapX):e.x,this._wrapY?n(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new A(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),on=nn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=l(this,t)).detectRetina&&Tt&&0<t.maxZoom&&(t.tileSize=Bo(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Xo(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(o,t){var n=document.createElement("img");return uo(n,"load",ye(this._tileOnLoad,this,t,n)),uo(n,"error",ye(this._tileOnError,this,t,n)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(o),n},getTileUrl:function(o){var t={r:Tt?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()},e;return this._map&&!this._map.options.crs.infinite&&(e=this._globalTileRange.max.y-o.y,this.options.tms&&(t.y=e),t["-y"]=e),_(this._url,ne(t,this.options))},_tileOnLoad:function(e,t){tt?setTimeout(ye(e,this,null,t),0):e(null,t)},_tileOnError:function(o,t,i){var e=this.options.errorTileUrl;e&&t.getAttribute("src")!==e&&(t.src=e),o(i,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,o=this.options.maxZoom;return this.options.zoomReverse&&(e=o-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=qo(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,o;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((o=this._tiles[e].el).onload=p,o.onerror=p,o.complete||(o.src=g,kt(o),delete this._tiles[e]))},_removeTile:function(e){var t=this._tiles[e];if(t)return rt||t.el.setAttribute("src",g),nn.prototype._removeTile.call(this,e)},_tileReady:function(o,t,n){if(this._map&&(!n||n.getAttribute("src")!==g))return nn.prototype._tileReady.call(this,o,t,n)}}),sn=on.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,t){this._url=r;var a=ne({},this.defaultWmsParams);for(var e in t)e in this.options||(a[e]=t[e]);var n=(t=l(this,t)).detectRetina&&Tt?2:1,o=this.getTileSize();a.width=o.x*n,a.height=o.y*n,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[t]=this._crs.code,on.prototype.onAdd.call(this,e)},getTileUrl:function(p){var t=this._tileCoordsToNwSe(p),i=this._crs,e=I(i.project(t[0]),i.project(t[1])),n=e.min,o=e.max,s=(1.3<=this._wmsVersion&&this._crs===Le?[n.y,n.x,o.y,o.x]:[n.x,n.y,o.x,o.y]).join(","),r=on.prototype.getTileUrl.call(this,p);return r+c(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,t){return ne(this.wmsParams,e),t||this.redraw(),this}});on.WMS=sn,Ke.wms=function(e,t){return new sn(e,t)};var an=qn.extend({options:{padding:.1,tolerance:0},initialize:function(e){l(this,e),fe(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ht(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,t){var i=this._map.getZoomScale(t,this._zoom),e=ao(this._container),n=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),s=this._map.project(p,t).subtract(o),r=n.multiplyBy(-i).add(e).add(n).subtract(s);gt?io(this._container,r,i):ro(this._container,r)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var o=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-o)).round();this._bounds=new A(n,n.add(t.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),hn=an.extend({getEvents:function(){var e=an.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");uo(e,"mousemove",this._onMouseMove,this),uo(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),uo(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){f(this._redrawRequest),delete this._ctx,kt(this._container),yo(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){var o,r,a,s;this._map._animatingZoom&&this._bounds||(an.prototype._update.call(this),o=this._bounds,r=this._container,a=o.getSize(),s=Tt?2:1,ro(r,o.min),r.width=s*a.x,r.height=s*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",Tt&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update"))},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e);var t=(this._layers[fe(e)]=e)._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(o){var t=o._order,i=t.next,e=t.prev;i?i.prev=e:this._drawLast=e,e?e.next=i:this._drawFirst=i,delete o._order,delete this._layers[fe(o)],this._requestRedraw(o)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(r){if("string"==typeof r.options.dashArray){for(var t=r.options.dashArray.split(/[, ]+/),e=[],n=0,a;n<t.length;n++){if(a=+t[n],isNaN(a))return;e.push(a)}r.options._dashArray=e}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||x(this._redraw,this))},_extendRedrawBounds:function(e){var t;e._pxBounds&&(t=(e.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds,o;e?(o=e.getSize(),this._ctx.clearRect(e.min.x,e.min.y,o.x,o.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var o=this._redrawBounds,e,r;this._ctx.save(),o&&(r=o.getSize(),this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,r.x,r.y),this._ctx.clip()),this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)e=a.layer,(!o||e._pxBounds&&e._pxBounds.intersects(o))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,t){if(this._drawing){var i=p._parts,r=i.length,a=this._ctx,d,l,g,c;if(r){for(a.beginPath(),d=0;d<r;d++){for(l=0,g=i[d].length;l<g;l++)c=i[d][l],a[l?"lineTo":"moveTo"](c.x,c.y);t&&a.closePath()}this._fillStroke(a,p)}}},_updateCircle:function(r){var t,a,s,p;this._drawing&&!r._empty()&&(t=r._point,a=this._ctx,s=Xo(Zo(r._radius),1),1!=(p=(Xo(Zo(r._radiusY),1)||s)/s)&&(a.save(),a.scale(1,p)),a.beginPath(),a.arc(t.x,t.y/p,s,0,2*Vo,!1),1!=p&&a.restore(),this._fillStroke(a,r))},_fillStroke:function(o,t){var n=t.options;n.fill&&(o.globalAlpha=n.fillOpacity,o.fillStyle=n.fillColor||n.color,o.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(o.setLineDash&&o.setLineDash(t.options&&t.options._dashArray||[]),o.globalAlpha=n.opacity,o.lineWidth=n.weight,o.strokeStyle=n.color,o.lineCap=n.lineCap,o.lineJoin=n.lineJoin,o.stroke())},_onClick:function(r){for(var t=this._map.mouseEventToLayerPoint(r),n=this._drawFirst,a,s;n;n=n.next)(a=n.layer).options.interactive&&a._containsPoint(t)&&(("click"===r.type||"preclick"!==r.type)&&this._map._draggableMoved(a)||(s=a));s&&(No(r),this._fireEvent([s],r))},_onMouseMove:function(e){var t;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(t=this._map.mouseEventToLayerPoint(e),this._handleMouseHover(e,t))},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,t){if(!this._mouseHoverThrottled){for(var i=this._drawFirst,a,s;i;i=i.next)(a=i.layer).options.interactive&&a._containsPoint(t)&&(s=a);s!==this._hoveredLayer&&(this._handleMouseOut(r),s&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseover"),this._hoveredLayer=s)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],r),this._mouseHoverThrottled=!0,setTimeout(ye(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,t,n){this._map._fireDOMEvent(t,n||t.type,o)},_bringToFront:function(o){var t=o._order,n,r;t&&(n=t.next,r=t.prev,n&&((n.prev=r)?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,(this._drawLast.next=t).next=null,this._drawLast=t,this._requestRedraw(o)))},_bringToBack:function(o){var t=o._order,n,r;t&&(n=t.next,(r=t.prev)&&((r.next=n)?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(o)))}}),un=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+" class=\"lvml\">")}}catch(e){return function(e){return document.createElement("<"+e+" xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">")}}}(),cn=Zt?un:k,dn=an.extend({getEvents:function(){var e=an.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=cn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){kt(this._container),yo(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){var o,n,r;this._map._animatingZoom&&this._bounds||(an.prototype._update.call(this),n=(o=this._bounds).getSize(),r=this._container,this._svgSize&&this._svgSize.equals(n)||(this._svgSize=n,r.setAttribute("width",n.x),r.setAttribute("height",n.y)),ro(r,o.min),r.setAttribute("viewBox",[o.min.x,o.min.y,n.x,n.y].join(" ")),this.fire("update"))},_initPath:function(e){var t=e._path=cn("path");e.options.className&&Ht(t,e.options.className),e.options.interactive&&Ht(t,"leaflet-interactive"),this._updateStyle(e),this._layers[fe(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){kt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[fe(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(o){var t=o._path,n=o.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,G(e._parts,t))},_updateCircle:function(r){var t=r._point,i=Xo(Zo(r._radius),1),e="a"+i+","+(Xo(Zo(r._radiusY),1)||i)+" 0 1,0 ",n=r._empty()?"M0 0":"M"+(t.x-i)+","+t.y+e+2*i+",0 "+e+2*-i+",0 ";this._setPath(r,n)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){Gt(e._path)},_bringToBack:function(e){jt(e._path)}});Zt&&dn.include({_initContainer:function(){this._container=Ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=un("shape");Ht(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=un("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[fe(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;kt(t),e.removeInteractiveTarget(t),delete this._layers[fe(e)]},_updateStyle:function(r){var t=r._stroke,a=r._fill,s=r.options,n=r._container;n.stroked=!!s.stroke,n.filled=!!s.fill,s.stroke?(t=t||(r._stroke=un("stroke")),n.appendChild(t),t.weight=s.weight+"px",t.color=s.color,t.opacity=s.opacity,t.dashStyle=s.dashArray?d(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):"",t.endcap=s.lineCap.replace("butt","flat"),t.joinstyle=s.lineJoin):t&&(n.removeChild(t),r._stroke=null),s.fill?(a=a||(r._fill=un("fill")),n.appendChild(a),a.color=s.fillColor||s.color,a.opacity=s.fillOpacity):a&&(n.removeChild(a),r._fill=null)},_updateCircle:function(o){var t=o._point.round(),i=Zo(o._radius),e=Zo(o._radiusY||i);this._setPath(o,o._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+e+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){Gt(e._container)},_bringToBack:function(e){jt(e._container)}}),An.include({getRenderer:function(e){var t=(t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());return this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Oo(e)||Do(e)}});var pn=Oe.extend({initialize:function(e,t){Oe.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=R(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});dn.create=cn,dn.pointsToPath=G,Re.geometryToLayer=ge,Re.coordsToLatLng=je,Re.coordsToLatLngs=We,Re.latLngToCoords=He,Re.latLngsToCoords=Fe,Re.getFeature=Ue,Re.asFeature=Ve,An.mergeOptions({boxZoom:!0});var fn=te.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){uo(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){yo(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){return!!(e.shiftKey&&(1===e.which||1===e.button))&&void(this._clearDeferredResetState(),this._resetState(),En(),so(),this._startPoint=this._map.mouseEventToContainerPoint(e),uo(document,{contextmenu:bo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ft("div","leaflet-zoom-box",this._container),Ht(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var t=new A(this._point,this._startPoint),n=t.getSize();ro(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(kt(this._box),Wt(this._container,"leaflet-crosshair")),Cn(),po(),yo(document,{contextmenu:bo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){var t;1!==e.which&&1!==e.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(ye(this._resetState,this),0),t=new O(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})))},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});An.addInitHook("addHandler","boxZoom",fn),An.mergeOptions({doubleClickZoom:!0});var gn=te.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var t=this._map,i=t.getZoom(),e=t.options.zoomDelta,n=r.originalEvent.shiftKey?i-e:i+e;"center"===t.options.doubleClickZoom?t.setZoom(n):t.setZoomAround(r.containerPoint,n)}});An.addInitHook("addHandler","doubleClickZoom",gn),An.mergeOptions({dragging:!0,inertia:!ot,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vn=te.extend({addHooks:function(){var e;this._draggable||(e=this._map,this._draggable=new re(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))),Ht(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wt(this._map._container,"leaflet-grab"),Wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map,o;e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(o=R(this._map.options.maxBounds),this._offsetLimit=I(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=ko(1,Xo(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){var t,n;this._map.options.inertia&&(t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(n),this._times.push(t),this._prunePositions(t)),this._map.fire("move",o).fire("drag",o)},_prunePositions:function(e){for(;1<this._positions.length&&50<e-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){var e,o;this._viscosity&&this._offsetLimit&&(e=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit,e.x<o.min.x&&(e.x=this._viscousLimit(e.x,o.min.x)),e.y<o.min.y&&(e.y=this._viscousLimit(e.y,o.min.y)),e.x>o.max.x&&(e.x=this._viscousLimit(e.x,o.max.x)),e.y>o.max.y&&(e.y=this._viscousLimit(e.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(e))},_onPreDragWrap:function(){var a=this._worldWidth,t=Zo(a/2),i=this._initialWorldOffset,e=this._draggable._newPos.x,n=(e-t+i)%a+t-i,o=(e+t+i)%a-t-i,s=qo(n+i)<qo(o+i)?n:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(p){var t=this._map,d=t.options,l=!d.inertia||2>this._times.length,g,c,_,y,m,f,E,C,I;t.fire("dragend",p),l?t.fire("moveend"):(this._prunePositions(+new Date),g=this._lastPos.subtract(this._positions[0]),c=(this._lastTime-this._times[0])/1e3,_=d.easeLinearity,m=(y=g.multiplyBy(_/c)).distanceTo([0,0]),f=ko(d.inertiaMaxSpeed,m),E=y.multiplyBy(f/m),C=f/(d.inertiaDeceleration*_),(I=E.multiplyBy(-C/2).round()).x||I.y?(I=t._limitOffset(I,t.options.maxBounds),x(function(){t.panBy(I,{duration:C,easeLinearity:_,noMoveStart:!0,animate:!0})})):t.fire("moveend"))}});An.addInitHook("addHandler","dragging",vn),An.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yn=te.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;0>=e.tabIndex&&(e.tabIndex="0"),uo(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),yo(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var o,r,a,s;this._focused||(o=document.body,r=document.documentElement,a=o.scrollTop||r.scrollTop,s=o.scrollLeft||r.scrollLeft,this._map._container.focus(),window.scrollTo(s,a))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){for(var t=this._panKeys={},i=this.keyCodes,e=0,a=i.left.length;e<a;e++)t[i.left[e]]=[-1*r,0];for(e=0,a=i.right.length;e<a;e++)t[i.right[e]]=[r,0];for(e=0,a=i.down.length;e<a;e++)t[i.down[e]]=[0,r];for(e=0,a=i.up.length;e<a;e++)t[i.up[e]]=[0,-1*r]},_setZoomDelta:function(r){for(var t=this._zoomKeys={},i=this.keyCodes,e=0,a=i.zoomIn.length;e<a;e++)t[i.zoomIn[e]]=r;for(e=0,a=i.zoomOut.length;e<a;e++)t[i.zoomOut[e]]=-r},_addHooks:function(){uo(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){yo(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var t=o.keyCode,e=this._map,n;if(t in this._panKeys)e._panAnim&&e._panAnim._inProgress||(n=this._panKeys[t],o.shiftKey&&(n=P(n).multiplyBy(3)),e.panBy(n),e.options.maxBounds&&e.panInsideBounds(e.options.maxBounds));else if(t in this._zoomKeys)e.setZoom(e.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[t]);else{if(27!==t||!e._popup||!e._popup.options.closeOnEscapeKey)return;e.closePopup()}bo(o)}}});An.addInitHook("addHandler","keyboard",yn),An.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xn=te.extend({addHooks:function(){uo(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){yo(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var t=So(o),i=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var e=Xo(i-(new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(ye(this._performZoom,this),e),bo(o)},_performZoom:function(){var a=this._map,t=a.getZoom(),i=this._map.options.zoomSnap||0;a._stop();var e=this._delta/(4*this._map.options.wheelPxPerZoomLevel),n=4*zo(2/(1+Mo(-qo(e))))/Fo,o=i?Ho(n/i)*i:n,s=a._limitZoom(t+(0<this._delta?o:-o))-t;this._delta=0,this._startTime=null,s&&("center"===a.options.scrollWheelZoom?a.setZoom(t+s):a.setZoomAround(this._lastMousePos,t+s))}});An.addInitHook("addHandler","scrollWheelZoom",xn),An.mergeOptions({tap:!0,tapTolerance:15});var wn=te.extend({addHooks:function(){uo(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){yo(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(o.touches){if(Io(o),this._fireClick=!0,1<o.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=o.touches[0],n=t.target;this._startPos=this._newPos=new S(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&Ht(n,"leaflet-active"),this._holdTimeout=setTimeout(ye(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3),this._simulateEvent("mousedown",t),uo(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(o){var t,n;clearTimeout(this._holdTimeout),yo(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&o&&o.changedTouches&&((n=(t=o.changedTouches[0]).target)&&n.tagName&&"a"===n.tagName.toLowerCase()&&Wt(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new S(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(o,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(o,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});Lt&&(!Pt||lt)&&An.addInitHook("addHandler","tap",wn),An.mergeOptions({touchZoom:Lt&&!ot,bounceAtZoomLimits:!0});var Pn=te.extend({addHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),uo(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),yo(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var t=this._map,n,r;!o.touches||2!==o.touches.length||t._animatingZoom||this._zooming||(n=t.mouseEventToContainerPoint(o.touches[0]),r=t.mouseEventToContainerPoint(o.touches[1]),this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),uo(document,"touchmove",this._onTouchMove,this),uo(document,"touchend",this._onTouchEnd,this),Io(o))},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var t=this._map,i=t.mouseEventToContainerPoint(a.touches[0]),e=t.mouseEventToContainerPoint(a.touches[1]),n=i.distanceTo(e)/this._startDist;if(!(this._zoom=t.getScaleZoom(n,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&1>n||this._zoom>t.getMaxZoom()&&1<n)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom)){var o=i._add(e)._divideBy(2)._subtract(this._centerPoint);if(1==n&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}else if(this._center=this._startLatLng,1==n)return;this._moved||(t._moveStart(!0,!1),this._moved=!0),f(this._animRequest);var s=ye(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=x(s,this,!0),Io(a)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,f(this._animRequest),yo(document,"touchmove",this._onTouchMove,this),yo(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});An.addInitHook("addHandler","touchZoom",Pn),An.BoxZoom=fn,An.DoubleClickZoom=gn,An.Drag=vn,An.Keyboard=yn,An.ScrollWheelZoom=xn,An.Tap=wn,An.TouchZoom=Pn,U.version="1.7.1",U.Control=Mn,U.control=Po,U.Browser={ie:Q,ielt9:tt,edge:it,webkit:et,android:nt,android23:ot,androidStock:rt,opera:at,chrome:ht,gecko:ut,safari:lt,phantom:ct,opera12:_t,win:dt,ie3d:pt,webkit3d:mt,gecko3d:ft,any3d:gt,mobile:vt,mobileWebkit:vt&&et,mobileWebkit3d:vt&&mt,msPointer:yt,pointer:Pt,touch:Lt,mobileOpera:bt,mobileGecko:vt&&ut,retina:Tt,passiveEvents:zt,canvas:Ct,svg:St,vml:Zt},U.Evented=Z,U.Mixin={Events:C},U.Util=T,U.Class=v,U.Handler=te,U.extend=ne,U.bind=ye,U.stamp=fe,U.setOptions=l,U.DomEvent={on:uo,off:yo,stopPropagation:xo,disableScrollPropagation:Eo,disableClickPropagation:Co,preventDefault:Io,stop:bo,getMousePosition:Lo,getWheelDelta:So,fakeStop:No,skipped:vo,isExternalTarget:To,addListener:uo,removeListener:yo},U.DomUtil=Nn,U.PosAnimation=Dn,U.Draggable=re,U.LineUtil={simplify:Ro,pointToSegmentDistance:he,closestPointOnSegment:function(o,t,n){return _e(o,t,n)},clipSegment:ue,_getEdgeIntersection:le,_getBitCode:ce,_sqClosestPointOnSegment:_e,isFlat:de,_flat:pe},U.PolyUtil={clipPolygon:me},U.Point=S,U.point=P,U.Bounds=A,U.bounds=I,U.Transformation=M,U.transformation=z,U.Projection={LonLat:ae,Mercator:xe,SphericalMercator:F},U.LatLng=N,U.latLng=D,U.LatLngBounds=O,U.latLngBounds=R,U.CRS=B,U.GeoJSON=Re,U.geoJSON=qe,U.geoJson=qe,U.Layer=qn,U.LayerGroup=Me,U.layerGroup=function(e,t){return new Me(e,t)},U.FeatureGroup=ze,U.featureGroup=function(e,t){return new ze(e,t)},U.ImageOverlay=Ge,U.imageOverlay=function(o,t,n){return new Ge(o,t,n)},U.VideoOverlay=Xe,U.videoOverlay=function(o,t,n){return new Xe(o,t,n)},U.SVGOverlay=Je,U.svgOverlay=function(o,t,n){return new Je(o,t,n)},U.DivOverlay=$e,U.Popup=Qe,U.popup=function(e,t){return new Qe(e,t)},U.Tooltip=tn,U.tooltip=function(e,t){return new tn(e,t)},U.Icon=Ce,U.icon=function(e){return new Ce(e)},U.DivIcon=en,U.divIcon=function(e){return new en(e)},U.Marker=Ee,U.marker=function(e,t){return new Ee(e,t)},U.TileLayer=on,U.tileLayer=Ke,U.GridLayer=nn,U.gridLayer=function(e){return new nn(e)},U.SVG=dn,U.svg=Do,U.Renderer=an,U.Canvas=hn,U.canvas=Oo,U.Path=ke,U.CircleMarker=Be,U.circleMarker=function(e,t){return new Be(e,t)},U.Circle=Ae,U.circle=function(o,t,n){return new Ae(o,t,n)},U.Polyline=Ie,U.polyline=function(e,t){return new Ie(e,t)},U.Polygon=Oe,U.polygon=function(e,t){return new Oe(e,t)},U.Rectangle=pn,U.rectangle=function(e,t){return new pn(e,t)},U.Map=An,U.map=function(e,t){return new An(e,t)};var Ln=window.L;U.noConflict=function(){return window.L=Ln,this},window.L=U}),!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((o=o||self).topojson=o.topojson||{})}(this,function(p){"use strict";var s=Math.floor,x=Math.round;function d(t){return t}function l(t){if(null==t)return d;var p=t.scale[0],o=t.scale[1],a=t.translate[0],i=t.translate[1],l,g;return function(n,e){e||(l=g=0);var t=2,r=n.length,d=Array(r);for(d[0]=(l+=n[0])*p+a,d[1]=(g+=n[1])*o+i;t<r;)d[t]=n[t],++t;return d}}function g(r){function s(t){(t=d(t))[0]<n&&(n=t[0]),t[0]>_&&(_=t[0]),t[1]<g&&(g=t[1]),t[1]>y&&(y=t[1])}function p(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(p);break;case"Point":s(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(s);}}var d=l(r.transform),n=1/0,g=n,_=-n,y=-n,e;for(e in r.arcs.forEach(function(o){for(var e=-1,i=o.length,a;++e<i;)(a=d(o[e],e))[0]<n&&(n=a[0]),a[0]>_&&(_=a[0]),a[1]<g&&(g=a[1]),a[1]>y&&(y=a[1])}),r.objects)p(r.objects[e]);return[n,g,_,y]}function n(a,e){var t=e.id,r=e.bbox,n=null==e.properties?{}:e.properties,o=_(a,e);return null==t&&null==r?{type:"Feature",properties:n,geometry:o}:null==r?{type:"Feature",id:t,properties:n,geometry:o}:{type:"Feature",id:t,bbox:r,properties:n,geometry:o}}function _(r,e){function s(o,e){e.length&&e.pop();for(var t=n[0>o?~o:o],r=0,s=t.length;r<s;++r)e.push(d(t[r],r));0>o&&function(i,e){for(var t=i.length,a=t-e,s;a<--t;)s=i[a],i[a++]=i[t],i[t]=s}(e,s)}function a(t){return d(t)}function i(o){for(var e=[],t=0,i=o.length;t<i;++t)s(o[t],e);return 2>e.length&&e.push(e[0]),e}function t(o){for(var e=i(o);4>e.length;)e.push(e[0]);return e}function p(o){return o.map(t)}var d=l(r.transform),n=r.arcs;return function o(e){var t=e.type,n;switch(t){case"GeometryCollection":return{type:t,geometries:e.geometries.map(o)};case"Point":n=a(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(a);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=p(e.arcs);break;case"MultiPolygon":n=e.arcs.map(p);break;default:return null;}return{type:t,coordinates:n}}(e)}function y(s,e){function t(i,e){for(var t in i){var n=i[t];delete e[n.start],delete n.start,delete n.end,n.forEach(function(t){p[0>t?~t:t]=1}),r.push(n)}}var p={},d={},n={},r=[],l=-1;return e.forEach(function(t,i){var n=s.arcs[0>t?~t:t],r;!(3>n.length)||n[1][0]||n[1][1]||(r=e[++l],e[l]=t,e[i]=r)}),e.forEach(function(e){var t=function(e){var t=s.arcs[0>e?~e:e],n=t[0],o;return s.transform?(o=[0,0],t.forEach(function(t){o[0]+=t[0],o[1]+=t[1]})):o=t[t.length-1],0>e?[o,n]:[n,o]}(e),o=t[0],i=t[1],p,l;if(p=n[o]){if(delete n[p.end],p.push(e),p.end=i,l=d[i]){delete d[l.start];var g=l===p?p:p.concat(l);d[g.start=p.start]=n[g.end=l.end]=g}else d[p.start]=n[p.end]=p;}else if(!(p=d[i]))d[(p=[e]).start=o]=n[p.end=i]=p;else if(delete d[p.start],p.unshift(e),p.start=o,l=n[o]){delete n[l.end];var c=l===p?p:l.concat(p);d[c.start=l.start]=n[c.end=p.end]=c}else d[p.start]=n[p.end]=p}),t(n,d),t(d,n),e.forEach(function(t){p[0>t?~t:t]||r.push([t])}),r}function t(i,e,t){var r,s,p;if(1<arguments.length)r=function(s,e,t){function r(n){var e=0>n?~n:n;(o[e]||(o[e]=[])).push({i:n,g:a})}function i(t){t.forEach(r)}function p(t){t.forEach(i)}var d=[],o=[],a;return function o(e){switch(a=e,e.type){case"GeometryCollection":e.geometries.forEach(o);break;case"LineString":i(e.arcs);break;case"MultiLineString":case"Polygon":p(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(p)}(e.arcs);}}(e),o.forEach(null==t?function(t){d.push(t[0].i)}:function(o){t(o[0].g,o[o.length-1].g)&&d.push(o[0].i)}),d}(0,e,t);else for(s=0,r=Array(p=i.arcs.length);s<p;++s)r[s]=s;return{type:"MultiLineString",arcs:y(i,r)}}function o(i,e){function a(o){o.forEach(function(e){e.forEach(function(e){(s[e=0>e?~e:e]||(s[e]=[])).push(o)})}),r.push(o)}function t(e){return function(i){for(var e=-1,s=i.length,n=i[s-1],p=0,d;++e<s;)d=n,n=i[e],p+=d[0]*n[1]-d[1]*n[0];return Math.abs(p)}(_(i,{type:"Polygon",arcs:[e]}).coordinates[0])}var s={},r=[],p=[];return e.forEach(function o(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(o);break;case"Polygon":a(e.arcs);break;case"MultiPolygon":e.arcs.forEach(a);}}),r.forEach(function(o){if(!o._){var i=[],t=[o];for(o._=1,p.push(i);o=t.pop();)i.push(o),o.forEach(function(o){o.forEach(function(o){s[0>o?~o:o].forEach(function(o){o._||(o._=1,t.push(o))})})})}}),r.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:p.map(function(e){var r=[],p;if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){2>s[0>t?~t:t].length&&r.push(t)})})}),1<(p=(r=y(i,r)).length))for(var d=1,l=t(r[0]),g,_;d<p;++d)(g=t(r[d]))>l&&(_=r[0],r[0]=r[d],r[d]=_,l=g);return r}).filter(function(t){return 0<t.length})}}function e(i,e){for(var t=0,a=i.length,s;t<a;)s=t+a>>>1,i[s]<e?t=s+1:a=s;return t}function m(t){if(null==t)return d;var p=t.scale[0],o=t.scale[1],a=t.translate[0],i=t.translate[1],g,c;return function(n,e){e||(g=c=0);var t=2,r=n.length,d=Array(r),s=x((n[0]-a)/p),l=x((n[1]-i)/o);for(d[0]=s-g,g=s,d[1]=l-c,c=l;t<r;)d[t]=n[t],++t;return d}}p.bbox=g,p.feature=function(o,e){return"string"==typeof e&&(e=o.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return n(o,e)})}:n(o,e)},p.merge=function(t){return _(t,o.apply(this,arguments))},p.mergeArcs=o,p.mesh=function(o){return _(o,t.apply(this,arguments))},p.meshArcs=t,p.neighbors=function(d){function _(t,i){t.forEach(function(t){0>t&&(t=~t);var r=o[t];r?r.push(i):o[t]=[i]})}function n(o,n){o.forEach(function(t){_(t,n)})}var o={},t=d.map(function(){return[]}),y={LineString:_,MultiLineString:n,Polygon:n,MultiPolygon:function(o,i){o.forEach(function(t){n(t,i)})}};for(var r in d.forEach(function o(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){o(e,n)}):e.type in y&&y[e.type](e.arcs,n)}),o)for(var a=o[r],c=a.length,u=0;u<c;++u)for(var m=u+1;m<c;++m){var f=a[u],p=a[m],g;(g=t[f])[r=e(g,p)]!==p&&g.splice(r,0,p),(g=t[p])[r=e(g,f)]!==f&&g.splice(r,0,f)}return t},p.quantize=function(n,e){function d(t){return x(t)}function _(o){var e;switch(o.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:o.geometries.map(_)};break;case"Point":e={type:"Point",coordinates:d(o.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:o.coordinates.map(d)};break;default:return o;}return null!=o.id&&(e.id=o.id),null!=o.bbox&&(e.bbox=o.bbox),null!=o.properties&&(e.properties=o.properties),e}if(n.transform)throw new Error("already quantized");if(e&&e.scale)p=n.bbox;else{if(!(2<=(c=s(e))))throw new Error("n must be \u22652");var y=(p=n.bbox||g(n))[0],o=p[1],a=p[2],i=p[3],c;e={scale:[a-y?(a-y)/(c-1):1,i-o?(i-o)/(c-1):1],translate:[y,o]}}var x=m(e),l=n.objects,h={},p,E;for(E in l)h[E]=_(l[E]);return{type:"Topology",bbox:p,transform:e,objects:h,arcs:n.arcs.map(function(i){var e=0,s=1,p=i.length,o=Array(p),a;for(o[0]=x(i[0],0);++e<p;)((a=x(i[e],e))[0]||a[1])&&(o[s++]=a);return 1==s&&(o[s++]=[0,0]),o.length=s,o})}},p.transform=l,p.untransform=m,Object.defineProperty(p,"__esModule",{value:!0})}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,t.turf=e()}}(function(){var p=Math.atan2,_=Math.sin,u=Math.log,f=Math.min,h=Math.floor,eo=Math.trunc,to=Math.sqrt,oo=Math.abs,no=Math.pow,io=Math.cos,ro=Math.PI,ao=Math.round,so=Math.ceil,po=Math.max,lo;return function(){function s(d,e,n){function t(l,i){if(!e[l]){if(!d[l]){var r="function"==typeof require&&require;if(!i&&r)return r(l,!0);if(o)return o(l,!0);var g=new Error("Cannot find module '"+l+"'");throw g.code="MODULE_NOT_FOUND",g}var a=e[l]={exports:{}};d[l][0].call(a.exports,function(e){var o=d[l][1][e];return t(o||e)},a,a.exports,s,d,e,n)}return e[l].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)t(n[r]);return t}return s}()({1:[function(e,t){t.exports={bbox:e("@turf/bbox").default,buffer:e("@turf/buffer"),clone:e("@turf/clone").default,rewind:e("@turf/rewind")}},{"@turf/bbox":2,"@turf/buffer":4,"@turf/clone":6,"@turf/rewind":10}],2:[function(e,t,o){"use strict";function n(e){var t=[1/0,1/0,-Infinity,-Infinity];return i.coordEach(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}Object.defineProperty(o,"__esModule",{value:!0});var i=e("@turf/meta");n["default"]=n,o.default=n},{"@turf/meta":9}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("@turf/invariant");o.default=function(e){for(var t=n.getCoords(e),o=0,r=1,a,s;r<t.length;)a=s||t[0],s=t[r],o+=(s[0]-a[0])*(s[1]+a[1]),r++;return 0<o}},{"@turf/invariant":8}],4:[function(e,t){'use strict';function o(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function n(e,t,o,p){var g=e.properties||{},_="Feature"===e.type?e.geometry:e;if("GeometryCollection"===_.type){var u=[];return l.geomEach(e,function(e){var i=n(e,t,o,p);i&&u.push(i)}),c.featureCollection(u)}var y=s(_),m={type:_.type,coordinates:r(_.coordinates,y)},f=new d.GeoJSONReader,h=f.read(m),x=c.radiansToLength(c.lengthToRadians(t,o),"meters"),E=d.BufferOp.bufferOp(h,x,p),C=new d.GeoJSONWriter;if(E=C.write(E),!i(E.coordinates)){var I={type:E.type,coordinates:a(E.coordinates,y)};return c.feature(I,g)}}function i(e){return Array.isArray(e[0])?i(e[0]):isNaN(e[0])}function r(e,t){return"object"==typeof e[0]?e.map(function(e){return r(e,t)}):t(e)}function a(e,t){return"object"==typeof e[0]?e.map(function(e){return a(e,t)}):t.invert(e)}function s(e){var t=p(e).geometry.coordinates,o=[-t[0],-t[1]];return g.geoAzimuthalEquidistant().rotate(o).scale(c.earthRadius)}var p=o(e("@turf/center")),d=e("turf-jsts"),l=e("@turf/meta"),g=e("d3-geo"),c=e("@turf/helpers");t.exports=function(e,t,o){o=o||{};var i=o.units||"kilometers",r=o.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof o)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(0>=r)throw new Error("steps must be greater than 0");var a=[];switch(e.type){case"GeometryCollection":return l.geomEach(e,function(e){var o=n(e,t,i,r);o&&a.push(o)}),c.featureCollection(a);case"FeatureCollection":return l.featureEach(e,function(e){var o=n(e,t,i,r);o&&l.featureEach(o,function(e){e&&a.push(e)})}),c.featureCollection(a);}return n(e,t,i,r)}},{"@turf/center":5,"@turf/helpers":7,"@turf/meta":9,"d3-geo":12,"turf-jsts":13}],5:[function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});var i=n(e("@turf/bbox")),r=e("@turf/helpers");o.default=function(e,t){void 0===t&&(t={});var o=i.default(e),n=(o[0]+o[2])/2,a=(o[1]+o[3])/2;return r.point([n,a],t.properties,t)}},{"@turf/bbox":2,"@turf/helpers":7}],6:[function(e,t,o){"use strict";function n(e){var t={type:"Feature"};return Object.keys(e).forEach(function(o){switch(o){case"type":case"properties":case"geometry":return;default:t[o]=e[o];}}),t.properties=i(e.properties),t.geometry=a(e.geometry),t}function i(e){var t={};return e?(Object.keys(e).forEach(function(o){var n=e[o];t[o]="object"==typeof n?null===n?null:Array.isArray(n)?n.map(function(e){return e}):i(n):n}),t):t}function r(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach(function(o){switch(o){case"type":case"features":return;default:t[o]=e[o];}}),t.features=e.features.map(function(e){return n(e)}),t}function a(e){var t={type:e.type};return(e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type)?(t.geometries=e.geometries.map(function(e){return a(e)}),t):(t.coordinates=s(e.coordinates),t)}function s(e){var t=e;return"object"==typeof t[0]?t.map(function(e){return s(e)}):t.slice()}Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return n(e);case"FeatureCollection":return r(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return a(e);default:throw new Error("unknown GeoJSON type");}}},{}],7:[function(e,t,o){"use strict";function n(e,t,o){void 0===o&&(o={});var n={type:"Feature"};return(0===o.id||o.id)&&(n.id=o.id),o.bbox&&(n.bbox=o.bbox),n.properties=t||{},n.geometry=e,n}function i(e,t,o){if(void 0===o&&(o={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(2>e.length)throw new Error("coordinates must be at least 2 numbers long");if(!u(e[0])||!u(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,o)}function r(e,t,o){void 0===o&&(o={});for(var i=0,r=e,a;i<r.length;i++){if(a=r[i],4>a.length)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,o)}function a(e,t,o){if(void 0===o&&(o={}),2>e.length)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,o)}function s(e,t){void 0===t&&(t={});var o={type:"FeatureCollection"};return t.id&&(o.id=t.id),t.bbox&&(o.bbox=t.bbox),o.features=e,o}function p(e,t,o){void 0===o&&(o={});return n({type:"MultiLineString",coordinates:e},t,o)}function d(e,t,o){void 0===o&&(o={});return n({type:"MultiPoint",coordinates:e},t,o)}function l(e,t,o){void 0===o&&(o={});return n({type:"MultiPolygon",coordinates:e},t,o)}function g(e,t){void 0===t&&(t="kilometers");var n=o.factors[t];if(!n)throw new Error(t+" units is invalid");return e*n}function c(e,t){void 0===t&&(t="kilometers");var n=o.factors[t];if(!n)throw new Error(t+" units is invalid");return e/n}function _(e){return 180*(e%(2*ro))/ro}function u(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.earthRadius=6371008.8,o.factors={centimeters:100*o.earthRadius,centimetres:100*o.earthRadius,degrees:o.earthRadius/111325,feet:3.28084*o.earthRadius,inches:39.37*o.earthRadius,kilometers:o.earthRadius/1e3,kilometres:o.earthRadius/1e3,meters:o.earthRadius,metres:o.earthRadius,miles:o.earthRadius/1609.344,millimeters:1e3*o.earthRadius,millimetres:1e3*o.earthRadius,nauticalmiles:o.earthRadius/1852,radians:1,yards:o.earthRadius/1.0936},o.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/o.earthRadius,yards:1/1.0936},o.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},o.feature=n,o.geometry=function(e,t,o){switch(void 0===o&&(o={}),e){case"Point":return i(t).geometry;case"LineString":return a(t).geometry;case"Polygon":return r(t).geometry;case"MultiPoint":return d(t).geometry;case"MultiLineString":return p(t).geometry;case"MultiPolygon":return l(t).geometry;default:throw new Error(e+" is invalid");}},o.point=i,o.points=function(e,t,o){return void 0===o&&(o={}),s(e.map(function(e){return i(e,t)}),o)},o.polygon=r,o.polygons=function(e,t,o){return void 0===o&&(o={}),s(e.map(function(e){return r(e,t)}),o)},o.lineString=a,o.lineStrings=function(e,t,o){return void 0===o&&(o={}),s(e.map(function(e){return a(e,t)}),o)},o.featureCollection=s,o.multiLineString=p,o.multiPoint=d,o.multiPolygon=l,o.geometryCollection=function(e,t,o){void 0===o&&(o={});return n({type:"GeometryCollection",geometries:e},t,o)},o.round=function(e,t){if(void 0===t&&(t=0),t&&!(0<=t))throw new Error("precision must be a positive number");var o=no(10,t||0);return ao(e*o)/o},o.radiansToLength=g,o.lengthToRadians=c,o.lengthToDegrees=function(e,t){return _(c(e,t))},o.bearingToAzimuth=function(e){var t=e%360;return 0>t&&(t+=360),t},o.radiansToDegrees=_,o.degreesToRadians=function(e){return e%360*ro/180},o.convertLength=function(e,t,o){if(void 0===t&&(t="kilometers"),void 0===o&&(o="kilometers"),!(0<=e))throw new Error("length must be a positive number");return g(c(e,t),o)},o.convertArea=function(e,t,n){if(void 0===t&&(t="meters"),void 0===n&&(n="kilometers"),!(0<=e))throw new Error("area must be a positive number");var i=o.areaFactors[t];if(!i)throw new Error("invalid original units");var r=o.areaFactors[n];if(!r)throw new Error("invalid final units");return e/i*r},o.isNumber=u,o.isObject=function(e){return!!e&&e.constructor===Object},o.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!u(e))throw new Error("bbox must only contain numbers")})},o.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},{}],8:[function(e,t,o){"use strict";function n(e){if(1<e.length&&i.isNumber(e[0])&&i.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return n(e[0]);throw new Error("coordinates must only contain numbers")}Object.defineProperty(o,"__esModule",{value:!0});var i=e("@turf/helpers");o.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&2<=e.length&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},o.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates;}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},o.containsNumber=n,o.geojsonType=function(e,t,o){if(!t||!o)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+o+": must be a "+t+", given "+e.type)},o.featureOf=function(e,t,o){if(!e)throw new Error("No feature passed");if(!o)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+o+": must be a "+t+", given "+e.geometry.type)},o.collectionOf=function(e,t,o){if(!e)throw new Error("No featureCollection passed");if(!o)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+o+", FeatureCollection required");for(var n=0,i=e.features,r;n<i.length;n++){if(r=i[n],!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!r.geometry||r.geometry.type!==t)throw new Error("Invalid input to "+o+": must be a "+t+", given "+r.geometry.type)}},o.getGeom=function(e){return"Feature"===e.type?e.geometry:e},o.getType=function(e){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},{"@turf/helpers":7}],9:[function(e,t,o){'use strict';function n(e,t,o){if(null!==e)for(var i=0,r=0,a=e.type,s="FeatureCollection"===a,p=s?e.features.length:1,d=0,g,c,_,u,y,m,f,h;d<p;d++){f=s?e.features[d].geometry:"Feature"===a?e.geometry:e,h=!!f&&"GeometryCollection"===f.type,y=h?f.geometries.length:1;for(var x=0;x<y;x++){var E=0,C=0;if(u=h?f.geometries[x]:f,null!==u){m=u.coordinates;var I=u.type;switch(i=o&&("Polygon"===I||"MultiPolygon"===I)?1:0,I){case null:break;case"Point":if(!1===t(m,r,d,E,C))return!1;r++,E++;break;case"LineString":case"MultiPoint":for(g=0;g<m.length;g++){if(!1===t(m[g],r,d,E,C))return!1;r++,"MultiPoint"===I&&E++}"LineString"===I&&E++;break;case"Polygon":case"MultiLineString":for(g=0;g<m.length;g++){for(c=0;c<m[g].length-i;c++){if(!1===t(m[g][c],r,d,E,C))return!1;r++}"MultiLineString"===I&&E++,"Polygon"===I&&C++}"Polygon"===I&&E++;break;case"MultiPolygon":for(g=0;g<m.length;g++){for(C=0,c=0;c<m[g].length;c++){for(_=0;_<m[g][c].length-i;_++){if(!1===t(m[g][c][_],r,d,E,C))return!1;r++}C++}E++}break;case"GeometryCollection":for(g=0;g<u.geometries.length;g++)if(!1===n(u.geometries[g],t,o))return!1;break;default:throw new Error("Unknown Geometry Type");}}}}}function i(e,t){var o;switch(e.type){case"FeatureCollection":for(o=0;o<e.features.length&&!(!1===t(e.features[o].properties,o));o++);break;case"Feature":t(e.properties,0);}}function r(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var o=0;o<e.features.length&&!1!==t(e.features[o],o);o++);}function a(e,t){var o=0,n="FeatureCollection"===e.type,r="Feature"===e.type,a=n?e.features.length:1,s,p,d,l,c,_,u,y,m,f;for(s=0;s<a;s++){for(_=n?e.features[s].geometry:r?e.geometry:e,y=n?e.features[s].properties:r?e.properties:{},m=n?e.features[s].bbox:r?e.bbox:void 0,f=n?e.features[s].id:r?e.id:void 0,u=!!_&&"GeometryCollection"===_.type,c=u?_.geometries.length:1,d=0;d<c;d++){if(l=u?_.geometries[d]:_,null===l){if(!1===t(null,o,y,m,f))return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(!1===t(l,o,y,m,f))return!1;break}case"GeometryCollection":{for(p=0;p<l.geometries.length;p++)if(!1===t(l.geometries[p],o,y,m,f))return!1;break}default:throw new Error("Unknown Geometry Type");}}o++}}function s(e,t){a(e,function(e,o,n,i,r){var a=null===e?null:e.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==t(l.feature(e,n,{bbox:i,id:r}),o,0)&&void 0;}var s;"MultiPoint"===a?s="Point":"MultiLineString"===a?s="LineString":"MultiPolygon"===a?s="Polygon":void 0;for(var p=0;p<e.coordinates.length;p++){var d=e.coordinates[p],g={type:s,coordinates:d};if(!1===t(l.feature(g,n),o,p))return!1}})}function p(e,t){s(e,function(e,o,i){var r=0;if(e.geometry){var a=e.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var s=0,p=0,d=0,g;if(!1===n(e,function(n,a,c,_,u){if(void 0===g||o>s||_>p||u>d)return g=n,s=o,p=_,d=u,void(r=0);var y=l.lineString([g,n],e.properties);return!1!==t(y,o,i,u,r)&&void(r++,g=n)}))return!1}}})}function d(e,t){if(!e)throw new Error("geojson is required");s(e,function(e,o,n){if(null!==e.geometry){var i=e.geometry.type,r=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,o,n,0,0))return!1;break;case"Polygon":for(var a=0;a<r.length;a++)if(!1===t(l.lineString(r[a],e.properties),o,n,a))return!1;}}})}Object.defineProperty(o,"__esModule",{value:!0});var l=e("@turf/helpers");o.coordEach=n,o.coordReduce=function(e,t,o,i){var r=o;return n(e,function(e,n,i,a,s){r=0===n&&void 0===o?e:t(r,e,n,i,a,s)},i),r},o.propEach=i,o.propReduce=function(e,t,o){var n=o;return i(e,function(e,i){n=0===i&&void 0===o?e:t(n,e,i)}),n},o.featureEach=r,o.featureReduce=function(e,t,o){var n=o;return r(e,function(e,i){n=0===i&&void 0===o?e:t(n,e,i)}),n},o.coordAll=function(e){var t=[];return n(e,function(e){t.push(e)}),t},o.geomEach=a,o.geomReduce=function(e,t,o){var n=o;return a(e,function(e,i,r,a,s){n=0===i&&void 0===o?e:t(n,e,i,r,a,s)}),n},o.flattenEach=s,o.flattenReduce=function(e,t,o){var n=o;return s(e,function(e,i,r){n=0===i&&0===r&&void 0===o?e:t(n,e,i,r)}),n},o.segmentEach=p,o.segmentReduce=function(e,t,o){var n=o,i=!1;return p(e,function(e,r,a,s,p){n=!1===i&&void 0===o?e:t(n,e,r,a,s,p),i=!0}),n},o.lineEach=d,o.lineReduce=function(e,t,o){var n=o;return d(e,function(e,i,r,a){n=0===i&&void 0===o?e:t(n,e,i,r,a)}),n},o.findSegment=function(e,t){if(t=t||{},!l.isObject(t))throw new Error("options is invalid");var o=t.featureIndex||0,n=t.multiFeatureIndex||0,i=t.geometryIndex||0,r=t.segmentIndex||0,a=t.properties,s;switch(e.type){case"FeatureCollection":0>o&&(o=e.features.length+o),a=a||e.features[o].properties,s=e.features[o].geometry;break;case"Feature":a=a||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid");}if(null===s)return null;var p=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return 0>r&&(r=p.length+r-1),l.lineString([p[r],p[r+1]],a,t);case"Polygon":return 0>i&&(i=p.length+i),0>r&&(r=p[i].length+r-1),l.lineString([p[i][r],p[i][r+1]],a,t);case"MultiLineString":return 0>n&&(n=p.length+n),0>r&&(r=p[n].length+r-1),l.lineString([p[n][r],p[n][r+1]],a,t);case"MultiPolygon":return 0>n&&(n=p.length+n),0>i&&(i=p[n].length+i),0>r&&(r=p[n][i].length-r-1),l.lineString([p[n][i][r],p[n][i][r+1]],a,t);}throw new Error("geojson is invalid")},o.findPoint=function(e,t){if(t=t||{},!l.isObject(t))throw new Error("options is invalid");var o=t.featureIndex||0,n=t.multiFeatureIndex||0,i=t.geometryIndex||0,r=t.coordIndex||0,a=t.properties,s;switch(e.type){case"FeatureCollection":0>o&&(o=e.features.length+o),a=a||e.features[o].properties,s=e.features[o].geometry;break;case"Feature":a=a||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid");}if(null===s)return null;var p=s.coordinates;switch(s.type){case"Point":return l.point(p,a,t);case"MultiPoint":return 0>n&&(n=p.length+n),l.point(p[n],a,t);case"LineString":return 0>r&&(r=p.length+r),l.point(p[r],a,t);case"Polygon":return 0>i&&(i=p.length+i),0>r&&(r=p[i].length+r),l.point(p[i][r],a,t);case"MultiLineString":return 0>n&&(n=p.length+n),0>r&&(r=p[n].length+r),l.point(p[n][r],a,t);case"MultiPolygon":return 0>n&&(n=p.length+n),0>i&&(i=p[n].length+i),0>r&&(r=p[n][i].length-r),l.point(p[n][i][r],a,t);}throw new Error("geojson is invalid")}},{"@turf/helpers":7}],10:[function(e,t){'use strict';function o(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function n(e,t){var o="Feature"===e.type?e.geometry.type:e.type;return"GeometryCollection"===o?(p.geomEach(e,function(e){n(e,t)}),e):"LineString"===o?(i(d.getCoords(e),t),e):"Polygon"===o?(r(d.getCoords(e),t),e):"MultiLineString"===o?(d.getCoords(e).forEach(function(e){i(e,t)}),e):"MultiPolygon"===o?(d.getCoords(e).forEach(function(e){r(e,t)}),e):"Point"===o||"MultiPoint"===o?e:void 0}function i(e,t){s(e)===t&&e.reverse()}function r(e,t){s(e[0])!==t&&e[0].reverse();for(var o=1;o<e.length;o++)s(e[o])===t&&e[o].reverse()}var a=o(e("@turf/clone")),s=o(e("@turf/boolean-clockwise")),p=e("@turf/meta"),d=e("@turf/invariant"),l=e("@turf/helpers");t.exports=function(e,t){if(t=t||{},!l.isObject(t))throw new Error("options is invalid");var o=t.reverse||!1,i=t.mutate||!1;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof o)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");!1===i&&(e=a(e));var r=[];switch(e.type){case"GeometryCollection":return p.geomEach(e,function(e){n(e,o)}),e;case"FeatureCollection":return p.featureEach(e,function(e){p.featureEach(n(e,o),function(e){r.push(e)})}),l.featureCollection(r);}return n(e,o)}},{"@turf/boolean-clockwise":3,"@turf/clone":6,"@turf/helpers":7,"@turf/invariant":8,"@turf/meta":9}],11:[function(e,t,o){(function(e,n){"object"==typeof o&&"undefined"!=typeof t?n(o):"function"==typeof lo&&lo.amd?lo(["exports"],n):n(e.d3=e.d3||{})})(this,function(e){'use strict';var T=Math.LN10;function t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function o(e){return 1===e.length&&(e=n(e)),{left:function(t,o,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;0>e(t[r],o)?n=r+1:i=r}return n},right:function(t,o,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;0<e(t[r],o)?i=r:n=r+1}return n}}}function n(e){return function(o,n){return t(e(o),n)}}function i(e,t){null==t&&(t=r);for(var o=0,a=e.length-1,n=e[0],s=Array(0>a?0:a);o<a;)s[o]=t(n,n=e[++o]);return s}function r(e,t){return[e,t]}function a(e){return null===e?NaN:+e}function s(e,t){var o=e.length,n=0,r=-1,s=0,p=0,d,l;if(null==t)for(;++r<o;)isNaN(d=a(e[r]))||(l=d-s,s+=l/++n,p+=l*(d-s));else for(;++r<o;)isNaN(d=a(t(e[r],r,e)))||(l=d-s,s+=l/++n,p+=l*(d-s));return 1<n?p/(n-1):void 0}function p(e,t){var o=s(e,t);return o?to(o):o}function d(e,t){var o=e.length,n=-1,r,a,s;if(null==t){for(;++n<o;)if(null!=(r=e[n])&&r>=r)for(a=s=r;++n<o;)null!=(r=e[n])&&(a>r&&(a=r),s<r&&(s=r));}else for(;++n<o;)if(null!=(r=t(e[n],n,e))&&r>=r)for(a=s=r;++n<o;)null!=(r=t(e[n],n,e))&&(a>r&&(a=r),s<r&&(s=r));return[a,s]}function l(e){return function(){return e}}function g(e){return e}function c(e,t,o){e=+e,t=+t,o=2>(a=arguments.length)?(t=e,e=0,1):3>a?1:+o;for(var r=-1,a=0|po(0,so((t-e)/o)),s=Array(a);++r<a;)s[r]=e+r*o;return s}function _(e,t,o){var r=-1,a,s,p,d;if(t=+t,e=+e,o=+o,e===t&&0<o)return[e];if((a=t<e)&&(s=e,e=t,t=s),0===(d=y(e,t,o))||!isFinite(d))return[];if(0<d)for(e=so(e/d),t=h(t/d),p=Array(s=so(t-e+1));++r<s;)p[r]=(e+r)*d;else for(e=h(e*d),t=so(t*d),p=Array(s=so(e-t+1));++r<s;)p[r]=(e-r)/d;return a&&p.reverse(),p}function y(e,t,o){var n=(t-e)/po(0,o),i=h(u(n)/T),r=n/no(10,i);return 0<=i?(r>=w?10:r>=F?5:r>=m?2:1)*no(10,i):-no(10,-i)/(r>=w?10:r>=F?5:r>=m?2:1)}function f(e,t,o){var n=oo(t-e)/po(0,o),i=no(10,h(u(n)/T)),r=n/i;return r>=w?i*=10:r>=F?i*=5:r>=m&&(i*=2),t<e?-i:i}function x(e){return so(u(e.length)/Math.LN2)+1}function E(){function e(e){var a=e.length,n=Array(a),s,p;for(s=0;s<a;++s)n[s]=t(e[s],s,e);var d=o(n),l=d[0],g=d[1],_=r(n,l,g);Array.isArray(_)||(_=f(l,g,_),_=c(so(l/_)*_,g,_));for(var u=_.length;_[0]<=l;)_.shift(),--u;for(;_[u-1]>g;)_.pop(),--u;var y=Array(u+1),h;for(s=0;s<=u;++s)h=y[s]=[],h.x0=0<s?_[s-1]:l,h.x1=s<u?_[s]:g;for(s=0;s<a;++s)p=n[s],l<=p&&p<=g&&y[R(_,p,0,u)].push(e[s]);return y}var t=g,o=d,r=x;return e.value=function(o){return arguments.length?(t="function"==typeof o?o:l(o),e):t},e.domain=function(t){return arguments.length?(o="function"==typeof t?t:l([t[0],t[1]]),e):o},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?l(A.call(t)):l(t),e):r},e}function C(e,t,o){if(null==o&&(o=a),!!(l=e.length)){if(0>=(t=+t)||2>l)return+o(e[0],0,e);if(1<=t)return+o(e[l-1],l-1,e);var r=(l-1)*t,i=h(r),s=+o(e[i],i,e),d=+o(e[i+1],i+1,e),l;return s+(d-s)*(r-i)}}function I(e,t){var o=e.length,n=-1,r,a;if(null==t){for(;++n<o;)if(null!=(r=e[n])&&r>=r)for(a=r;++n<o;)null!=(r=e[n])&&r>a&&(a=r);}else for(;++n<o;)if(null!=(r=t(e[n],n,e))&&r>=r)for(a=r;++n<o;)null!=(r=t(e[n],n,e))&&r>a&&(a=r);return a}function b(e,t){var o=e.length,n=-1,r,a;if(null==t){for(;++n<o;)if(null!=(r=e[n])&&r>=r)for(a=r;++n<o;)null!=(r=e[n])&&a>r&&(a=r);}else for(;++n<o;)if(null!=(r=t(e[n],n,e))&&r>=r)for(a=r;++n<o;)null!=(r=t(e[n],n,e))&&a>r&&(a=r);return a}function S(e,t){var o=e.length,n=-1,r=0,a;if(null==t)for(;++n<o;)(a=+e[n])&&(r+=a);else for(;++n<o;)(a=+t(e[n],n,e))&&(r+=a);return r}function N(e){if(!(p=e.length))return[];for(var t=-1,o=b(e,v),r=Array(o);++t<o;)for(var a=-1,s=r[t]=Array(p),p;++a<p;)s[a]=e[a][t];return r}function v(e){return e.length}var P=o(t),R=P.right,O=P.left,D=Array.prototype,A=D.slice,M=D.map,w=to(50),F=to(10),m=to(2);e.bisect=R,e.bisectRight=R,e.bisectLeft=O,e.ascending=t,e.bisector=o,e.cross=function(e,t,o){var n=e.length,a=t.length,s=Array(n*a),p,d,l,g;for(null==o&&(o=r),p=l=0;p<n;++p)for(g=e[p],d=0;d<a;++d,++l)s[l]=o(g,t[d]);return s},e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.deviation=p,e.extent=d,e.histogram=E,e.thresholdFreedmanDiaconis=function(e,o,n){return e=M.call(e,a).sort(t),so((n-o)/(2*(C(e,.75)-C(e,.25))*no(e.length,-1/3)))},e.thresholdScott=function(e,t,o){return so((o-t)/(3.5*p(e)*no(e.length,-1/3)))},e.thresholdSturges=x,e.max=I,e.mean=function(e,t){var o=e.length,n=o,r=-1,s=0,p;if(null==t)for(;++r<o;)isNaN(p=a(e[r]))?--n:s+=p;else for(;++r<o;)isNaN(p=a(t(e[r],r,e)))?--n:s+=p;return n?s/n:void 0},e.median=function(e,o){var r=e.length,n=-1,s=[],p;if(null==o)for(;++n<r;)isNaN(p=a(e[n]))||s.push(p);else for(;++n<r;)isNaN(p=a(o(e[n],n,e)))||s.push(p);return C(s.sort(t),.5)},e.merge=function(e){for(var t=e.length,o=-1,r=0,a,s,p;++o<t;)r+=e[o].length;for(s=Array(r);0<=--t;)for(p=e[t],a=p.length;0<=--a;)s[--r]=p[a];return s},e.min=b,e.pairs=i,e.permute=function(e,t){for(var o=t.length,n=Array(o);o--;)n[o]=e[t[o]];return n},e.quantile=C,e.range=c,e.scan=function(e,o){if(p=e.length){var r=0,a=0,s=e[a],p,d;for(null==o&&(o=t);++r<p;)(0>o(d=e[r],s)||0!==o(s,s))&&(s=d,a=r);if(0===o(s,s))return a}},e.shuffle=function(e,o,n){for(var r=(null==n?e.length:n)-(o=null==o?0:+o),a,s;r;)s=0|Math.random()*r--,a=e[r+o],e[r+o]=e[s+o],e[s+o]=a;return e},e.sum=S,e.ticks=_,e.tickIncrement=y,e.tickStep=f,e.transpose=N,e.variance=s,e.zip=function(){return N(arguments)},Object.defineProperty(e,"__esModule",{value:!0})})},{}],12:[function(e,t,o){(function(n,i){"object"==typeof o&&"undefined"!=typeof t?i(o,e("d3-array")):"function"==typeof lo&&lo.amd?lo(["exports","d3-array"],i):i(n.d3=n.d3||{},n.d3)})(this,function(e,t){'use strict';function o(){this.reset()}function n(e,t,o){var n=e.s=t+o,i=n-t;e.t=t-(n-i)+(o-i)}function i(e){return 1<e?0:-1>e?mt:Math.acos(e)}function r(e){return 1<e?ft:-1>e?-ft:Math.asin(e)}function s(e){return(e=Rt(e/2))*e}function d(){}function l(e,t){e&&wt.hasOwnProperty(e.type)&&wt[e.type](e,t)}function g(e,t,o){var r=-1,a=e.length-o,n;for(t.lineStart();++r<a;)n=e[r],t.point(n[0],n[1],n[2]);t.lineEnd()}function c(e,t){var o=-1,r=e.length;for(t.polygonStart();++o<r;)g(e[o],t,1);t.polygonEnd()}function y(){Bt.point=h}function m(){x(Xt,Yt)}function h(e,t){Bt.point=x,Xt=e,Yt=t,e*=Ct,t*=Ct,Wt=e,Kt=St(t=t/2+ht),Jt=Rt(t)}function x(e,t){e*=Ct,t*=Ct,t=t/2+ht;var o=e-Wt,n=0<=o?1:-1,i=n*o,r=St(t),a=Rt(t),s=Jt*a,p=Kt*r+s*St(i),d=s*n*Rt(i);zt.add(Lt(d,p)),Wt=e,Kt=r,Jt=a}function E(e){return[Lt(e[1],e[0]),r(e[2])]}function C(e){var t=e[0],o=e[1],n=St(o);return[n*St(t),n*Rt(t),Rt(o)]}function I(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function S(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function N(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function v(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function T(e){var t=Dt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function P(e,t){uo.push(yo=[Qt=e,eo=e]),t<$t&&($t=t),t>ao&&(ao=t)}function R(e,t){var o=C([e*Ct,t*Ct]);if(_o){var n=S(_o,o),i=[n[1],-n[0],0],r=S(i,n);T(r),r=E(r);var a=e-lo,s=0<a?1:-1,p=r[0]*Et*s,d=180<It(a),l;d^(s*lo<p&&p<s*e)?(l=r[1]*Et,l>ao&&(ao=l)):(p=(p+360)%360-180,d^(s*lo<p&&p<s*e))?(l=-r[1]*Et,l<$t&&($t=l)):(t<$t&&($t=t),t>ao&&(ao=t)),d?e<lo?F(Qt,e)>F(Qt,eo)&&(eo=e):F(e,eo)>F(Qt,eo)&&(Qt=e):eo>=Qt?(e<Qt&&(Qt=e),e>eo&&(eo=e)):e>lo?F(Qt,e)>F(Qt,eo)&&(eo=e):F(e,eo)>F(Qt,eo)&&(Qt=e)}else uo.push(yo=[Qt=e,eo=e]);t<$t&&($t=t),t>ao&&(ao=t),_o=o,lo=e}function O(){qt.point=R}function D(){yo[0]=Qt,yo[1]=eo,qt.point=P,_o=null}function A(e,t){if(_o){var o=e-lo;Gt.add(180<It(o)?o+(0<o?360:-360):o)}else go=e,co=t;Bt.point(e,t),R(e,t)}function M(){Bt.lineStart()}function w(){A(go,co),Bt.lineEnd(),It(Gt)>ut&&(Qt=-(eo=180)),yo[0]=Qt,yo[1]=eo,_o=null}function F(e,t){return 0>(t-=e)?t+360:t}function z(e,t){return e[0]-t[0]}function k(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function B(e,t){e*=Ct,t*=Ct;var o=St(t);G(o*St(e),o*Rt(e),Rt(t))}function G(e,t,o){++mo,b+=(e-b)/mo,fo+=(t-fo)/mo,ho+=(o-ho)/mo}function q(){Ut.point=j}function j(e,t){e*=Ct,t*=Ct;var o=St(t);vo=o*St(e),To=o*Rt(e),Po=Rt(t),Ut.point=U,G(vo,To,Po)}function U(e,t){e*=Ct,t*=Ct;var o=St(t),n=o*St(e),i=o*Rt(e),r=Rt(t),s=Lt(Dt((s=To*r-Po*i)*s+(s=Po*n-vo*r)*s+(s=vo*i-To*n)*s),vo*n+To*i+Po*r);a+=s,xo+=s*(vo+(vo=n)),Eo+=s*(To+(To=i)),Co+=s*(Po+(Po=r)),G(vo,To,Po)}function V(){Ut.point=B}function Z(){Ut.point=X}function H(){Y(So,No),Ut.point=B}function X(e,t){So=e,No=t,e*=Ct,t*=Ct,Ut.point=Y;var o=St(t);vo=o*St(e),To=o*Rt(e),Po=Rt(t),G(vo,To,Po)}function Y(e,t){e*=Ct,t*=Ct;var o=St(t),n=o*St(e),i=o*Rt(e),s=Rt(t),p=To*s-Po*i,d=Po*n-vo*s,l=vo*i-To*n,g=Dt(p*p+d*d+l*l),c=r(g),_=g&&-c/g;Io+=_*p,bo+=_*d,Lo+=_*l,a+=c,xo+=c*(vo+(vo=n)),Eo+=c*(To+(To=i)),Co+=c*(Po+(Po=s)),G(vo,To,Po)}function W(e,t){return[e>mt?e-xt:e<-mt?e+xt:e,t]}function K(e,t,o){return(e%=xt)?t||o?Ht(Q(e),ee(t,o)):Q(e):t||o?ee(t,o):W}function J(e){return function(t,o){return t+=e,[t>mt?t-xt:t<-mt?t+xt:t,o]}}function Q(e){var t=J(e);return t.invert=J(-e),t}function ee(e,t){function o(e,t){var o=St(t),p=St(e)*o,d=Rt(e)*o,l=Rt(t),g=l*n+p*i;return[Lt(d*a-g*s,p*n-l*i),r(g*a+d*s)]}var n=St(e),i=Rt(e),a=St(t),s=Rt(t);return o.invert=function(e,t){var o=St(t),p=St(e)*o,d=Rt(e)*o,l=Rt(t),g=l*a-d*s;return[Lt(d*a+l*s,p*n+g*i),r(g*n-p*i)]},o}function te(e,o,n,i,r,a){if(n){var s=St(o),p=Rt(o),d=i*n;null==r?(r=o+i*xt,a=o-d/2):(r=oe(s,r),a=oe(s,a),(0<i?r<a:r>a)&&(r+=i*xt));for(var l=r,g;0<i?l>a:l<a;l-=d)g=E([s,-p*St(l),-p*Rt(l)]),e.point(g[0],g[1])}}function oe(e,t){t=C(t),t[0]-=e,T(t);var o=i(-t[1]);return((0>-t[2]?-o:o)+xt-ut)%xt}function ne(e,t,o,n){this.x=e,this.z=t,this.o=o,this.e=n,this.v=!1,this.n=this.p=null}function ie(e){if(r=e.length){for(var t=0,o=e[0],r,s;++t<r;)o.n=s=e[t],s.p=o,o=s;o.n=s=e[0],s.p=o}}function re(e,o,n,r){function i(t,i){return e<=t&&t<=n&&o<=i&&i<=r}function a(t,i,p,l){var g=0,c=0;if(null==t||(g=s(t,p))!==(c=s(i,p))||0>d(t,i)^0<p)do l.point(0===g||3===g?e:n,1<g?r:o);while((g=(g+p+4)%4)!==c);else l.point(i[0],i[1])}function s(t,i){return It(t[0]-e)<ut?0<i?0:3:It(t[0]-n)<ut?0<i?2:1:It(t[1]-o)<ut?0<i?1:0:0<i?3:2}function p(e,t){return d(e.x,t.x)}function d(e,t){var o=s(e,1),n=s(t,1);return o===n?0===o?t[1]-e[1]:1===o?e[0]-t[0]:2===o?e[1]-t[1]:t[0]-e[0]:o-n}return function(s){function d(e,t){i(e,t)&&m.point(e,t)}function l(){for(var t=0,o=0,a=C.length;o<a;++o)for(var n=C[o],s=1,p=n.length,d=n[0],l=d[0],g=d[1],c,_;s<p;++s)c=l,_=g,d=n[s],l=d[0],g=d[1],_<=r?g>r&&(l-c)*(r-_)>(g-_)*(e-c)&&++t:g<=r&&(l-c)*(r-_)<(g-_)*(e-c)&&--t;return t}function g(){var e=l(),o=A&&e,n=(E=t.merge(E)).length;(o||n)&&(s.polygonStart(),o&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),n&&Mo(E,p,e,a,s),s.polygonEnd()),m=s,E=C=I=null}function c(){x.point=u,C&&C.push(I=[]),D=!0,O=!1,P=R=NaN}function _(){E&&(u(S,N),T&&O&&h.rejoin(),E.push(h.result())),x.point=d,O&&m.lineEnd()}function u(t,s){var p=i(t,s);if(C&&I.push([t,s]),D)S=t,N=s,T=p,D=!1,p&&(m.lineStart(),m.point(t,s));else if(p&&O)m.point(t,s);else{var d=[P=po(-1000000000,f(1000000000,P)),R=po(-1000000000,f(1000000000,R))],a=[t=po(-1000000000,f(1000000000,t)),s=po(-1000000000,f(1000000000,s))];Do(d,a,e,o,n,r)?(!O&&(m.lineStart(),m.point(d[0],d[1])),m.point(a[0],a[1]),!p&&m.lineEnd(),A=!1):p&&(m.lineStart(),m.point(t,s),A=!1)}P=t,R=s,O=p}var m=s,h=Oo(),x={point:d,lineStart:c,lineEnd:_,polygonStart:function(){m=h,E=[],C=[],A=!0},polygonEnd:g},E,C,I,S,N,T,P,R,O,D,A;return x}}function ae(){ko.point=ko.lineEnd=d}function se(e,t){e*=Ct,t*=Ct,cn=e,_n=Rt(t),un=St(t),ko.point=pe}function pe(e,t){e*=Ct,t*=Ct;var o=Rt(t),n=St(t),i=It(e-cn),r=St(i),a=Rt(i),s=n*a,p=un*o-_n*n*r,d=_n*o+un*n*r;zo.add(Lt(Dt(s*s+p*p),d)),cn=e,_n=o,un=n}function de(e,t){return!!(e&&Vo.hasOwnProperty(e.type))&&Vo[e.type](e,t)}function le(e,t){return 0===jo(e,t)}function ge(e,t){var o=jo(e[0],e[1]),n=jo(e[0],t),i=jo(t,e[1]);return n+i<=o+ut}function ce(e,t){return!!Fo(e.map(_e),ue(t))}function _e(e){return e=e.map(ue),e.pop(),e}function ue(e){return[e[0]*Ct,e[1]*Ct]}function ye(e,o,n){var i=t.range(e,o-ut,n).concat(o);return function(e){return i.map(function(t){return[e,t]})}}function me(e,o,n){var i=t.range(e,o-ut,n).concat(o);return function(e){return i.map(function(t){return[t,e]})}}function fe(){function e(){return{type:"MultiLineString",coordinates:o()}}function o(){return t.range(Nt(g/r)*r,l,r).map(C).concat(t.range(Nt(f/a)*a,m,a).map(I)).concat(t.range(Nt(d/n)*n,p,n).filter(function(e){return It(e%r)>ut}).map(h)).concat(t.range(Nt(u/i)*i,c,i).filter(function(e){return It(e%a)>ut}).map(E))}var n=10,i=n,r=90,a=360,s=2.5,p,d,l,g,c,u,m,f,h,E,C,I;return e.lines=function(){return o().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[C(g).concat(I(m).slice(1),C(l).reverse().slice(1),I(f).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(g=+t[0][0],l=+t[1][0],f=+t[0][1],m=+t[1][1],g>l&&(t=g,g=l,l=t),f>m&&(t=f,f=m,m=t),e.precision(s)):[[g,f],[l,m]]},e.extentMinor=function(t){return arguments.length?(d=+t[0][0],p=+t[1][0],u=+t[0][1],c=+t[1][1],d>p&&(t=d,d=p,p=t),u>c&&(t=u,u=c,c=t),e.precision(s)):[[d,u],[p,c]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(r=+t[0],a=+t[1],e):[r,a]},e.stepMinor=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.precision=function(t){return arguments.length?(s=+t,h=ye(u,c,90),E=me(d,p,s),C=ye(f,m,90),I=me(g,l,s),e):s},e.extentMajor([[-180,-90+ut],[180,90-ut]]).extentMinor([[-180,-80-ut],[180,80+ut]])}function he(){Wo.point=xe}function xe(e,t){Wo.point=Ee,yn=fn=e,mn=hn=t}function Ee(e,t){Yo.add(hn*e-fn*t),fn=e,hn=t}function Ce(){Ee(yn,mn)}function Ie(e,t){e<Ko&&(Ko=e),e>Qo&&(Qo=e),t<Jo&&(Jo=t),t>$o&&($o=t)}function be(e,t){tn+=e,on+=t,++nn}function Le(){gn.point=Se}function Se(e,t){gn.point=Ne,be(Cn=e,In=t)}function Ne(e,t){var o=e-Cn,n=t-In,i=Dt(o*o+n*n);rn+=i*(Cn+e)/2,an+=i*(In+t)/2,sn+=i,be(Cn=e,In=t)}function ve(){gn.point=be}function Te(){gn.point=Re}function Pe(){Oe(xn,En)}function Re(e,t){gn.point=Oe,be(xn=Cn=e,En=In=t)}function Oe(e,t){var o=e-Cn,n=t-In,i=Dt(o*o+n*n);rn+=i*(Cn+e)/2,an+=i*(In+t)/2,sn+=i,i=In*e-Cn*t,pn+=i*(Cn+e),dn+=i*(In+t),ln+=3*i,be(Cn=e,In=t)}function De(e){this._context=e}function Ae(e,t){Ln.point=Me,Nn=Tn=e,vn=Pn=t}function Me(e,t){Tn-=e,Pn-=t,bn.add(Dt(Tn*Tn+Pn*Pn)),Tn=e,Pn=t}function we(){this._string=[]}function Fe(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ze(e){return 1<e.length}function ke(e,t){return(0>(e=e.x)[0]?e[1]-ft-ut:ft-e[1])-(0>(t=t.x)[0]?t[1]-ft-ut:ft-t[1])}function Be(e,t,o,n){var i=Rt(e-o),r,a;return It(i)>ut?bt((Rt(t)*(a=St(n))*Rt(o)-Rt(n)*(r=St(t))*Rt(e))/(r*a*i)):(t+n)/2}function Ge(e){return function(t){var o=new qe;for(var n in e)o[n]=e[n];return o.stream=t,o}}function qe(){}function je(e,t,o){var n=t[1][0]-t[0][0],i=t[1][1]-t[0][1],r=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Ft(o,e.stream(en));var a=en.result(),s=f(n/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),p=+t[0][0]+(n-s*(a[1][0]+a[0][0]))/2,d=+t[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=r&&e.clipExtent(r),e.scale(150*s).translate([p,d])}function Ue(e,t,o){return je(e,[[0,0],t],o)}function Ve(e){return Ge({point:function(t,o){t=e(t,o),this.stream.point(t[0],t[1])}})}function Ze(e,t){function o(n,i,s,d,l,g,_,u,y,f,h,x,E,C){var I=_-n,S=u-i,N=I*I+S*S;if(N>4*t&&E--){var v=d+f,T=l+h,P=g+x,R=Dt(v*v+T*T+P*P),m=r(P/=R),O=It(It(P)-1)<ut||It(s-y)<ut?(s+y)/2:Lt(T,v),D=e(O,m),p=D[0],A=D[1],M=p-n,w=A-i,F=S*M-I*w;(F*F/N>t||.3<It((I*M+S*w)/N-.5)||d*f+l*h+g*x<An)&&(o(n,i,s,d,l,g,p,A,O,v/=R,T/=R,P,E,C),C.point(p,A),o(p,A,O,v,T,P,_,u,y,f,h,x,E,C))}}return function(t){function n(o,n){o=e(o,n),t.point(o[0],o[1])}function i(){h=NaN,l.point=r,t.lineStart()}function r(n,i){var r=C([n,i]),a=e(n,i);o(h,x,f,E,I,b,h=a[0],x=a[1],f=n,E=r[0],I=r[1],b=r[2],16,t),t.point(h,x)}function a(){l.point=n,t.lineEnd()}function s(){i(),l.point=p,l.lineEnd=d}function p(e,t){r(g=e,t),c=h,_=x,u=E,y=I,m=b,l.point=r}function d(){o(h,x,f,E,I,b,c,_,g,u,y,m,16,t),l.lineEnd=a,a()}var l={point:n,lineStart:i,lineEnd:a,polygonStart:function(){t.polygonStart(),l.lineStart=s},polygonEnd:function(){t.polygonEnd(),l.lineStart=i}},g,c,_,u,y,m,f,h,x,E,I,b;return l}}function He(e){return Xe(function(){return e})()}function Xe(e){function t(e){return e=v(e[0]*Ct,e[1]*Ct),[e[0]*a+S,_-e[1]*a]}function o(e){return e=v.invert((e[0]-S)/a,(_-e[1])/a),e&&[e[0]*Et,e[1]*Et]}function n(e,t){return e=b(e,t),[e[0]*a+S,_-e[1]*a]}function i(){v=Ht(N=K(g,c,u),b);var e=b(d,l);return S=s-e[0]*a,_=p+e[1]*a,r()}function r(){return O=D=null,t}var a=150,s=480,p=250,d=0,l=0,g=0,c=0,u=0,m=null,f=On,h=null,E=Ho,C=.5,I=Mn(n,C),b,S,_,N,v,T,P,R,O,D;return t.stream=function(e){return O&&D===e?O:O=wn(f(N,I(E(D=e))))},t.clipAngle=function(e){return arguments.length?(f=+e?Dn(m=e*Ct,6*Ct):(m=null,On),r()):m*Et},t.clipExtent=function(e){return arguments.length?(E=null==e?(h=T=P=R=null,Ho):re(h=+e[0][0],T=+e[0][1],P=+e[1][0],R=+e[1][1]),r()):null==h?null:[[h,T],[P,R]]},t.scale=function(e){return arguments.length?(a=+e,i()):a},t.translate=function(e){return arguments.length?(s=+e[0],p=+e[1],i()):[s,p]},t.center=function(e){return arguments.length?(d=e[0]%360*Ct,l=e[1]%360*Ct,i()):[d*Et,l*Et]},t.rotate=function(e){return arguments.length?(g=e[0]%360*Ct,c=e[1]%360*Ct,u=2<e.length?e[2]%360*Ct:0,i()):[g*Et,c*Et,u*Et]},t.precision=function(e){return arguments.length?(I=Mn(n,C=e*e),r()):Dt(C)},t.fitExtent=function(e,o){return je(t,e,o)},t.fitSize=function(e,o){return Ue(t,e,o)},function(){return b=e.apply(this,arguments),t.invert=b.invert&&o,i()}}function Ye(e){var t=0,o=mt/3,n=Xe(e),i=n(t,o);return i.parallels=function(e){return arguments.length?n(t=e[0]*Ct,o=e[1]*Ct):[t*Et,o*Et]},i}function We(e){function t(e,t){return[e*o,Rt(t)/o]}var o=St(e);return t.invert=function(e,t){return[e/o,r(t*o)]},t}function Ke(e,t){function o(e,t){var o=Dt(n-2*a*Rt(t))/a;return[o*Rt(e*=a),s-o*St(e)]}var i=Rt(e),a=(i+Rt(t))/2;if(It(a)<ut)return We(e);var n=1+i*(2*a-i),s=Dt(n)/a;return o.invert=function(e,t){var o=s-t;return[Lt(e,It(o))/a*Ot(o),r((n-(e*e+o*o)*a*a)/(2*a))]},o}function Je(e){var t=e.length;return{point:function(o,n){for(var r=-1;++r<t;)e[r].point(o,n)},sphere:function(){for(var o=-1;++o<t;)e[o].sphere()},lineStart:function(){for(var o=-1;++o<t;)e[o].lineStart()},lineEnd:function(){for(var o=-1;++o<t;)e[o].lineEnd()},polygonStart:function(){for(var o=-1;++o<t;)e[o].polygonStart()},polygonEnd:function(){for(var o=-1;++o<t;)e[o].polygonEnd()}}}function Qe(e){return function(t,o){var n=St(t),i=St(o),r=e(n*i);return[r*i*Rt(t),r*Rt(o)]}}function $e(e){return function(t,o){var n=Dt(t*t+o*o),i=e(n),a=Rt(i),s=St(i);return[Lt(t*a,n*s),r(n&&o*a/n)]}}function et(e,t){return[e,Tt(At((ft+t)/2))]}function tt(e){function t(){var n=mt*i(),r=o(Ro(o.rotate()).invert([0,0]));return a(null==s?[[r[0]-n,r[1]-n],[r[0]+n,r[1]+n]]:e===et?[[po(r[0]-n,s),p],[f(r[0]+n,d),l]]:[[s,po(r[1]-n,p)],[d,f(r[1]+n,l)]])}var o=He(e),n=o.center,i=o.scale,r=o.translate,a=o.clipExtent,s=null,p,d,l;return o.scale=function(e){return arguments.length?(i(e),t()):i()},o.translate=function(e){return arguments.length?(r(e),t()):r()},o.center=function(e){return arguments.length?(n(e),t()):n()},o.clipExtent=function(e){return arguments.length?(null==e?s=p=d=l=null:(s=+e[0][0],p=+e[0][1],d=+e[1][0],l=+e[1][1]),t()):null==s?null:[[s,p],[d,l]]},t()}function ot(e){return At((ft+e)/2)}function nt(e,t){function o(e,t){0<n?t<-ft+ut&&(t=-ft+ut):t>ft-ut&&(t=ft-ut);var o=n/Pt(ot(t),a);return[o*Rt(a*e),n-o*St(a*e)]}var i=St(e),a=e===t?Rt(e):Tt(i/St(t))/Tt(ot(t)/ot(e)),n=i*Pt(ot(e),a)/a;return a?(o.invert=function(e,t){var o=n-t,i=Ot(a)*Dt(e*e+o*o);return[Lt(e,It(o))/a*Ot(o),2*bt(Pt(n/i,1/a))-ft]},o):et}function it(e,t){return[e,t]}function rt(e,t){function o(e,t){var o=n-t,i=r*e;return[o*Rt(i),n-o*St(i)]}var i=St(e),r=e===t?Rt(e):(i-St(t))/(t-e),n=i/r+e;return It(r)<ut?it:(o.invert=function(e,t){var o=n-t;return[Lt(e,It(o))/r*Ot(o),n-Ot(r)*Dt(e*e+o*o)]},o)}function at(e,t){var o=St(t),n=St(e)*o;return[o*Rt(e)/n,Rt(t)/n]}function st(e,t,o,n){return 1===e&&1===t&&0===o&&0===n?Ho:Ge({point:function(i,r){this.stream.point(i*e+o,r*t+n)}})}function pt(e,t){var o=t*t,n=o*o;return[e*(.8707-.131979*o+n*(-.013791+n*(.003971*o-.001529*n))),t*(1.007226+o*(.015085+n*(-.044475+.028874*o-.005916*n)))]}function dt(e,t){return[St(t)*Rt(e),Rt(t)]}function lt(e,t){var o=St(t),n=1+St(e)*o;return[o*Rt(e)/n,Rt(t)/n]}function gt(e,t){return[Tt(At((ft+t)/2)),-e]}var ct=function(){return new o};o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(e){n(_t,e,this.t),n(this,_t.s,this.s),this.s?this.t+=_t.t:this.s=_t.t},valueOf:function(){return this.s}};var _t=new o,ut=1e-6,yt=1e-12,mt=ro,ft=mt/2,ht=mt/4,xt=2*mt,Et=180/mt,Ct=mt/180,It=oo,bt=Math.atan,Lt=p,St=io,Nt=so,vt=Math.exp,Tt=u,Pt=no,Rt=_,Ot=Math.sign||function(e){return 0<e?1:0>e?-1:0},Dt=to,At=Math.tan,Mt={Feature:function(e,t){l(e.geometry,t)},FeatureCollection:function(e,t){for(var o=e.features,r=-1,a=o.length;++r<a;)l(o[r].geometry,t)}},wt={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var o=e.coordinates,r=-1,a=o.length;++r<a;)e=o[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){g(e.coordinates,t,0)},MultiLineString:function(e,t){for(var o=e.coordinates,r=-1,a=o.length;++r<a;)g(o[r],t,0)},Polygon:function(e,t){c(e.coordinates,t)},MultiPolygon:function(e,t){for(var o=e.coordinates,r=-1,a=o.length;++r<a;)c(o[r],t)},GeometryCollection:function(e,t){for(var o=e.geometries,r=-1,a=o.length;++r<a;)l(o[r],t)}},Ft=function(e,t){e&&Mt.hasOwnProperty(e.type)?Mt[e.type](e,t):l(e,t)},zt=ct(),kt=ct(),Bt={point:d,lineStart:d,lineEnd:d,polygonStart:function(){zt.reset(),Bt.lineStart=y,Bt.lineEnd=m},polygonEnd:function(){var e=+zt;kt.add(0>e?xt+e:e),this.lineStart=this.lineEnd=this.point=d},sphere:function(){kt.add(xt)}},Gt=ct(),qt={point:P,lineStart:O,lineEnd:D,polygonStart:function(){qt.point=A,qt.lineStart=M,qt.lineEnd=w,Gt.reset(),Bt.polygonStart()},polygonEnd:function(){Bt.polygonEnd(),qt.point=P,qt.lineStart=O,qt.lineEnd=D,0>zt?(Qt=-(eo=180),$t=-(ao=90)):Gt>ut?ao=90:Gt<-ut&&($t=-90),yo[0]=Qt,yo[1]=eo}},jt=function(e){var t,o,r,s,p,d,l;if(ao=eo=-(Qt=$t=1/0),uo=[],Ft(e,qt),o=uo.length){for(uo.sort(z),t=1,r=uo[0],p=[r];t<o;++t)s=uo[t],k(r,s[0])||k(r,s[1])?(F(r[0],s[1])>F(r[0],r[1])&&(r[1]=s[1]),F(s[0],r[1])>F(r[0],r[1])&&(r[0]=s[0])):p.push(r=s);for(d=-Infinity,o=p.length-1,t=0,r=p[o];t<=o;r=s,++t)s=p[t],(l=F(r[1],s[0]))>d&&(d=l,Qt=s[0],eo=r[1])}return uo=yo=null,Qt===1/0||$t===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qt,$t],[eo,ao]]},Ut={sphere:d,point:B,lineStart:q,lineEnd:V,polygonStart:function(){Ut.lineStart=Z,Ut.lineEnd=H},polygonEnd:function(){Ut.lineStart=q,Ut.lineEnd=V}},Vt=function(e){mo=a=b=fo=ho=xo=Eo=Co=Io=bo=Lo=0,Ft(e,Ut);var t=Io,o=bo,n=Lo,i=t*t+o*o+n*n;return i<yt&&(t=xo,o=Eo,n=Co,a<ut&&(t=b,o=fo,n=ho),i=t*t+o*o+n*n,i<yt)?[NaN,NaN]:[Lt(o,t)*Et,r(n/Dt(i))*Et]},Zt=function(e){return function(){return e}},Ht=function(e,t){function o(o,n){return o=e(o,n),t(o[0],o[1])}return e.invert&&t.invert&&(o.invert=function(o,n){return o=t.invert(o,n),o&&e.invert(o[0],o[1])}),o},Xt,Yt,Wt,Kt,Jt,Qt,$t,eo,ao,lo,go,co,_o,uo,yo,mo,a,b,fo,ho,xo,Eo,Co,Io,bo,Lo,So,No,vo,To,Po;W.invert=W;var Ro=function(e){function t(t){return t=e(t[0]*Ct,t[1]*Ct),t[0]*=Et,t[1]*=Et,t}return e=K(e[0]*Ct,e[1]*Ct,2<e.length?e[2]*Ct:0),t.invert=function(t){return t=e.invert(t[0]*Ct,t[1]*Ct),t[0]*=Et,t[1]*=Et,t},t},Oo=function(){var e=[],t;return{point:function(e,o){t.push([e,o])},lineStart:function(){e.push(t=[])},lineEnd:d,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var o=e;return e=[],t=null,o}}},Do=function(e,t,o,n,i,a){var s=e[0],p=e[1],d=t[0],l=t[1],g=0,c=1,_=d-s,u=l-p,y;if(y=o-s,_||!(0<y)){if(y/=_,0>_){if(y<g)return;y<c&&(c=y)}else if(0<_){if(y>c)return;y>g&&(g=y)}if(y=i-s,_||!(0>y)){if(y/=_,0>_){if(y>c)return;y>g&&(g=y)}else if(0<_){if(y<g)return;y<c&&(c=y)}if(y=n-p,u||!(0<y)){if(y/=u,0>u){if(y<g)return;y<c&&(c=y)}else if(0<u){if(y>c)return;y>g&&(g=y)}if(y=a-p,u||!(0>y)){if(y/=u,0>u){if(y>c)return;y>g&&(g=y)}else if(0<u){if(y<g)return;y<c&&(c=y)}return 0<g&&(e[0]=s+g*_,e[1]=p+g*u),1>c&&(t[0]=s+c*_,t[1]=p+c*u),!0}}}}},Ao=function(e,t){return It(e[0]-t[0])<ut&&It(e[1]-t[1])<ut},Mo=function(e,t,o,r,a){var s=[],p=[],d,l;if(e.forEach(function(e){if(!(0>=(i=e.length-1))){var t=e[0],o=e[i],i,r;if(Ao(t,o)){for(a.lineStart(),d=0;d<i;++d)a.point((t=e[d])[0],t[1]);return void a.lineEnd()}s.push(r=new ne(t,e,null,!0)),p.push(r.o=new ne(t,null,r,!1)),s.push(r=new ne(o,e,null,!1)),p.push(r.o=new ne(o,null,r,!0))}}),!!s.length){for(p.sort(t),ie(s),ie(p),(d=0,l=p.length);d<l;++d)p[d].e=o=!o;for(var g=s[0],c,_;;){for(var u=g,y=!0;u.v;)if((u=u.n)===g)return;c=u.z,a.lineStart();do{if(u.v=u.o.v=!0,u.e){if(y)for(d=0,l=c.length;d<l;++d)a.point((_=c[d])[0],_[1]);else r(u.x,u.n.x,1,a);u=u.n}else{if(y)for(c=u.p.z,d=c.length-1;0<=d;--d)a.point((_=c[d])[0],_[1]);else r(u.x,u.p.x,-1,a);u=u.p}u=u.o,c=u.z,y=!y}while(!u.v);a.lineEnd()}}},wo=ct(),Fo=function(e,t){var o=t[0],a=t[1],s=[Rt(o),-St(o),0],p=0,d=0;wo.reset();for(var l=0,g=e.length;l<g;++l)if(x=(h=e[l]).length)for(var n=h[x-1],c=n[0],_=n[1]/2+ht,u=Rt(_),y=St(_),f=0,h,x;f<x;++f,c=I,u=N,y=v,n=E){var E=h[f],I=E[0],b=E[1]/2+ht,N=Rt(b),v=St(b),P=I-c,R=0<=P?1:-1,O=R*P,D=O>mt,A=u*N;if(wo.add(Lt(A*R*Rt(O),y*v+A*St(O))),p+=D?P+R*xt:P,D^c>=o^I>=o){var M=S(C(n),C(E));T(M);var w=S(s,M);T(w);var F=(D^0<=P?-1:1)*r(w[2]);(a>F||a===F&&(M[0]||M[1]))&&(d+=D^0<=P?1:-1)}}return(p<-ut||p<ut&&wo<-ut)^1&d},zo=ct(),ko={sphere:d,point:d,lineStart:function(){ko.point=se,ko.lineEnd=ae},lineEnd:d,polygonStart:d,polygonEnd:d},Bo=function(e){return zo.reset(),Ft(e,ko),+zo},Go=[null,null],qo={type:"LineString",coordinates:Go},jo=function(e,t){return Go[0]=e,Go[1]=t,Bo(qo)},Uo={Feature:function(e,t){return de(e.geometry,t)},FeatureCollection:function(e,t){for(var o=e.features,r=-1,a=o.length;++r<a;)if(de(o[r].geometry,t))return!0;return!1}},Vo={Sphere:function(){return!0},Point:function(e,t){return le(e.coordinates,t)},MultiPoint:function(e,t){for(var o=e.coordinates,r=-1,a=o.length;++r<a;)if(le(o[r],t))return!0;return!1},LineString:function(e,t){return ge(e.coordinates,t)},MultiLineString:function(e,t){for(var o=e.coordinates,r=-1,a=o.length;++r<a;)if(ge(o[r],t))return!0;return!1},Polygon:function(e,t){return ce(e.coordinates,t)},MultiPolygon:function(e,t){for(var o=e.coordinates,r=-1,a=o.length;++r<a;)if(ce(o[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var o=e.geometries,r=-1,a=o.length;++r<a;)if(de(o[r],t))return!0;return!1}},Zo=function(e,t){var o=e[0]*Ct,n=e[1]*Ct,i=t[0]*Ct,a=t[1]*Ct,p=St(n),l=Rt(n),g=St(a),c=Rt(a),_=p*St(o),u=p*Rt(o),m=g*St(i),f=g*Rt(i),h=2*r(Dt(s(a-n)+p*g*s(i-o))),d=Rt(h),y=h?function(e){var o=Rt(e*=h)/d,n=Rt(h-e)/d,i=n*_+o*m,r=n*u+o*f;return[Lt(r,i)*Et,Lt(n*l+o*c,Dt(i*i+r*r))*Et]}:function(){return[o*Et,n*Et]};return y.distance=h,y},Ho=function(e){return e},Xo=ct(),Yo=ct(),Wo={point:d,lineStart:d,lineEnd:d,polygonStart:function(){Wo.lineStart=he,Wo.lineEnd=Ce},polygonEnd:function(){Wo.lineStart=Wo.lineEnd=Wo.point=d,Xo.add(It(Yo)),Yo.reset()},result:function(){return Xo.reset(),Xo/2}},Ko=1/0,Jo=Ko,Qo=-Ko,$o=Qo,en={point:Ie,lineStart:d,lineEnd:d,polygonStart:d,polygonEnd:d,result:function(){var e=[[Ko,Jo],[Qo,$o]];return Qo=$o=-(Jo=Ko=1/0),e}},tn=0,on=0,nn=0,rn=0,an=0,sn=0,pn=0,dn=0,ln=0,gn={point:be,lineStart:Le,lineEnd:ve,polygonStart:function(){gn.lineStart=Te,gn.lineEnd=Pe},polygonEnd:function(){gn.point=be,gn.lineStart=Le,gn.lineEnd=ve},result:function(){var e=ln?[pn/ln,dn/ln]:sn?[rn/sn,an/sn]:nn?[tn/nn,on/nn]:[NaN,NaN];return tn=on=nn=rn=an=sn=pn=dn=ln=0,e}},cn,_n,un,yn,mn,fn,hn,xn,En,Cn,In;De.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,xt);break}}},result:d};var bn=ct(),Ln={point:d,lineStart:function(){Ln.point=Ae},lineEnd:function(){Sn&&Me(Nn,vn),Ln.point=d},polygonStart:function(){Sn=!0},polygonEnd:function(){Sn=null},result:function(){return bn.reset(),+bn}},Sn,Nn,vn,Tn,Pn;we.prototype={_radius:4.5,_circle:Fe(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{null==this._circle&&(this._circle=Fe(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Rn=function(e,o,n,i){return function(r,a){function s(t,o){var n=r(t,o);e(t=n[0],o=n[1])&&a.point(t,o)}function p(e,t){var o=r(e,t);u.point(o[0],o[1])}function d(){E.point=p,u.lineStart()}function l(){E.point=s,u.lineEnd()}function g(e,t){b.push([e,t]);var o=r(e,t);h.point(o[0],o[1])}function c(){h.lineStart(),b=[]}function _(){g(b[0][0],b[0][1]),h.lineEnd();var e=h.clean(),t=f.result(),o=t.length,n,r,s,p;if(b.pop(),C.push(b),b=null,!!o){if(1&e){if(s=t[0],0<(r=s.length-1)){for(x||(a.polygonStart(),x=!0),a.lineStart(),n=0;n<r;++n)a.point((p=s[n])[0],p[1]);a.lineEnd()}return}1<o&&2&e&&t.push(t.pop().concat(t.shift())),I.push(t.filter(ze))}}var u=o(a),y=r.invert(i[0],i[1]),f=Oo(),h=o(f),x=!1,E={point:s,lineStart:d,lineEnd:l,polygonStart:function(){E.point=g,E.lineStart=c,E.lineEnd=_,I=[],C=[]},polygonEnd:function(){E.point=s,E.lineStart=d,E.lineEnd=l,I=t.merge(I);var e=Fo(C,y);I.length?(!x&&(a.polygonStart(),x=!0),Mo(I,ke,e,n,a)):e&&(!x&&(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),I=C=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},C,I,b;return E}},On=Rn(function(){return!0},function(e){var t=NaN,o=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(r,a){var s=0<r?mt:-mt,p=It(r-t);It(p-mt)<ut?(e.point(t,o=0<(o+a)/2?ft:-ft),e.point(n,o),e.lineEnd(),e.lineStart(),e.point(s,o),e.point(r,o),i=0):n!==s&&p>=mt&&(It(t-n)<ut&&(t-=n*ut),It(r-s)<ut&&(r-=s*ut),o=Be(t,o,r,a),e.point(n,o),e.lineEnd(),e.lineStart(),e.point(s,o),i=0),e.point(t=r,o=a),n=s},lineEnd:function(){e.lineEnd(),t=o=NaN},clean:function(){return 2-i}}},function(e,t,o,n){var i;if(null==e)i=o*ft,n.point(-mt,i),n.point(0,i),n.point(mt,i),n.point(mt,0),n.point(mt,-i),n.point(0,-i),n.point(-mt,-i),n.point(-mt,0),n.point(-mt,i);else if(It(e[0]-t[0])>ut){var r=e[0]<t[0]?mt:-mt;i=o*r/2,n.point(-r,i),n.point(0,i),n.point(r,i)}else n.point(t[0],t[1])},[-mt,-ft]),Dn=function(e,t){function o(e,t){return St(e)*St(t)>r}function n(e,o,n){var i=C(e),a=C(o),s=[1,0,0],p=S(i,a),d=I(p,p),l=p[0],g=d-l*l;if(!g)return!n&&e;var c=S(s,p),_=v(s,r*d/g),y=v(p,-r*l/g);N(_,y);var m=c,u=I(_,m),f=I(m,m),h=u*u-f*(I(_,_)-1);if(!(0>h)){var x=Dt(h),t=v(m,(-u-x)/f);if(N(t,_),t=E(t),!n)return t;var b=e[0],T=o[0],P=e[1],R=o[1],O;T<b&&(O=b,b=T,T=O);var D=T-b,A=It(D-mt)<ut;if(!A&&R<P&&(O=P,P=R,R=O),A||D<ut?A?0<P+R^t[1]<(It(t[0]-b)<ut?P:R):P<=t[1]&&t[1]<=R:D>mt^(b<=t[0]&&t[0]<=T)){var M=v(m,(-u+x)/f);return N(M,_),[t,E(M)]}}}function i(t,o){var n=a?e:mt-e,i=0;return t<-n?i|=1:t>n&&(i|=2),o<-n?i|=4:o>n&&(i|=8),i}var r=St(e),a=0<r,s=It(r)>ut;return Rn(o,function(e){var r,p,d,l,g;return{lineStart:function(){l=d=!1,g=1},point:function(_,u){var y=[_,u],m=o(_,u),f=a?m?0:i(_,u):m?i(_+(0>_?mt:-mt),u):0,c;if(!r&&(l=d=m)&&e.lineStart(),m!==d&&(c=n(r,y),(!c||Ao(r,c)||Ao(y,c))&&(y[0]+=ut,y[1]+=ut,m=o(y[0],y[1]))),m!==d)g=0,m?(e.lineStart(),c=n(y,r),e.point(c[0],c[1])):(c=n(r,y),e.point(c[0],c[1]),e.lineEnd()),r=c;else if(s&&r&&a^m){var h;!(f&p)&&(h=n(y,r,!0))&&(g=0,a?(e.lineStart(),e.point(h[0][0],h[0][1]),e.point(h[1][0],h[1][1]),e.lineEnd()):(e.point(h[1][0],h[1][1]),e.lineEnd(),e.lineStart(),e.point(h[0][0],h[0][1])))}!m||r&&Ao(r,y)||e.point(y[0],y[1]),r=y,d=m,p=f},lineEnd:function(){d&&e.lineEnd(),r=null},clean:function(){return g|(l&&d)<<1}}},function(o,n,i,r){te(r,e,t,i,o,n)},a?[0,-e]:[-mt,e-mt])};qe.prototype={constructor:qe,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var An=St(30*Ct),Mn=function(e,t){return+t?Ze(e,t):Ve(e)},wn=Ge({point:function(e,t){this.stream.point(e*Ct,t*Ct)}}),Fn=function(){return Ye(Ke).scale(155.424).center([0,33.6442])},zn=function(){return Fn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},kn=Qe(function(e){return Dt(2/(1+e))});kn.invert=$e(function(e){return 2*r(e/2)});var Bn=Qe(function(e){return(e=i(e))&&e/Rt(e)});Bn.invert=$e(function(e){return e});et.invert=function(e,t){return[e,2*bt(vt(t))-ft]};it.invert=it;at.invert=$e(bt);pt.invert=function(e,t){var o=t,n=25,r;do{var a=o*o,s=a*a;o-=r=(o*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-t)/(1.007226+a*(3*.015085+s*(7*-.044475+9*.028874*a-11*.005916*s)))}while(It(r)>ut&&0<--n);return[e/(.8707+(a=o*o)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),o]};dt.invert=$e(r);lt.invert=$e(function(e){return 2*bt(e)});gt.invert=function(e,t){return[-t,2*bt(vt(e))-ft]};e.geoArea=function(e){return kt.reset(),Ft(e,Bt),2*kt},e.geoBounds=jt,e.geoCentroid=Vt,e.geoCircle=function(){function e(e,t){s.push(e=d(e,t)),e[0]*=Et,e[1]*=Et}function t(){var e=o.apply(this,arguments),t=n.apply(this,arguments)*Ct,r=i.apply(this,arguments)*Ct;return s=[],d=K(-e[0]*Ct,-e[1]*Ct,0).invert,te(a,t,r,1),e={type:"Polygon",coordinates:[s]},s=d=null,e}var o=Zt([0,0]),n=Zt(90),i=Zt(6),a={point:e},s,d;return t.center=function(e){return arguments.length?(o="function"==typeof e?e:Zt([+e[0],+e[1]]),t):o},t.radius=function(e){return arguments.length?(n="function"==typeof e?e:Zt(+e),t):n},t.precision=function(e){return arguments.length?(i="function"==typeof e?e:Zt(+e),t):i},t},e.geoClipExtent=function(){var e=0,t=0,o=960,n=500,i,r,a;return a={stream:function(a){return i&&r===a?i:i=re(e,t,o,n)(r=a)},extent:function(s){return arguments.length?(e=+s[0][0],t=+s[0][1],o=+s[1][0],n=+s[1][1],i=r=null,a):[[e,t],[o,n]]}}},e.geoContains=function(e,t){return(e&&Uo.hasOwnProperty(e.type)?Uo[e.type]:de)(e,t)},e.geoDistance=jo,e.geoGraticule=fe,e.geoGraticule10=function(){return fe()()},e.geoInterpolate=Zo,e.geoLength=Bo,e.geoPath=function(e,t){function o(e){return e&&("function"==typeof n&&r.pointRadius(+n.apply(this,arguments)),Ft(e,i(r))),r.result()}var n=4.5,i,r;return o.area=function(e){return Ft(e,i(Wo)),Wo.result()},o.measure=function(e){return Ft(e,i(Ln)),Ln.result()},o.bounds=function(e){return Ft(e,i(en)),en.result()},o.centroid=function(e){return Ft(e,i(gn)),gn.result()},o.projection=function(t){return arguments.length?(i=null==t?(e=null,Ho):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new we):new De(t=e),"function"!=typeof n&&r.pointRadius(n),o):t},o.pointRadius=function(e){return arguments.length?(n="function"==typeof e?e:(r.pointRadius(+e),+e),o):n},o.projection(e).context(t)},e.geoAlbers=zn,e.geoAlbersUsa=function(){function e(e){var t=e[0],o=e[1];return g=null,(p.point(t,o),g)||(d.point(t,o),g)||(l.point(t,o),g)}function t(){return a=s=null,e}var o=zn(),n=Fn().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i=Fn().rotate([157,0]).center([-3,19.9]).parallels([8,18]),r={point:function(e,t){g=[e,t]}},a,s,p,d,l,g;return e.invert=function(e){var r=o.scale(),a=o.translate(),t=(e[0]-a[0])/r,s=(e[1]-a[1])/r;return(.12<=s&&.234>s&&-.425<=t&&-.214>t?n:.166<=s&&.234>s&&-.214<=t&&-.115>t?i:o).invert(e)},e.stream=function(e){return a&&s===e?a:a=Je([o.stream(s=e),n.stream(e),i.stream(e)])},e.precision=function(e){return arguments.length?(o.precision(e),n.precision(e),i.precision(e),t()):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),n.scale(.35*t),i.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(e){if(!arguments.length)return o.translate();var a=o.scale(),s=+e[0],g=+e[1];return p=o.translate(e).clipExtent([[s-.455*a,g-.238*a],[s+.455*a,g+.238*a]]).stream(r),d=n.translate([s-.307*a,g+.201*a]).clipExtent([[s-.425*a+ut,g+.12*a+ut],[s-.214*a-ut,g+.234*a-ut]]).stream(r),l=i.translate([s-.205*a,g+.212*a]).clipExtent([[s-.214*a+ut,g+.166*a+ut],[s-.115*a-ut,g+.234*a-ut]]).stream(r),t()},e.fitExtent=function(t,o){return je(e,t,o)},e.fitSize=function(t,o){return Ue(e,t,o)},e.scale(1070)},e.geoAzimuthalEqualArea=function(){return He(kn).scale(124.75).clipAngle(180-1e-3)},e.geoAzimuthalEqualAreaRaw=kn,e.geoAzimuthalEquidistant=function(){return He(Bn).scale(79.4188).clipAngle(180-1e-3)},e.geoAzimuthalEquidistantRaw=Bn,e.geoConicConformal=function(){return Ye(nt).scale(109.5).parallels([30,30])},e.geoConicConformalRaw=nt,e.geoConicEqualArea=Fn,e.geoConicEqualAreaRaw=Ke,e.geoConicEquidistant=function(){return Ye(rt).scale(131.154).center([0,13.9389])},e.geoConicEquidistantRaw=rt,e.geoEquirectangular=function(){return He(it).scale(152.63)},e.geoEquirectangularRaw=it,e.geoGnomonic=function(){return He(at).scale(144.049).clipAngle(60)},e.geoGnomonicRaw=at,e.geoIdentity=function(){function e(){return c=_=null,u}var t=1,o=0,n=0,i=1,r=1,a=Ho,s=null,p=Ho,d,l,g,c,_,u;return u={stream:function(e){return c&&_===e?c:c=a(p(_=e))},clipExtent:function(t){return arguments.length?(p=null==t?(s=d=l=g=null,Ho):re(s=+t[0][0],d=+t[0][1],l=+t[1][0],g=+t[1][1]),e()):null==s?null:[[s,d],[l,g]]},scale:function(s){return arguments.length?(a=st((t=+s)*i,t*r,o,n),e()):t},translate:function(s){return arguments.length?(a=st(t*i,t*r,o=+s[0],n=+s[1]),e()):[o,n]},reflectX:function(s){return arguments.length?(a=st(t*(i=s?-1:1),t*r,o,n),e()):0>i},reflectY:function(s){return arguments.length?(a=st(t*i,t*(r=s?-1:1),o,n),e()):0>r},fitExtent:function(e,t){return je(u,e,t)},fitSize:function(e,t){return Ue(u,e,t)}}},e.geoProjection=He,e.geoProjectionMutator=Xe,e.geoMercator=function(){return tt(et).scale(961/xt)},e.geoMercatorRaw=et,e.geoNaturalEarth1=function(){return He(pt).scale(175.295)},e.geoNaturalEarth1Raw=pt,e.geoOrthographic=function(){return He(dt).scale(249.5).clipAngle(90+ut)},e.geoOrthographicRaw=dt,e.geoStereographic=function(){return He(lt).scale(250).clipAngle(142)},e.geoStereographicRaw=lt,e.geoTransverseMercator=function(){var e=tt(gt),t=e.center,o=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?o([e[0],e[1],2<e.length?e[2]+90:90]):(e=o(),[e[0],e[1],e[2]-90])},o([0,0,90]).scale(159.155)},e.geoTransverseMercatorRaw=gt,e.geoRotation=Ro,e.geoStream=Ft,e.geoTransform=function(e){return{stream:Ge(e)}},Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-array":11}],13:[function(e,o,n){!function(i,t){"object"==typeof n&&"undefined"!=typeof o?t(n):"function"==typeof lo&&lo.amd?lo(["exports"],t):t(i.jsts={})}(this,function(lo){"use strict";var y=Number.isNaN,yo=Number.parseFloat,mo=Number.isInteger,fo=Number.isFinite;function t(){}function e(e){this.message=e||""}function n(e){this.message=e||""}function i(e){this.message=e||""}function r(){}function o(e){return null===e?Dt:e.color}function s(e){return null===e?null:e.parent}function a(o,t){null!==o&&(o.color=t)}function go(e){return null===e?null:e.left}function l(e){return null===e?null:e.right}function c(){this.root_=null,this.size_=0}function co(){}function _o(){this.array_=[],arguments[0]instanceof vt&&this.addAll(arguments[0])}function uo(){}function g(e){this.message=e||""}function d(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(o){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var t=Object(this),e=po(f(t.length,9007199254740991),0)||0,n=1 in arguments?parseInt(+arguments[1],10)||0:0;n=0>n?po(e+n,0):f(n,e);var a=2 in arguments&&void 0!==arguments[2]?parseInt(+arguments[2],10)||0:e;for(a=0>a?po(e+arguments[2],0):f(a,e);n<a;)t[n]=o,++n;return t},writable:!0}),fo=fo||function(e){return"number"==typeof e&&isFinite(e)},mo=mo||function(e){return"number"==typeof e&&isFinite(e)&&h(e)===e},yo=yo||parseFloat,y=y||function(e){return e!=e},eo=eo||function(e){return 0>e?so(e):h(e)};var ho=function(){};ho.prototype.interfaces_=function(){return[]},ho.prototype.getClass=function(){return ho},ho.prototype.equalsWithTolerance=function(o,t,e){return oo(o-t)<=e};var xo=function(o){function t(t){o.call(this,t),this.name="IllegalArgumentException",this.message=t,this.stack=new o().stack}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t}(Error),m=function(){},v={MAX_VALUE:{configurable:!0}};m.isNaN=function(e){return y(e)},m.doubleToLongBits=function(e){return e},m.longBitsToDouble=function(e){return e},m.isInfinite=function(e){return!fo(e)},v.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(m,v);var I=function(){},E=function(){},x=function(){},N=function o(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=o.NULL_ORDINATE;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=o.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},C={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};N.prototype.setOrdinate=function(o,t){switch(o){case N.X:this.x=t;break;case N.Y:this.y=t;break;case N.Z:this.z=t;break;default:throw new xo("Invalid ordinate index: "+o);}},N.prototype.equals2D=function(){if(1===arguments.length){var o=arguments[0];return this.x===o.x&&this.y===o.y}if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!ho.equalsWithTolerance(this.x,t.x,e)&&!!ho.equalsWithTolerance(this.y,t.y,e)}},N.prototype.getOrdinate=function(e){switch(e){case N.X:return this.x;case N.Y:return this.y;case N.Z:return this.z;}throw new xo("Invalid ordinate index: "+e)},N.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||m.isNaN(this.z))&&m.isNaN(e.z)},N.prototype.equals=function(e){return e instanceof N&&this.equals2D(e)},N.prototype.equalInZ=function(o,t){return ho.equalsWithTolerance(this.z,o.z,t)},N.prototype.compareTo=function(o){var t=o;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},N.prototype.clone=function(){},N.prototype.copy=function(){return new N(this)},N.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},N.prototype.distance3D=function(o){var t=this.x-o.x,e=this.y-o.y,n=this.z-o.z;return to(t*t+e*e+n*n)},N.prototype.distance=function(o){var t=this.x-o.x,e=this.y-o.y;return to(t*t+e*e)},N.prototype.hashCode=function(){var e=17;return e=37*e+N.hashCode(this.x),e=37*e+N.hashCode(this.y)},N.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},N.prototype.interfaces_=function(){return[I,E,t]},N.prototype.getClass=function(){return N},N.hashCode=function(){if(1===arguments.length){var o=arguments[0],t=m.doubleToLongBits(o);return eo((t^t)>>>32)}},C.DimensionalComparator.get=function(){return S},C.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},C.NULL_ORDINATE.get=function(){return m.NaN},C.X.get=function(){return 0},C.Y.get=function(){return 1},C.Z.get=function(){return 2},Object.defineProperties(N,C);var S=function(){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new xo("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}};S.prototype.compare=function(a,t){var e=a,n=t,i=S.compare(e.x,n.x);if(0!==i)return i;var r=S.compare(e.y,n.y);return 0===r?2>=this._dimensionsToTest?0:S.compare(e.z,n.z):r},S.prototype.interfaces_=function(){return[x]},S.prototype.getClass=function(){return S},S.compare=function(o,t){return o<t?-1:o>t?1:m.isNaN(o)?m.isNaN(t)?0:-1:m.isNaN(t)?1:0};var Eo=function(){};Eo.prototype.create=function(){},Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo};var b=function(){},w={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};b.prototype.interfaces_=function(){return[]},b.prototype.getClass=function(){return b},b.toLocationSymbol=function(e){switch(e){case b.EXTERIOR:return"e";case b.BOUNDARY:return"b";case b.INTERIOR:return"i";case b.NONE:return"-";}throw new xo("Unknown location value: "+e)},w.INTERIOR.get=function(){return 0},w.BOUNDARY.get=function(){return 1},w.EXTERIOR.get=function(){return 2},w.NONE.get=function(){return-1},Object.defineProperties(b,w);var O=function(o,t){return o.interfaces_&&-1<o.interfaces_().indexOf(t)},T=function(){},R={LOG_10:{configurable:!0}};T.prototype.interfaces_=function(){return[]},T.prototype.getClass=function(){return T},T.log10=function(o){var t=u(o);return m.isInfinite(t)?t:m.isNaN(t)?t:t/T.LOG_10},T.min=function(o,t,e,n){var i=o;return t<i&&(i=t),e<i&&(i=e),n<i&&(i=n),i},T.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],t=arguments[1],e=arguments[2];return a<t?t:a>e?e:a}if(mo(arguments[2])&&mo(arguments[0])&&mo(arguments[1])){var n=arguments[0],i=arguments[1],r=arguments[2];return n<i?i:n>r?r:n}},T.wrap=function(o,t){return 0>o?t- -o%t:o%t},T.max=function(){if(3===arguments.length){var p=arguments[0],t=arguments[1],e=arguments[2],n=p;return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var d=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=d;return r>a&&(a=r),o>a&&(a=o),s>a&&(a=s),a}},T.average=function(o,t){return(o+t)/2},R.LOG_10.get=function(){return u(10)},Object.defineProperties(T,R);var P=function(e){this.str=e};P.prototype.append=function(e){this.str+=e},P.prototype.setCharAt=function(o,t){this.str=this.str.substr(0,o)+t+this.str.substr(o+1)},P.prototype.toString=function(){return this.str};var D=function(e){this.value=e};D.prototype.intValue=function(){return this.value},D.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},D.isNaN=function(e){return y(e)};var M=function(){};M.isWhitespace=function(e){return 32>=e&&0<=e||127===e},M.toUpperCase=function(e){return e.toUpperCase()};var A=function a(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof a){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];a.call(this,a.parse(n))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i,r)}},F={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};A.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},A.prototype.extractSignificantDigits=function(d,t){var e=this.abs(),g=A.magnitude(e._hi),_=A.TEN.pow(g);(e=e.divide(_)).gt(A.TEN)?(e=e.divide(A.TEN),g+=1):e.lt(A.ONE)&&(e=e.multiply(A.TEN),g-=1);for(var r=g+1,o=new P,s=A.MAX_PRINT_DIGITS-1,a=0;a<=s;a++){d&&a===r&&o.append(".");var y=eo(e._hi);if(0>y)break;var l=!1,m=0;9<y?(l=!0,m="9"):m="0"+y,o.append(m),e=e.subtract(A.valueOf(y)).multiply(A.TEN),l&&e.selfAdd(A.TEN);var x=!0,E=A.magnitude(e._hi);if(0>E&&oo(E)>=s-a&&(x=!1),!x)break}return t[0]=g,o.toString()},A.prototype.sqr=function(){return this.multiply(this)},A.prototype.doubleValue=function(){return this._hi+this._lo},A.prototype.subtract=function(){if(arguments[0]instanceof A){var o=arguments[0];return this.add(o.negate())}if("number"==typeof arguments[0]){var t=arguments[0];return this.add(-t)}},A.prototype.equals=function(){if(1===arguments.length){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},A.prototype.isZero=function(){return 0===this._hi&&0===this._lo},A.prototype.selfSubtract=function(){if(arguments[0]instanceof A){var o=arguments[0];return this.isNaN()?this:this.selfAdd(-o._hi,-o._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}},A.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},A.prototype.min=function(e){return this.le(e)?this:e},A.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof A){var d=arguments[0];return this.selfDivide(d._hi,d._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=null,g=null,_=null,y=null,m=null,f=null,h=null,x=null;return m=this._hi/e,f=A.SPLIT*m,i=f-m,x=A.SPLIT*e,i=f-i,g=m-i,_=x-e,h=m*e,_=x-_,y=e-_,x=i*_-h+i*y+g*_+g*y,f=(this._hi-h-x+this._lo-m*n)/e,x=m+f,this._hi=x,this._lo=m-x+f,this}},A.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},A.prototype.divide=function(){if(arguments[0]instanceof A){var p=arguments[0],t=null,d=null,g=null,c=null,_=null,y=null,f=null,h=null;return d=(_=this._hi/p._hi)-(t=(y=A.SPLIT*_)-(t=y-_)),h=t*(g=(h=A.SPLIT*p._hi)-(g=h-p._hi))-(f=_*p._hi)+t*(c=p._hi-g)+d*g+d*c,y=(this._hi-f-h+this._lo-_*p._lo)/p._hi,new A(h=_+y,_-h+y)}if("number"==typeof arguments[0]){var x=arguments[0];return m.isNaN(x)?A.createNaN():A.copy(this).selfDivide(x,0)}},A.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},A.prototype.pow=function(o){if(0===o)return A.valueOf(1);var t=new A(this),r=A.valueOf(1),a=oo(o);if(1<a)for(;0<a;)1==a%2&&r.selfMultiply(t),0<(a/=2)&&(t=t.sqr());else r=t;return 0>o?r.reciprocal():r},A.prototype.ceil=function(){if(this.isNaN())return A.NaN;var o=so(this._hi),t=0;return o===this._hi&&(t=so(this._lo)),new A(o,t)},A.prototype.compareTo=function(o){var t=o;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},A.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},A.prototype.setValue=function(){if(arguments[0]instanceof A){var o=arguments[0];return this.init(o),this}if("number"==typeof arguments[0]){var t=arguments[0];return this.init(t),this}},A.prototype.max=function(e){return this.ge(e)?this:e},A.prototype.sqrt=function(){if(this.isZero())return A.valueOf(0);if(this.isNegative())return A.NaN;var o=1/to(this._hi),t=this._hi*o,e=A.valueOf(t),n=this.subtract(e.sqr())._hi*(.5*o);return e.add(n)},A.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof A){var x=arguments[0];return this.selfAdd(x._hi,x._lo)}if("number"==typeof arguments[0]){var t=arguments[0],e=null,E=null,C=null,I=null,b=null,S=null;return C=this._hi+t,b=C-this._hi,I=C-b,I=t-b+(this._hi-I),S=I+this._lo,e=C+S,E=S+(C-e),this._hi=e+E,this._lo=E+(e-this._hi),this}}else if(2===arguments.length){var N=arguments[0],u=arguments[1],l=null,v=null,T=null,P=null,R=null,O=null,D=null;P=this._hi+N,v=this._lo+u,R=P-(O=P-this._hi),T=v-(D=v-this._lo);var M=(l=P+(O=(R=N-O+(this._hi-R))+v))+(O=(T=u-D+(this._lo-T))+(O+(P-l))),_=O+(l-M);return this._hi=M,this._lo=_,this}},A.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof A){var d=arguments[0];return this.selfMultiply(d._hi,d._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=null,g=null,_=null,y=null,m=null,f=null;i=(m=A.SPLIT*this._hi)-this._hi,f=A.SPLIT*e,i=m-i,g=this._hi-i,_=f-e;var h=(m=this._hi*e)+(f=i*(_=f-_)-m+i*(y=e-_)+g*_+g*y+(this._hi*n+this._lo*e)),c=f+(i=m-h);return this._hi=h,this._lo=c,this}},A.prototype.selfSqr=function(){return this.selfMultiply(this)},A.prototype.floor=function(){if(this.isNaN())return A.NaN;var o=h(this._hi),t=0;return o===this._hi&&(t=h(this._lo)),new A(o,t)},A.prototype.negate=function(){return this.isNaN()?this:new A(-this._hi,-this._lo)},A.prototype.clone=function(){},A.prototype.multiply=function(){if(arguments[0]instanceof A){var o=arguments[0];return o.isNaN()?A.createNaN():A.copy(this).selfMultiply(o)}if("number"==typeof arguments[0]){var t=arguments[0];return m.isNaN(t)?A.createNaN():A.copy(this).selfMultiply(t,0)}},A.prototype.isNaN=function(){return m.isNaN(this._hi)},A.prototype.intValue=function(){return eo(this._hi)},A.prototype.toString=function(){var e=A.magnitude(this._hi);return-3<=e&&20>=e?this.toStandardNotation():this.toSciNotation()},A.prototype.toStandardNotation=function(){var a=this.getSpecialNumberString();if(null!==a)return a;var t=[,].fill(null),e=this.extractSignificantDigits(!0,t),n=t[0]+1,i=e;if("."===e.charAt(0))i="0"+e;else if(0>n)i="0."+A.stringOfChar("0",-n)+e;else if(-1===e.indexOf(".")){var s=n-e.length;i=e+A.stringOfChar("0",s)+".0"}return this.isNegative()?"-"+i:i},A.prototype.reciprocal=function(){var p=null,d=null,l=null,g=null,c=null,_=null,y=null,m=null;d=(c=1/this._hi)-(p=(_=A.SPLIT*c)-(p=_-c)),l=(m=A.SPLIT*this._hi)-this._hi;var f=c+(_=(1-(y=c*this._hi)-(m=p*(l=m-l)-y+p*(g=this._hi-l)+d*l+d*g)-c*this._lo)/this._hi);return new A(f,c-f+_)},A.prototype.toSciNotation=function(){if(this.isZero())return A.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(null!==a)return a;var t=[,].fill(null),e=this.extractSignificantDigits(!1,t),n=A.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===e.charAt(0))throw new Error("Found leading zero: "+e);var i="";1<e.length&&(i=e.substring(1));var s=e.charAt(0)+"."+i;return this.isNegative()?"-"+s+n:s+n},A.prototype.abs=function(){return this.isNaN()?A.NaN:this.isNegative()?this.negate():new A(this)},A.prototype.isPositive=function(){return(0<this._hi||0===this._hi)&&0<this._lo},A.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},A.prototype.add=function(){if(arguments[0]instanceof A){var o=arguments[0];return A.copy(this).selfAdd(o)}if("number"==typeof arguments[0]){var t=arguments[0];return A.copy(this).selfAdd(t)}},A.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var o=arguments[0];this._hi=o,this._lo=0}else if(arguments[0]instanceof A){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._hi=e,this._lo=n}},A.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},A.prototype.isNegative=function(){return(0>this._hi||0===this._hi)&&0>this._lo},A.prototype.trunc=function(){return this.isNaN()?A.NaN:this.isPositive()?this.floor():this.ceil()},A.prototype.signum=function(){return 0<this._hi?1:0>this._hi?-1:0<this._lo?1:0>this._lo?-1:0},A.prototype.interfaces_=function(){return[t,I,E]},A.prototype.getClass=function(){return A},A.sqr=function(e){return A.valueOf(e).selfMultiply(e)},A.valueOf=function(){if("string"==typeof arguments[0]){var o=arguments[0];return A.parse(o)}if("number"==typeof arguments[0]){var t=arguments[0];return new A(t)}},A.sqrt=function(e){return A.valueOf(e).sqrt()},A.parse=function(_){for(var t=0,y=_.length;M.isWhitespace(_.charAt(t));)t++;var n=!1;if(t<y){var m=_.charAt(t);"-"!==m&&"+"!==m||(t++,"-"===m&&(n=!0))}for(var r=new A,o=0,x=0,E=0,C;!(t>=y);)if(C=_.charAt(t),t++,M.isDigit(C)){var I=C-"0";r.selfMultiply(A.TEN),r.selfAdd(I),o++}else{if("."!==C){if("e"===C||"E"===C){var c=_.substring(t);try{E=D.parseInt(c)}catch(t){throw t instanceof Error?new Error("Invalid exponent "+c+" in string "+_):t}break}throw new Error("Unexpected character '"+C+"' at position "+t+" in string "+_)}x=o}var p=r,b=o-x-E;if(0==b)p=r;else if(0<b){var f=A.TEN.pow(b);p=r.divide(f)}else if(0>b){var g=A.TEN.pow(-b);p=r.multiply(g)}return n?p.negate():p},A.createNaN=function(){return new A(m.NaN,m.NaN)},A.copy=function(e){return new A(e)},A.magnitude=function(o){var t=oo(o),e=u(t)/u(10),n=eo(h(e));return 10*no(10,n)<=t&&(n+=1),n},A.stringOfChar=function(o,t){for(var e=new P,n=0;n<t;n++)e.append(o);return e.toString()},F.PI.get=function(){return new A(3.141592653589793,12246467991473532e-32)},F.TWO_PI.get=function(){return new A(6.283185307179586,24492935982947064e-32)},F.PI_2.get=function(){return new A(1.5707963267948966,6123233995736766e-32)},F.E.get=function(){return new A(2.718281828459045,14456468917292502e-32)},F.NaN.get=function(){return new A(m.NaN,m.NaN)},F.EPS.get=function(){return 123259516440783e-46},F.SPLIT.get=function(){return 134217729},F.MAX_PRINT_DIGITS.get=function(){return 32},F.TEN.get=function(){return A.valueOf(10)},F.ONE.get=function(){return A.valueOf(1)},F.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},F.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(A,F);var G=function(){},q={DP_SAFE_EPSILON:{configurable:!0}};G.prototype.interfaces_=function(){return[]},G.prototype.getClass=function(){return G},G.orientationIndex=function(p,t,e){var n=G.orientationIndexFilter(p,t,e);if(1>=n)return n;var i=A.valueOf(t.x).selfAdd(-p.x),r=A.valueOf(t.y).selfAdd(-p.y),o=A.valueOf(e.x).selfAdd(-t.x),s=A.valueOf(e.y).selfAdd(-t.y);return i.selfMultiply(s).selfSubtract(r.selfMultiply(o)).signum()},G.signOfDet2x2=function(o,t,e,n){return o.multiply(n).selfSubtract(t.multiply(e)).signum()},G.intersection=function(d,t,e,n){var i=A.valueOf(n.y).selfSubtract(e.y).selfMultiply(A.valueOf(t.x).selfSubtract(d.x)),r=A.valueOf(n.x).selfSubtract(e.x).selfMultiply(A.valueOf(t.y).selfSubtract(d.y)),o=i.subtract(r),s=A.valueOf(n.x).selfSubtract(e.x).selfMultiply(A.valueOf(d.y).selfSubtract(e.y)),a=A.valueOf(n.y).selfSubtract(e.y).selfMultiply(A.valueOf(d.x).selfSubtract(e.x)),_=s.subtract(a).selfDivide(o).doubleValue(),l=A.valueOf(d.x).selfAdd(A.valueOf(t.x).selfSubtract(d.x).selfMultiply(_)).doubleValue(),c=A.valueOf(t.x).selfSubtract(d.x).selfMultiply(A.valueOf(d.y).selfSubtract(e.y)),p=A.valueOf(t.y).selfSubtract(d.y).selfMultiply(A.valueOf(d.x).selfSubtract(e.x)),u=c.subtract(p).selfDivide(o).doubleValue(),y=A.valueOf(e.y).selfAdd(A.valueOf(n.y).selfSubtract(e.y).selfMultiply(u)).doubleValue();return new N(l,y)},G.orientationIndexFilter=function(p,t,e){var n=null,d=(p.x-e.x)*(t.y-e.y),r=(p.y-e.y)*(t.x-e.x),o=d-r;if(0<d){if(0>=r)return G.signum(o);n=d+r}else{if(!(0>d))return G.signum(o);if(0<=r)return G.signum(o);n=-d-r}var s=G.DP_SAFE_EPSILON*n;return o>=s||-o>=s?G.signum(o):2},G.signum=function(e){return 0<e?1:0>e?-1:0},q.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(G,q);var B=function(){},V={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};V.X.get=function(){return 0},V.Y.get=function(){return 1},V.Z.get=function(){return 2},V.M.get=function(){return 3},B.prototype.setOrdinate=function(){},B.prototype.size=function(){},B.prototype.getOrdinate=function(){},B.prototype.getCoordinate=function(){},B.prototype.getCoordinateCopy=function(){},B.prototype.getDimension=function(){},B.prototype.getX=function(){},B.prototype.clone=function(){},B.prototype.expandEnvelope=function(){},B.prototype.copy=function(){},B.prototype.getY=function(){},B.prototype.toCoordinateArray=function(){},B.prototype.interfaces_=function(){return[E]},B.prototype.getClass=function(){return B},Object.defineProperties(B,V);var U=function(){},z=function(o){function t(){o.call(this,"Projective point not representable on the Cartesian plane.")}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(U),X=function(){};X.arraycopy=function(a,t,e,n,i){for(var r=0,p=t;p<t+i;p++)e[n+r]=a[p],r++},X.getProperty=function(e){return{"line.separator":"\n"}[e]};var Y=function x(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof x&&arguments[1]instanceof x){var i=arguments[0],r=arguments[1];this.x=i.y*r.w-r.y*i.w,this.y=r.x*i.w-i.x*r.w,this.w=i.x*r.y-r.x*i.y}else if(arguments[0]instanceof N&&arguments[1]instanceof N){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(3===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2];this.x=a,this.y=u,this.w=l}else if(4===arguments.length){var c=arguments[0],p=arguments[1],h=arguments[2],f=arguments[3],g=c.y-p.y,d=p.x-c.x,y=c.x*p.y-p.x*c.y,_=h.y-f.y,m=f.x-h.x,E=h.x*f.y-f.x*h.y;this.x=d*E-m*y,this.y=_*y-g*E,this.w=g*m-_*d}};Y.prototype.getY=function(){var e=this.y/this.w;if(m.isNaN(e)||m.isInfinite(e))throw new z;return e},Y.prototype.getX=function(){var e=this.x/this.w;if(m.isNaN(e)||m.isInfinite(e))throw new z;return e},Y.prototype.getCoordinate=function(){var e=new N;return e.x=this.getX(),e.y=this.getY(),e},Y.prototype.interfaces_=function(){return[]},Y.prototype.getClass=function(){return Y},Y.intersection=function(d,t,e,n){var i=d.y-t.y,r=t.x-d.x,o=d.x*t.y-t.x*d.y,s=e.y-n.y,a=n.x-e.x,g=e.x*n.y-n.x*e.y,l=i*a-s*r,c=(r*g-a*o)/l,p=(s*o-i*g)/l;if(m.isNaN(c)||m.isInfinite(c)||m.isNaN(p)||m.isInfinite(p))throw new z;return new N(c,p)};var k=function p(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof N){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof p){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.init(r,o,s,a)}},j={serialVersionUID:{configurable:!0}};k.prototype.getArea=function(){return this.getWidth()*this.getHeight()},k.prototype.equals=function(o){if(!(o instanceof k))return!1;var t=o;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()},k.prototype.intersection=function(o){if(this.isNull()||o.isNull()||!this.intersects(o))return new k;var t=this._minx>o._minx?this._minx:o._minx,e=this._miny>o._miny?this._miny:o._miny,n=this._maxx<o._maxx?this._maxx:o._maxx,i=this._maxy<o._maxy?this._maxy:o._maxy;return new k(t,n,e,i)},k.prototype.isNull=function(){return this._maxx<this._minx},k.prototype.getMaxX=function(){return this._maxx},k.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof N){var o=arguments[0];return this.covers(o.x,o.y)}if(arguments[0]instanceof k){var t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(2===arguments.length){var e=arguments[0],n=arguments[1];return!this.isNull()&&e>=this._minx&&e<=this._maxx&&n>=this._miny&&n<=this._maxy}},k.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof k){var o=arguments[0];return!this.isNull()&&!o.isNull()&&!(o._minx>this._maxx||o._maxx<this._minx||o._miny>this._maxy||o._maxy<this._miny)}if(arguments[0]instanceof N){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){var e=arguments[0],n=arguments[1];return!this.isNull()&&!(e>this._maxx||e<this._minx||n>this._maxy||n<this._miny)}},k.prototype.getMinY=function(){return this._miny},k.prototype.getMinX=function(){return this._minx},k.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof N){var o=arguments[0];this.expandToInclude(o.x,o.y)}else if(arguments[0]instanceof k){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.isNull()?(this._minx=e,this._maxx=e,this._miny=n,this._maxy=n):(e<this._minx&&(this._minx=e),e>this._maxx&&(this._maxx=e),n<this._miny&&(this._miny=n),n>this._maxy&&(this._maxy=n))}},k.prototype.minExtent=function(){if(this.isNull())return 0;var o=this.getWidth(),t=this.getHeight();return o<t?o:t},k.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},k.prototype.compareTo=function(o){var t=o;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0},k.prototype.translate=function(o,t){return this.isNull()?null:void this.init(this.getMinX()+o,this.getMaxX()+o,this.getMinY()+t,this.getMaxY()+t)},k.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},k.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},k.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},k.prototype.maxExtent=function(){if(this.isNull())return 0;var o=this.getWidth(),t=this.getHeight();return o>t?o:t},k.prototype.expandBy=function(){if(1===arguments.length){var o=arguments[0];this.expandBy(o,o)}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=e,this._maxy+=e,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},k.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof k){var o=arguments[0];return this.covers(o)}if(arguments[0]instanceof N){var t=arguments[0];return this.covers(t)}}else if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.covers(e,n)}},k.prototype.centre=function(){return this.isNull()?null:new N((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},k.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof N){var p=arguments[0];this.init(p.x,p.x,p.y,p.y)}else if(arguments[0]instanceof k){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e.x,n.x,e.y,n.y)}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];i<r?(this._minx=i,this._maxx=r):(this._minx=r,this._maxx=i),o<s?(this._miny=o,this._maxy=s):(this._miny=s,this._maxy=o)}},k.prototype.getMaxY=function(){return this._maxy},k.prototype.distance=function(o){if(this.intersects(o))return 0;var t=0;this._maxx<o._minx?t=o._minx-this._maxx:this._minx>o._maxx&&(t=this._minx-o._maxx);var i=0;return this._maxy<o._miny?i=o._miny-this._maxy:this._miny>o._maxy&&(i=this._miny-o._maxy),0==t?i:0===i?t:to(t*t+i*i)},k.prototype.hashCode=function(){var e=17;return e=37*e+N.hashCode(this._minx),e=37*e+N.hashCode(this._maxx),e=37*e+N.hashCode(this._miny),e=37*e+N.hashCode(this._maxy)},k.prototype.interfaces_=function(){return[I,t]},k.prototype.getClass=function(){return k},k.intersects=function(){if(3===arguments.length){var p=arguments[0],t=arguments[1],e=arguments[2];return e.x>=(p.x<t.x?p.x:t.x)&&e.x<=(p.x>t.x?p.x:t.x)&&e.y>=(p.y<t.y?p.y:t.y)&&e.y<=(p.y>t.y?p.y:t.y)}if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3],s=f(r.x,o.x),d=po(r.x,o.x),g=f(n.x,i.x),_=po(n.x,i.x);return!(g>d)&&!(_<s)&&(s=f(r.y,o.y),d=po(r.y,o.y),g=f(n.y,i.y),_=po(n.y,i.y),!(g>d)&&!(_<s))}},j.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(k,j);var H={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},W=function(e){this.geometryFactory=e||new ye};W.prototype.read=function(o){var a,s,p;o=o.replace(/[\n\r]/g," ");var d=H.typeStr.exec(o);if(-1!==o.search("EMPTY")&&((d=H.emptyTypeStr.exec(o))[2]=void 0),d&&(s=d[1].toLowerCase(),p=d[2],J[s]&&(a=J[s].apply(this,[p]))),void 0===a)throw new Error("Could not parse WKT "+o);return a},W.prototype.write=function(e){return this.extractGeometry(e)},W.prototype.extractGeometry=function(o){var t=o.getGeometryType().toLowerCase();if(!K[t])return null;var e=t.toUpperCase();return o.isEmpty()?e+" EMPTY":e+"("+K[t].apply(this,[o])+")"};var K={coordinate:function(e){return e.x+" "+e.y},point:function(e){return K.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(o){for(var t=[],e=0,r=o._geometries.length;e<r;++e)t.push("("+K.point.apply(this,[o._geometries[e]])+")");return t.join(",")},linestring:function(o){for(var t=[],e=0,r=o._points._coordinates.length;e<r;++e)t.push(K.coordinate.apply(this,[o._points._coordinates[e]]));return t.join(",")},linearring:function(o){for(var t=[],e=0,r=o._points._coordinates.length;e<r;++e)t.push(K.coordinate.apply(this,[o._points._coordinates[e]]));return t.join(",")},multilinestring:function(o){for(var t=[],e=0,r=o._geometries.length;e<r;++e)t.push("("+K.linestring.apply(this,[o._geometries[e]])+")");return t.join(",")},polygon:function(o){for(var t=["("+K.linestring.apply(this,[o._shell])+")"],e=0,r=o._holes.length;e<r;++e)t.push("("+K.linestring.apply(this,[o._holes[e]])+")");return t.join(",")},multipolygon:function(o){for(var t=[],e=0,r=o._geometries.length;e<r;++e)t.push("("+K.polygon.apply(this,[o._geometries[e]])+")");return t.join(",")},geometrycollection:function(o){for(var t=[],e=0,r=o._geometries.length;e<r;++e)t.push(this.extractGeometry(o._geometries[e]));return t.join(",")}},J={point:function(o){if(void 0===o)return this.geometryFactory.createPoint();var t=o.trim().split(H.spaces);return this.geometryFactory.createPoint(new N(yo(t[0]),yo(t[1])))},multipoint:function(a){if(void 0===a)return this.geometryFactory.createMultiPoint();for(var t=a.trim().split(","),n=[],i=0,s=t.length,o;i<s;++i)o=t[i].replace(H.trimParens,"$1"),n.push(J.point.apply(this,[o]));return this.geometryFactory.createMultiPoint(n)},linestring:function(a){if(void 0===a)return this.geometryFactory.createLineString();for(var t=a.trim().split(","),n=[],i=0,s=t.length,o;i<s;++i)o=t[i].trim().split(H.spaces),n.push(new N(yo(o[0]),yo(o[1])));return this.geometryFactory.createLineString(n)},linearring:function(a){if(void 0===a)return this.geometryFactory.createLinearRing();for(var t=a.trim().split(","),n=[],i=0,s=t.length,o;i<s;++i)o=t[i].trim().split(H.spaces),n.push(new N(yo(o[0]),yo(o[1])));return this.geometryFactory.createLinearRing(n)},multilinestring:function(a){if(void 0===a)return this.geometryFactory.createMultiLineString();for(var t=a.trim().split(H.parenComma),n=[],i=0,s=t.length,o;i<s;++i)o=t[i].replace(H.trimParens,"$1"),n.push(J.linestring.apply(this,[o]));return this.geometryFactory.createMultiLineString(n)},polygon:function(p){if(void 0===p)return this.geometryFactory.createPolygon();for(var t=p.trim().split(H.parenComma),o=[],s=0,d=t.length,l,g,c,_;s<d;++s)l=t[s].replace(H.trimParens,"$1"),g=J.linestring.apply(this,[l]),c=this.geometryFactory.createLinearRing(g._points),0==s?_=c:o.push(c);return this.geometryFactory.createPolygon(_,o)},multipolygon:function(a){if(void 0===a)return this.geometryFactory.createMultiPolygon();for(var t=a.trim().split(H.doubleParenComma),n=[],i=0,s=t.length,o;i<s;++i)o=t[i].replace(H.trimParens,"$1"),n.push(J.polygon.apply(this,[o]));return this.geometryFactory.createMultiPolygon(n)},geometrycollection:function(o){if(void 0===o)return this.geometryFactory.createGeometryCollection();for(var a=(o=o.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),e=[],n=0,s=a.length;n<s;++n)e.push(this.read(a[n]));return this.geometryFactory.createGeometryCollection(e)}},Q=function(e){this.parser=new W(e)};Q.prototype.write=function(e){return this.parser.write(e)},Q.toLineString=function(o,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+o.x+" "+o.y+", "+t.x+" "+t.y+" )"};var Z=function(o){function t(t){o.call(this,t),this.name="RuntimeException",this.message=t,this.stack=new o().stack}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t}(Error),Co=function(o){function t(){if(o.call(this),0===arguments.length)o.call(this);else if(1===arguments.length){var t=arguments[0];o.call(this,t)}}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Z),tt=function(){};tt.prototype.interfaces_=function(){return[]},tt.prototype.getClass=function(){return tt},tt.shouldNeverReachHere=function(){if(0===arguments.length)tt.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new Co("Should never reach here"+(null===e?"":": "+e))}},tt.isTrue=function(){var o,n;if(1===arguments.length)o=arguments[0],tt.isTrue(o,null);else if(2===arguments.length&&(o=arguments[0],n=arguments[1],!o))throw null===n?new Co:new Co(n)},tt.equals=function(){var o,i,r;if(2===arguments.length)o=arguments[0],i=arguments[1],tt.equals(o,i,null);else if(3===arguments.length&&(o=arguments[0],i=arguments[1],r=arguments[2],!i.equals(o)))throw new Co("Expected "+o+" but encountered "+i+(null===r?"":": "+r))};var et=function(){this._result=null,this._inputLines=[,,].fill().map(function(){return[,,]}),this._intPt=[,,].fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new N,this._intPt[1]=new N,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},nt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};et.prototype.getIndexAlongSegment=function(o,t){return this.computeIntLineIndex(),this._intLineIndex[o][t]},et.prototype.getTopologySummary=function(){var e=new P;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},et.prototype.computeIntersection=function(o,t,e,n){this._inputLines[0][0]=o,this._inputLines[0][1]=t,this._inputLines[1][0]=e,this._inputLines[1][1]=n,this._result=this.computeIntersect(o,t,e,n)},et.prototype.getIntersectionNum=function(){return this._result},et.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=[,,].fill().map(function(){return[,,]}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},et.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},et.prototype.setPrecisionModel=function(e){this._precisionModel=e},et.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var o=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[o][0])&&!this._intPt[t].equals2D(this._inputLines[o][1]))return!0;return!1}},et.prototype.getIntersection=function(e){return this._intPt[e]},et.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},et.prototype.hasIntersection=function(){return this._result!==et.NO_INTERSECTION},et.prototype.getEdgeDistance=function(o,t){return et.computeEdgeDistance(this._intPt[t],this._inputLines[o][0],this._inputLines[o][1])},et.prototype.isCollinear=function(){return this._result===et.COLLINEAR_INTERSECTION},et.prototype.toString=function(){return Q.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Q.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},et.prototype.getEndpoint=function(o,t){return this._inputLines[o][t]},et.prototype.isIntersection=function(o){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(o))return!0;return!1},et.prototype.getIntersectionAlongSegment=function(o,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[o][t]]},et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.computeEdgeDistance=function(p,t,e){var n=oo(e.x-t.x),i=oo(e.y-t.y),r=-1;if(p.equals(t))r=0;else if(p.equals(e))r=n>i?n:i;else{var d=oo(p.x-t.x),s=oo(p.y-t.y);0!==(r=n>i?d:s)||p.equals(t)||(r=po(d,s))}return tt.isTrue(0!==r||p.equals(t),"Bad distance calculation"),r},et.nonRobustComputeEdgeDistance=function(n,t){var e=n.x-t.x,i=n.y-t.y,r=to(e*e+i*i);return tt.isTrue(0!==r||n.equals(t),"Invalid distance calculation"),r},nt.DONT_INTERSECT.get=function(){return 0},nt.DO_INTERSECT.get=function(){return 1},nt.COLLINEAR.get=function(){return 2},nt.NO_INTERSECTION.get=function(){return 0},nt.POINT_INTERSECTION.get=function(){return 1},nt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(et,nt);var it=function(p){function a(){p.apply(this,arguments)}return p&&(a.__proto__=p),a.prototype=Object.create(p&&p.prototype),a.prototype.constructor=a,a.prototype.isInSegmentEnvelopes=function(o){var t=new k(this._inputLines[0][0],this._inputLines[0][1]),e=new k(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(o)&&e.contains(o)},a.prototype.computeIntersection=function(){if(3!==arguments.length)return p.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],o=arguments[2];return(this._isProper=!1,k.intersects(e,o,t)&&0===st.orientationIndex(e,o,t)&&0===st.orientationIndex(o,e,t))?(this._isProper=!0,(t.equals(e)||t.equals(o))&&(this._isProper=!1),this._result=p.POINT_INTERSECTION,null):void(this._result=p.NO_INTERSECTION)},a.prototype.normalizeToMinimum=function(o,t,e,n,i){i.x=this.smallestInAbsValue(o.x,t.x,e.x,n.x),i.y=this.smallestInAbsValue(o.y,t.y,e.y,n.y),o.x-=i.x,o.y-=i.y,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y},a.prototype.safeHCoordinateIntersection=function(e,t,n,i){var r=null;try{r=Y.intersection(e,t,n,i)}catch(o){if(!(o instanceof z))throw o;r=a.nearestEndpoint(e,t,n,i)}return r},a.prototype.intersection=function(e,t,n,i){var r=this.intersectionWithNormalization(e,t,n,i);return this.isInSegmentEnvelopes(r)||(r=new N(a.nearestEndpoint(e,t,n,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(r),r},a.prototype.smallestInAbsValue=function(a,t,e,n){var i=a,s=oo(i);return oo(t)<s&&(i=t,s=oo(t)),oo(e)<s&&(i=e,s=oo(e)),oo(n)<s&&(i=n),i},a.prototype.checkDD=function(a,t,e,n,i){var r=G.intersection(a,t,e,n),o=this.isInSegmentEnvelopes(r);X.out.println("DD in env = "+o+"  --------------------- "+r),1e-4<i.distance(r)&&X.out.println("Distance = "+i.distance(r))},a.prototype.intersectionWithNormalization=function(p,t,e,n){var i=new N(p),r=new N(t),o=new N(e),s=new N(n),a=new N;this.normalizeToEnvCentre(i,r,o,s,a);var d=this.safeHCoordinateIntersection(i,r,o,s);return d.x+=a.x,d.y+=a.y,d},a.prototype.computeCollinearIntersection=function(t,e,n,i){var r=k.intersects(t,e,n),o=k.intersects(t,e,i),s=k.intersects(n,i,t),a=k.intersects(n,i,e);return r&&o?(this._intPt[0]=n,this._intPt[1]=i,p.COLLINEAR_INTERSECTION):s&&a?(this._intPt[0]=t,this._intPt[1]=e,p.COLLINEAR_INTERSECTION):r&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||a?p.COLLINEAR_INTERSECTION:p.POINT_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||s?p.COLLINEAR_INTERSECTION:p.POINT_INTERSECTION):o&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||a?p.COLLINEAR_INTERSECTION:p.POINT_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||s?p.COLLINEAR_INTERSECTION:p.POINT_INTERSECTION):p.NO_INTERSECTION},a.prototype.normalizeToEnvCentre=function(d,t,e,n,i){var r=d.x<t.x?d.x:t.x,o=d.y<t.y?d.y:t.y,s=d.x>t.x?d.x:t.x,a=d.y>t.y?d.y:t.y,_=e.x<n.x?e.x:n.x,l=e.y<n.y?e.y:n.y,c=e.x>n.x?e.x:n.x,p=e.y>n.y?e.y:n.y,u=((r>_?r:_)+(s<c?s:c))/2,y=((o>l?o:l)+(a<p?a:p))/2;i.x=u,i.y=y,d.x-=i.x,d.y-=i.y,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y},a.prototype.computeIntersect=function(t,e,n,i){if(this._isProper=!1,!k.intersects(t,e,n,i))return p.NO_INTERSECTION;var r=st.orientationIndex(t,e,n),o=st.orientationIndex(t,e,i);if(0<r&&0<o||0>r&&0>o)return p.NO_INTERSECTION;var s=st.orientationIndex(n,i,t),a=st.orientationIndex(n,i,e);return 0<s&&0<a||0>s&&0>a?p.NO_INTERSECTION:0===r&&0===o&&0===s&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this._intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:0===r?this._intPt[0]=new N(n):0===o?this._intPt[0]=new N(i):0===s?this._intPt[0]=new N(t):0===a&&(this._intPt[0]=new N(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,n,i)),p.POINT_INTERSECTION)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.nearestEndpoint=function(a,t,e,n){var i=a,p=st.distancePointLine(a,e,n),d=st.distancePointLine(t,e,n);return d<p&&(p=d,i=t),(d=st.distancePointLine(e,a,t))<p&&(p=d,i=e),(d=st.distancePointLine(n,a,t))<p&&(p=d,i=n),i},a}(et),rt=function(){};rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.orientationIndex=function(a,t,e){var n=t.x-a.x,i=t.y-a.y,r=e.x-t.x,o=e.y-t.y;return rt.signOfDet2x2(n,i,r,o)},rt.signOfDet2x2=function(a,p,d,l){var g=null,c=null,_=null;if(g=1,0===a||0===l)return 0===p||0===d?0:0<p?0<d?-g:g:0<d?g:-g;if(0===p||0===d)return 0<l?0<a?g:-g:0<a?-g:g;if(0<p?0<l?p<=l||(g=-g,c=a,a=d,d=c,c=p,p=l,l=c):p<=-l?(g=-g,d=-d,l=-l):(c=a,a=-d,d=c,c=p,p=-l,l=c):0<l?-p<=l?(g=-g,a=-a,p=-p):(c=-a,a=d,d=c,c=-p,p=l,l=c):p>=l?(a=-a,p=-p,d=-d,l=-l):(g=-g,c=-a,a=-d,d=c,c=-p,p=-l,l=c),0<a){if(!(0<d))return g;if(!(a<=d))return g}else{if(0<d)return-g;if(!(a>=d))return-g;g=-g,a=-a,d=-d}for(;;){if(_=h(d/a),d-=_*a,0>(l-=_*p))return-g;if(l>p)return g;if(!(a>d+d)){if(p>l+l)return-g;d=a-d,l=p-l,g=-g}else if(p<l+l)return g;if(0===l)return 0===d?0:-g;if(0===d)return g;if(_=h(a/d),a-=_*d,0>(p-=_*l))return g;if(p>l)return-g;if(!(d>a+a)){if(l>p+p)return g;a=d-a,p=l-p,g=-g}else if(l<p+p)return-g;if(0===p)return 0===a?0:g;if(0===a)return-g}};var ot=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};ot.prototype.countSegment=function(p,t){if(p.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(p.y===this._p.y&&t.y===this._p.y){var e=p.x,d=t.x;return e>d&&(e=t.x,d=p.x),this._p.x>=e&&this._p.x<=d&&(this._isPointOnSegment=!0),null}if(p.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&p.y<=this._p.y){var l=p.x-this._p.x,r=p.y-this._p.y,o=t.x-this._p.x,s=t.y-this._p.y,a=rt.signOfDet2x2(l,r,o,s);if(0===a)return this._isPointOnSegment=!0,null;s<r&&(a=-a),0<a&&this._crossingCount++}},ot.prototype.isPointInPolygon=function(){return this.getLocation()!==b.EXTERIOR},ot.prototype.getLocation=function(){return this._isPointOnSegment?b.BOUNDARY:1==this._crossingCount%2?b.INTERIOR:b.EXTERIOR},ot.prototype.isOnSegment=function(){return this._isPointOnSegment},ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.locatePointInRing=function(){if(arguments[0]instanceof N&&O(arguments[1],B)){for(var d=arguments[0],t=arguments[1],e=new ot(d),n=new N,i=new N,r=1;r<t.size();r++)if(t.getCoordinate(r,n),t.getCoordinate(r-1,i),e.countSegment(n,i),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof N&&arguments[1]instanceof Array){for(var g=arguments[0],s=arguments[1],a=new ot(g),_=1;_<s.length;_++){var u=s[_],c=s[_-1];if(a.countSegment(u,c),a.isOnSegment())return a.getLocation()}return a.getLocation()}};var st=function(){},at={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.orientationIndex=function(o,t,e){return G.orientationIndex(o,t,e)},st.signedArea=function(){if(arguments[0]instanceof Array){var d=arguments[0];if(3>d.length)return 0;for(var t=0,g=d[0].x,n=1;n<d.length-1;n++){var _=d[n].x-g,r=d[n+1].y;t+=_*(d[n-1].y-r)}return t/2}if(O(arguments[0],B)){var o=arguments[0],s=o.size();if(3>s)return 0;var a=new N,u=new N,l=new N;o.getCoordinate(0,u),o.getCoordinate(1,l);var c=u.x;l.x-=c;for(var p=0,y=1;y<s-1;y++)a.y=u.y,u.x=l.x,u.y=l.y,o.getCoordinate(y+1,l),l.x-=c,p+=u.x*(a.y-l.y);return p/2}},st.distanceLineLine=function(p,t,e,n){if(p.equals(t))return st.distancePointLine(p,e,n);if(e.equals(n))return st.distancePointLine(n,p,t);var i=!1;if(k.intersects(p,t,e,n)){var d=(t.x-p.x)*(n.y-e.y)-(t.y-p.y)*(n.x-e.x);if(0==d)i=!0;else{var o=(p.y-e.y)*(n.x-e.x)-(p.x-e.x)*(n.y-e.y),s=((p.y-e.y)*(t.x-p.x)-(p.x-e.x)*(t.y-p.y))/d,a=o/d;(0>a||1<a||0>s||1<s)&&(i=!0)}}else i=!0;return i?T.min(st.distancePointLine(p,e,n),st.distancePointLine(t,e,n),st.distancePointLine(e,p,t),st.distancePointLine(n,p,t)):0},st.isPointInRing=function(o,t){return st.locatePointInRing(o,t)!==b.EXTERIOR},st.computeLength=function(p){var t=p.size();if(1>=t)return 0;var e=0,d=new N;p.getCoordinate(0,d);for(var i=d.x,g=d.y,_=1;_<t;_++){p.getCoordinate(_,d);var y=d.x,a=d.y,u=y-i,l=a-g;e+=to(u*u+l*l),i=y,g=a}return e},st.isCCW=function(d){var t=d.length-1;if(3>t)throw new xo("Ring has fewer than 4 points, so orientation cannot be determined");for(var e=d[0],g=0,_=1,y;_<=t;_++)y=d[_],y.y>e.y&&(e=y,g=_);var m=g;do 0>(m-=1)&&(m=t);while(d[m].equals2D(e)&&m!==g);var f=g;do f=(f+1)%t;while(d[f].equals2D(e)&&f!==g);var h=d[m],u=d[f];if(h.equals2D(e)||u.equals2D(e)||h.equals2D(u))return!1;var l=st.computeOrientation(h,e,u),c=!1;return c=0===l?h.x>u.x:0<l,c},st.locatePointInRing=function(o,t){return ot.locatePointInRing(o,t)},st.distancePointLinePerpendicular=function(o,t,e){var n=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y),i=((t.y-o.y)*(e.x-t.x)-(t.x-o.x)*(e.y-t.y))/n;return oo(i)*to(n)},st.computeOrientation=function(o,t,e){return st.orientationIndex(o,t,e)},st.distancePointLine=function(){if(2===arguments.length){var p=arguments[0],t=arguments[1];if(0===t.length)throw new xo("Line array must contain at least one vertex");for(var e=p.distance(t[0]),d=0,g;d<t.length-1;d++)g=st.distancePointLine(p,t[d],t[d+1]),g<e&&(e=g);return e}if(3===arguments.length){var _=arguments[0],o=arguments[1],s=arguments[2];if(o.x===s.x&&o.y===s.y)return _.distance(o);var a=(s.x-o.x)*(s.x-o.x)+(s.y-o.y)*(s.y-o.y),u=((_.x-o.x)*(s.x-o.x)+(_.y-o.y)*(s.y-o.y))/a;if(0>=u)return _.distance(o);if(1<=u)return _.distance(s);var l=((o.y-_.y)*(s.x-o.x)-(o.x-_.x)*(s.y-o.y))/a;return oo(l)*to(a)}},st.isOnLine=function(a,t){for(var e=new it,n=1;n<t.length;n++){var s=t[n-1],r=t[n];if(e.computeIntersection(a,s,r),e.hasIntersection())return!0}return!1},at.CLOCKWISE.get=function(){return-1},at.RIGHT.get=function(){return st.CLOCKWISE},at.COUNTERCLOCKWISE.get=function(){return 1},at.LEFT.get=function(){return st.COUNTERCLOCKWISE},at.COLLINEAR.get=function(){return 0},at.STRAIGHT.get=function(){return st.COLLINEAR},Object.defineProperties(st,at);var ut=function(){};ut.prototype.filter=function(){},ut.prototype.interfaces_=function(){return[]},ut.prototype.getClass=function(){return ut};var lt=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},ct={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};lt.prototype.isGeometryCollection=function(){return this.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION},lt.prototype.getFactory=function(){return this._factory},lt.prototype.getGeometryN=function(){return this},lt.prototype.getArea=function(){return 0},lt.prototype.isRectangle=function(){return!1},lt.prototype.equals=function(){if(arguments[0]instanceof lt){var o=arguments[0];return null!==o&&this.equalsTopo(o)}if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof lt))return!1;return this.equalsExact(t)}},lt.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},lt.prototype.geometryChanged=function(){this.apply(lt.geometryChangedFilter)},lt.prototype.geometryChangedAction=function(){this._envelope=null},lt.prototype.equalsNorm=function(e){return null!==e&&this.norm().equalsExact(e.norm())},lt.prototype.getLength=function(){return 0},lt.prototype.getNumGeometries=function(){return 1},lt.prototype.compareTo=function(){if(1===arguments.length){var o=arguments[0],t=o;return this.getSortIndex()===t.getSortIndex()?this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(o):this.getSortIndex()-t.getSortIndex()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.getSortIndex()===e.getSortIndex()?this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(e,n):this.getSortIndex()-e.getSortIndex()}},lt.prototype.getUserData=function(){return this._userData},lt.prototype.getSRID=function(){return this._SRID},lt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},lt.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION)throw new xo("This method does not support GeometryCollection arguments")},lt.prototype.equal=function(o,t,e){return 0===e?o.equals(t):o.distance(t)<=e},lt.prototype.norm=function(){var e=this.copy();return e.normalize(),e},lt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},lt.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new k(this._envelope)},lt.prototype.setSRID=function(e){this._SRID=e},lt.prototype.setUserData=function(e){this._userData=e},lt.prototype.compare=function(a,t){for(var e=a.iterator(),n=t.iterator();e.hasNext()&&n.hasNext();){var i=e.next(),r=n.next(),o=i.compareTo(r);if(0!==o)return o}return e.hasNext()?1:n.hasNext()?-1:0},lt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},lt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===lt.SORTINDEX_MULTIPOINT||this.getSortIndex()===lt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===lt.SORTINDEX_MULTIPOLYGON},lt.prototype.interfaces_=function(){return[E,I,t]},lt.prototype.getClass=function(){return lt},lt.hasNonEmptyElements=function(o){for(var t=0;t<o.length;t++)if(!o[t].isEmpty())return!0;return!1},lt.hasNullElements=function(o){for(var t=0;t<o.length;t++)if(null===o[t])return!0;return!1},ct.serialVersionUID.get=function(){return 0x799ea46522854c00},ct.SORTINDEX_POINT.get=function(){return 0},ct.SORTINDEX_MULTIPOINT.get=function(){return 1},ct.SORTINDEX_LINESTRING.get=function(){return 2},ct.SORTINDEX_LINEARRING.get=function(){return 3},ct.SORTINDEX_MULTILINESTRING.get=function(){return 4},ct.SORTINDEX_POLYGON.get=function(){return 5},ct.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ct.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ct.geometryChangedFilter.get=function(){return pt},Object.defineProperties(lt,ct);var pt=function(){};pt.interfaces_=function(){return[ut]},pt.filter=function(e){e.geometryChangedAction()};var ht=function(){};ht.prototype.filter=function(){},ht.prototype.interfaces_=function(){return[]},ht.prototype.getClass=function(){return ht};var ft=function(){},gt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};ft.prototype.isInBoundary=function(){},ft.prototype.interfaces_=function(){return[]},ft.prototype.getClass=function(){return ft},gt.Mod2BoundaryNodeRule.get=function(){return dt},gt.EndPointBoundaryNodeRule.get=function(){return yt},gt.MultiValentEndPointBoundaryNodeRule.get=function(){return _t},gt.MonoValentEndPointBoundaryNodeRule.get=function(){return mt},gt.MOD2_BOUNDARY_RULE.get=function(){return new dt},gt.ENDPOINT_BOUNDARY_RULE.get=function(){return new yt},gt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _t},gt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},gt.OGC_SFS_BOUNDARY_RULE.get=function(){return ft.MOD2_BOUNDARY_RULE},Object.defineProperties(ft,gt);var dt=function(){};dt.prototype.isInBoundary=function(e){return 1==e%2},dt.prototype.interfaces_=function(){return[ft]},dt.prototype.getClass=function(){return dt};var yt=function(){};yt.prototype.isInBoundary=function(e){return 0<e},yt.prototype.interfaces_=function(){return[ft]},yt.prototype.getClass=function(){return yt};var _t=function(){};_t.prototype.isInBoundary=function(e){return 1<e},_t.prototype.interfaces_=function(){return[ft]},_t.prototype.getClass=function(){return _t};var mt=function(){};mt.prototype.isInBoundary=function(e){return 1===e},mt.prototype.interfaces_=function(){return[ft]},mt.prototype.getClass=function(){return mt};var vt=function(){};vt.prototype.add=function(){},vt.prototype.addAll=function(){},vt.prototype.isEmpty=function(){},vt.prototype.iterator=function(){},vt.prototype.size=function(){},vt.prototype.toArray=function(){},vt.prototype.remove=function(){},(e.prototype=new Error).name="IndexOutOfBoundsException";var It=function(){};It.prototype.hasNext=function(){},It.prototype.next=function(){},It.prototype.remove=function(){};var Et=function(o){function t(){o.apply(this,arguments)}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(vt);(n.prototype=new Error).name="NoSuchElementException";var xt=function(o){function t(){o.call(this),this.array_=[],arguments[0]instanceof vt&&this.addAll(arguments[0])}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[o,vt]},t.prototype.add=function(e){return 1===arguments.length?this.array_.push(e):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(o){for(var t=o.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.set=function(o,t){var e=this.array_[o];return this.array_[o]=t,e},t.prototype.iterator=function(){return new Nt(this)},t.prototype.get=function(o){if(0>o||o>=this.size())throw new e;return this.array_[o]},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var o=[],t=0,i=this.array_.length;t<i;t++)o.push(this.array_[t]);return o},t.prototype.remove=function(o){for(var t=!1,r=0,a=this.array_.length;r<a;r++)if(this.array_[r]===o){this.array_.splice(r,1),t=!0;break}return t},t}(Et),Nt=function(o){function t(t){o.call(this),this.arrayList_=t,this.position_=0}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new n;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(It),Ct=function(o){function t(){if(o.call(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}o&&(t.__proto__=o),(t.prototype=Object.create(o&&o.prototype)).constructor=t;var e={coordArrayType:{configurable:!0}};return e.coordArrayType.get=function(){return[].fill(null)},t.prototype.getCoordinate=function(e){return this.get(e)},t.prototype.addAll=function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=!1,a=t.iterator();a.hasNext();)this.add(a.next(),e),n=!0;return n}return o.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var t=o.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){if(1===arguments.length){var t=arguments[0];o.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof N&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&1<=this.size()&&this.get(this.size()-1).equals2D(i))return null;o.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var r=arguments[0],x=arguments[1];return this.add(r,x),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],a=arguments[1];if(arguments[2])for(var u=0;u<s.length;u++)this.add(s[u],a);else for(var E=s.length-1;0<=E;E--)this.add(s[E],a);return!0}if("boolean"==typeof arguments[2]&&mo(arguments[0])&&arguments[1]instanceof N){var C=arguments[0],p=arguments[1];if(!arguments[2]){var h=this.size();if(0<h){if(0<C&&this.get(C-1).equals2D(p))return null;if(C<h&&this.get(C).equals2D(p))return null}}o.prototype.add.call(this,C,p)}}else if(4===arguments.length){var f=arguments[0],g=arguments[1],d=arguments[2],y=arguments[3],_=1;d>y&&(_=-1);for(var I=d;I!==y;I+=_)this.add(f[I],g);return!0}},t.prototype.closeRing=function(){0<this.size()&&this.add(new N(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,e),t}(xt),St=function(){},Lt={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Lt.ForwardComparator.get=function(){return bt},Lt.BidirectionalComparator.get=function(){return wt},Lt.coordArrayType.get=function(){return[].fill(null)},St.prototype.interfaces_=function(){return[]},St.prototype.getClass=function(){return St},St.isRing=function(e){return!(4>e.length)&&!!e[0].equals2D(e[e.length-1])},St.ptNotInList=function(o,t){for(var e=0,r;e<o.length;e++)if(r=o[e],0>St.indexOf(r,t))return r;return null},St.scroll=function(o,t){var e=St.indexOf(t,o);if(0>e)return null;var n=Array(o.length).fill(null);X.arraycopy(o,e,n,0,o.length-e),X.arraycopy(o,0,n,o.length-e,e),X.arraycopy(n,0,o,0,o.length)},St.equals=function(){if(2===arguments.length){var a=arguments[0],t=arguments[1];if(a===t)return!0;if(null===a||null===t)return!1;if(a.length!==t.length)return!1;for(var e=0;e<a.length;e++)if(!a[e].equals(t[e]))return!1;return!0}if(3===arguments.length){var p=arguments[0],i=arguments[1],r=arguments[2];if(p===i)return!0;if(null===p||null===i)return!1;if(p.length!==i.length)return!1;for(var o=0;o<p.length;o++)if(0!==r.compare(p[o],i[o]))return!1;return!0}},St.intersection=function(o,t){for(var e=new Ct,n=0;n<o.length;n++)t.intersects(o[n])&&e.add(o[n],!0);return e.toCoordinateArray()},St.hasRepeatedPoints=function(o){for(var t=1;t<o.length;t++)if(o[t-1].equals(o[t]))return!0;return!1},St.removeRepeatedPoints=function(e){return St.hasRepeatedPoints(e)?new Ct(e,!1).toCoordinateArray():e},St.reverse=function(o){for(var t=o.length-1,e=eo(t/2),n=0,a;n<=e;n++)a=o[n],o[n]=o[t-n],o[t-n]=a},St.removeNull=function(a){for(var t=0,s=0;s<a.length;s++)null!==a[s]&&t++;var p=Array(t).fill(null);if(0==t)return p;for(var i=0,d=0;d<a.length;d++)null!==a[d]&&(p[i++]=a[d]);return p},St.copyDeep=function(){if(1===arguments.length){for(var p=arguments[0],t=Array(p.length).fill(null),e=0;e<p.length;e++)t[e]=new N(p[e]);return t}if(5===arguments.length)for(var d=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3],s=arguments[4],a=0;a<s;a++)r[o+a]=new N(d[i+a])},St.isEqualReversed=function(o,t){for(var e=0;e<o.length;e++){var a=o[e],i=t[o.length-e-1];if(0!==a.compareTo(i))return!1}return!0},St.envelope=function(o){for(var t=new k,e=0;e<o.length;e++)t.expandToInclude(o[e]);return t},St.toCoordinateArray=function(e){return e.toArray(St.coordArrayType)},St.atLeastNCoordinatesOrNothing=function(o,t){return t.length>=o?t:[]},St.indexOf=function(o,t){for(var e=0;e<t.length;e++)if(o.equals(t[e]))return e;return-1},St.increasingDirection=function(o){for(var t=0;t<eo(o.length/2);t++){var r=o.length-1-t,n=o[t].compareTo(o[r]);if(0!==n)return n}return 1},St.compare=function(o,t){for(var e=0,r;e<o.length&&e<t.length;){if(r=o[e].compareTo(t[e]),0!==r)return r;e++}return e<t.length?-1:e<o.length?1:0},St.minCoordinate=function(o){for(var t=null,i=0;i<o.length;i++)(null===t||0<t.compareTo(o[i]))&&(t=o[i]);return t},St.extract=function(a,t,p){t=T.clamp(t,0,a.length);var d=(p=T.clamp(p,-1,a.length))-t+1;0>p&&(d=0),t>=a.length&&(d=0),p<t&&(d=0);var l=Array(d).fill(null);if(0==d)return l;for(var r=0,g=t;g<=p;g++)l[r++]=a[g];return l},Object.defineProperties(St,Lt);var bt=function(){};bt.prototype.compare=function(o,t){return St.compare(o,t)},bt.prototype.interfaces_=function(){return[x]},bt.prototype.getClass=function(){return bt};var wt=function(){};wt.prototype.compare=function(o,t){var e=o,n=t;if(e.length<n.length)return-1;if(e.length>n.length)return 1;if(0===e.length)return 0;var i=St.compare(e,n);return St.isEqualReversed(e,n)?0:i},wt.prototype.OLDcompare=function(p,t){var e=p,n=t;if(e.length<n.length)return-1;if(e.length>n.length)return 1;if(0===e.length)return 0;for(var i=St.increasingDirection(e),r=St.increasingDirection(n),o=0<i?0:e.length-1,d=0<r?0:e.length-1,g=0,c;g<e.length;g++){if(c=e[o].compareTo(n[d]),0!==c)return c;o+=i,d+=r}return 0},wt.prototype.interfaces_=function(){return[x]},wt.prototype.getClass=function(){return wt};var Ot=function(){};Ot.prototype.get=function(){},Ot.prototype.put=function(){},Ot.prototype.size=function(){},Ot.prototype.values=function(){},Ot.prototype.entrySet=function(){};var Tt=function(o){function t(){o.apply(this,arguments)}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t}(Ot);(i.prototype=new Error).name="OperationNotSupported",(r.prototype=new vt).contains=function(){};var Rt=function(o){function t(){o.call(this),this.array_=[],arguments[0]instanceof vt&&this.addAll(arguments[0])}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.contains=function(o){for(var t=0,i=this.array_.length;t<i;t++)if(this.array_[t]===o)return!0;return!1},t.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},t.prototype.addAll=function(o){for(var t=o.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.remove=function(){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.toArray=function(){for(var o=[],t=0,i=this.array_.length;t<i;t++)o.push(this.array_[t]);return o},t.prototype.iterator=function(){return new Pt(this)},t}(r),Pt=function(o){function t(t){o.call(this),this.hashSet_=t,this.position_=0}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new n;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new i},t}(It),Dt=0;(c.prototype=new Tt).get=function(o){for(var t=this.root_,i;null!==t;)if(i=o.compareTo(t.key),0>i)t=t.left;else{if(!(0<i))return t.value;t=t.right}return null},c.prototype.put=function(a,t){if(null===this.root_)return this.root_={key:a,value:t,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var e=this.root_,p,d;do if(p=e,0>(d=a.compareTo(e.key)))e=e.left;else{if(!(0<d)){var l=e.value;return e.value=t,l}e=e.right}while(null!==e);var o={key:a,left:null,right:null,value:t,parent:p,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return 0>d?p.left=o:p.right=o,this.fixAfterInsertion(o),this.size_++,null},c.prototype.fixAfterInsertion=function(i){for(i.color=1;null!=i&&i!==this.root_&&1===i.parent.color;)if(s(i)===go(s(s(i)))){var r=l(s(s(i)));1===o(r)?(a(s(i),0),a(r,0),a(s(s(i)),1),i=s(s(i))):(i===l(s(i))&&(i=s(i),this.rotateLeft(i)),a(s(i),0),a(s(s(i)),1),this.rotateRight(s(s(i))))}else{var e=go(s(s(i)));1===o(e)?(a(s(i),0),a(e,0),a(s(s(i)),1),i=s(s(i))):(i===go(s(i))&&(i=s(i),this.rotateRight(i)),a(s(i),0),a(s(s(i)),1),this.rotateLeft(s(s(i))))}this.root_.color=0},c.prototype.values=function(){var o=new xt,t=this.getFirstEntry();if(null!==t)for(o.add(t.value);null!==(t=c.successor(t));)o.add(t.value);return o},c.prototype.entrySet=function(){var o=new Rt,t=this.getFirstEntry();if(null!==t)for(o.add(t);null!==(t=c.successor(t));)o.add(t);return o},c.prototype.rotateLeft=function(o){if(null!=o){var t=o.right;o.right=t.left,null!=t.left&&(t.left.parent=o),t.parent=o.parent,null===o.parent?this.root_=t:o.parent.left===o?o.parent.left=t:o.parent.right=t,t.left=o,o.parent=t}},c.prototype.rotateRight=function(o){if(null!=o){var t=o.left;o.left=t.right,null!=t.right&&(t.right.parent=o),t.parent=o.parent,null===o.parent?this.root_=t:o.parent.right===o?o.parent.right=t:o.parent.left=t,t.right=o,o.parent=t}},c.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},c.successor=function(o){if(null===o)return null;if(null!==o.right){for(var t=o.right;null!==t.left;)t=t.left;return t}for(var r=o.parent,a=o;null!==r&&a===r.right;)a=r,r=r.parent;return r},c.prototype.size=function(){return this.size_};var Mt=function(){};Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt},co.prototype=new r,(_o.prototype=new co).contains=function(o){for(var t=0,i=this.array_.length;t<i;t++)if(0===this.array_[t].compareTo(o))return!0;return!1},_o.prototype.add=function(o){if(this.contains(o))return!1;for(var t=0,i=this.array_.length;t<i;t++)if(1===this.array_[t].compareTo(o))return this.array_.splice(t,0,o),!0;return this.array_.push(o),!0},_o.prototype.addAll=function(o){for(var t=o.iterator();t.hasNext();)this.add(t.next());return!0},_o.prototype.remove=function(){throw new i},_o.prototype.size=function(){return this.array_.length},_o.prototype.isEmpty=function(){return 0===this.array_.length},_o.prototype.toArray=function(){for(var o=[],t=0,i=this.array_.length;t<i;t++)o.push(this.array_[t]);return o},_o.prototype.iterator=function(){return new At(this)};var At=function(e){this.treeSet_=e,this.position_=0};At.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new n;return this.treeSet_.array_[this.position_++]},At.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},At.prototype.remove=function(){throw new i};var Ft=function(){};Ft.sort=function(){var a=arguments[0],r,s,p,d;if(1===arguments.length)d=function(o,t){return o.compareTo(t)},a.sort(d);else if(2===arguments.length)p=arguments[1],d=function(o,t){return p.compare(o,t)},a.sort(d);else if(3===arguments.length){(s=a.slice(arguments[1],arguments[2])).sort();var l=a.slice(0,arguments[1]).concat(s,a.slice(arguments[2],a.length));for(a.splice(0,a.length),r=0;r<l.length;r++)a.push(l[r])}else if(4===arguments.length)for(s=a.slice(arguments[1],arguments[2]),p=arguments[3],d=function(o,t){return p.compare(o,t)},s.sort(d),l=a.slice(0,arguments[1]).concat(s,a.slice(arguments[2],a.length)),a.splice(0,a.length),r=0;r<l.length;r++)a.push(l[r])},Ft.asList=function(o){for(var t=new xt,e=0,r=o.length;e<r;e++)t.add(o[e]);return t};var Gt=function(){},qt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};qt.P.get=function(){return 0},qt.L.get=function(){return 1},qt.A.get=function(){return 2},qt.FALSE.get=function(){return-1},qt.TRUE.get=function(){return-2},qt.DONTCARE.get=function(){return-3},qt.SYM_FALSE.get=function(){return"F"},qt.SYM_TRUE.get=function(){return"T"},qt.SYM_DONTCARE.get=function(){return"*"},qt.SYM_P.get=function(){return"0"},qt.SYM_L.get=function(){return"1"},qt.SYM_A.get=function(){return"2"},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt},Gt.toDimensionSymbol=function(e){switch(e){case Gt.FALSE:return Gt.SYM_FALSE;case Gt.TRUE:return Gt.SYM_TRUE;case Gt.DONTCARE:return Gt.SYM_DONTCARE;case Gt.P:return Gt.SYM_P;case Gt.L:return Gt.SYM_L;case Gt.A:return Gt.SYM_A;}throw new xo("Unknown dimension value: "+e)},Gt.toDimensionValue=function(e){switch(M.toUpperCase(e)){case Gt.SYM_FALSE:return Gt.FALSE;case Gt.SYM_TRUE:return Gt.TRUE;case Gt.SYM_DONTCARE:return Gt.DONTCARE;case Gt.SYM_P:return Gt.P;case Gt.SYM_L:return Gt.L;case Gt.SYM_A:return Gt.A;}throw new xo("Unknown dimension symbol: "+e)},Object.defineProperties(Gt,qt);var Bt=function(){};Bt.prototype.filter=function(){},Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt};var Vt=function(){};Vt.prototype.filter=function(){},Vt.prototype.isDone=function(){},Vt.prototype.isGeometryChanged=function(){},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt};var Ut=function(o){function i(t,e){if(o.call(this,e),this._geometries=t||[],o.hasNullElements(this._geometries))throw new xo("geometries must not contain null elements")}o&&(i.__proto__=o),(i.prototype=Object.create(o&&o.prototype)).constructor=i;var e={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){for(var o=new k,t=0;t<this._geometries.length;t++)o.expandToInclude(this._geometries[t].getEnvelopeInternal());return o},i.prototype.getGeometryN=function(e){return this._geometries[e]},i.prototype.getSortIndex=function(){return o.SORTINDEX_GEOMETRYCOLLECTION},i.prototype.getCoordinates=function(){for(var o=Array(this.getNumPoints()).fill(null),t=-1,a=0;a<this._geometries.length;a++)for(var s=this._geometries[a].getCoordinates(),i=0;i<s.length;i++)o[++t]=s[i];return o},i.prototype.getArea=function(){for(var o=0,n=0;n<this._geometries.length;n++)o+=this._geometries[n].getArea();return o},i.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._geometries.length!==n._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(n._geometries[i],e))return!1;return!0}return o.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();Ft.sort(this._geometries)},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},i.prototype.getBoundaryDimension=function(){for(var o=Gt.FALSE,n=0;n<this._geometries.length;n++)o=po(o,this._geometries[n].getBoundaryDimension());return o},i.prototype.getDimension=function(){for(var o=Gt.FALSE,n=0;n<this._geometries.length;n++)o=po(o,this._geometries[n].getDimension());return o},i.prototype.getLength=function(){for(var o=0,n=0;n<this._geometries.length;n++)o+=this._geometries[n].getLength();return o},i.prototype.getNumPoints=function(){for(var o=0,n=0;n<this._geometries.length;n++)o+=this._geometries[n].getNumPoints();return o},i.prototype.getNumGeometries=function(){return this._geometries.length},i.prototype.reverse=function(){for(var o=this._geometries.length,t=Array(o).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(t)},i.prototype.compareToSameClass=function(){if(1===arguments.length){var d=arguments[0],t=new _o(Ft.asList(this._geometries)),e=new _o(Ft.asList(d._geometries));return this.compare(t,e)}if(2===arguments.length){for(var n=arguments[0],i=arguments[1],r=n,o=this.getNumGeometries(),s=r.getNumGeometries(),a=0;a<o&&a<s;){var g=this.getGeometryN(a),l=r.getGeometryN(a),c=g.compareToSameClass(l,i);if(0!==c)return c;a++}return a<o?1:a<s?-1:0}},i.prototype.apply=function(){if(O(arguments[0],ht))for(var p=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(p);else if(O(arguments[0],Vt)){var d=arguments[0];if(0===this._geometries.length)return null;for(var n=0;n<this._geometries.length&&(this._geometries[n].apply(d),!d.isDone());n++);d.isGeometryChanged()&&this.geometryChanged()}else if(O(arguments[0],Bt)){var l=arguments[0];l.filter(this);for(var r=0;r<this._geometries.length;r++)this._geometries[r].apply(l)}else if(O(arguments[0],ut)){var g=arguments[0];g.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(g)}},i.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),tt.shouldNeverReachHere(),null},i.prototype.clone=function(){var t=o.prototype.clone.call(this);t._geometries=Array(this._geometries.length).fill(null);for(var e=0;e<this._geometries.length;e++)t._geometries[e]=this._geometries[e].clone();return t},i.prototype.getGeometryType=function(){return"GeometryCollection"},i.prototype.copy=function(){for(var e=Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new i(e,this._factory)},i.prototype.isEmpty=function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},e.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(i,e),i}(lt),zt=function(o){function i(){o.apply(this,arguments)}o&&(i.__proto__=o),(i.prototype=Object.create(o&&o.prototype)).constructor=i;var e={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTILINESTRING},i.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&o.prototype.equalsExact.call(this,t,e)}return o.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Gt.FALSE:0},i.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0},i.prototype.getDimension=function(){return 1},i.prototype.reverse=function(){for(var o=this._geometries.length,t=Array(o).fill(null),e=0;e<this._geometries.length;e++)t[o-1-e]=this._geometries[e].reverse();return this.getFactory().createMultiLineString(t)},i.prototype.getBoundary=function(){return new Xt(this).getBoundary()},i.prototype.getGeometryType=function(){return"MultiLineString"},i.prototype.copy=function(){for(var e=Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new i(e,this._factory)},i.prototype.interfaces_=function(){return[Mt]},i.prototype.getClass=function(){return i},e.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(i,e),i}(Ut),Xt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var o=arguments[0],t=ft.MOD2_BOUNDARY_RULE;this._geom=o,this._geomFact=o.getFactory(),this._bnRule=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._geom=e,this._geomFact=e.getFactory(),this._bnRule=n}};Xt.prototype.boundaryMultiLineString=function(o){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(o);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)},Xt.prototype.getBoundary=function(){return this._geom instanceof Wt?this.boundaryLineString(this._geom):this._geom instanceof zt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Xt.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},Xt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Xt.prototype.computeBoundaryCoordinates=function(a){var t=new xt;this._endpointMap=new c;for(var e=0,p;e<a.getNumGeometries();e++)p=a.getGeometryN(e),0!==p.getNumPoints()&&(this.addEndpoint(p.getCoordinateN(0)),this.addEndpoint(p.getCoordinateN(p.getNumPoints()-1)));for(var d=this._endpointMap.entrySet().iterator();d.hasNext();){var r=d.next(),o=r.getValue().count;this._bnRule.isInBoundary(o)&&t.add(r.getKey())}return St.toCoordinateArray(t)},Xt.prototype.addEndpoint=function(o){var t=this._endpointMap.get(o);null===t&&(t=new Yt,this._endpointMap.put(o,t)),t.count++},Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt},Xt.getBoundary=function(){if(1===arguments.length){var o=arguments[0];return new Xt(o).getBoundary()}if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Xt(t,e).getBoundary()}};var Yt=function(){this.count=null};Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt};var kt=function(){},jt={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};kt.prototype.interfaces_=function(){return[]},kt.prototype.getClass=function(){return kt},kt.chars=function(o,t){for(var e=Array(t).fill(null),n=0;n<t;n++)e[n]=o;return e+""},kt.getStackTrace=function(){if(1===arguments.length){var p=arguments[0],t=new function(){},e=new function(){}(t);return p.printStackTrace(e),t.toString()}if(2===arguments.length){for(var n=arguments[0],i=arguments[1],r="",d=new function(){}(new function(){}(kt.getStackTrace(n))),s=0;s<i;s++)try{r+=d.readLine()+kt.NEWLINE}catch(e){if(!(e instanceof uo))throw e;tt.shouldNeverReachHere()}return r}},kt.split=function(p,t){for(var e=t.length,n=new xt,i=""+p,d=i.indexOf(t),l;0<=d;)l=i.substring(0,d),n.add(l),d=(i=i.substring(d+e)).indexOf(t);0<i.length&&n.add(i);for(var g=Array(n.size()).fill(null),a=0;a<g.length;a++)g[a]=n.get(a);return g},kt.toString=function(){if(1===arguments.length){var e=arguments[0];return kt.SIMPLE_ORDINATE_FORMAT.format(e)}},kt.spaces=function(e){return kt.chars(" ",e)},jt.NEWLINE.get=function(){return X.getProperty("line.separator")},jt.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(kt,jt);var Ht=function(){};Ht.prototype.interfaces_=function(){return[]},Ht.prototype.getClass=function(){return Ht},Ht.copyCoord=function(a,t,e,n){for(var i=f(a.getDimension(),e.getDimension()),r=0;r<i;r++)e.setOrdinate(n,r,a.getOrdinate(t,r))},Ht.isRing=function(o){var t=o.size();return 0===t||!(3>=t)&&o.getOrdinate(0,B.X)===o.getOrdinate(t-1,B.X)&&o.getOrdinate(0,B.Y)===o.getOrdinate(t-1,B.Y)},Ht.isEqual=function(p,t){var e=p.size();if(e!==t.size())return!1;for(var n=f(p.getDimension(),t.getDimension()),i=0;i<e;i++)for(var d=0;d<n;d++){var l=p.getOrdinate(i,d),s=t.getOrdinate(i,d);if(p.getOrdinate(i,d)!==t.getOrdinate(i,d)&&(!m.isNaN(l)||!m.isNaN(s)))return!1}return!0},Ht.extend=function(a,t,e){var n=a.create(e,t.getDimension()),i=t.size();if(Ht.copy(t,0,n,0,i),0<i)for(var r=i;r<e;r++)Ht.copy(t,i-1,n,r,1);return n},Ht.reverse=function(o){for(var t=o.size()-1,e=eo(t/2),n=0;n<=e;n++)Ht.swap(o,n,t-n)},Ht.swap=function(o,t,e){if(t===e)return null;for(var n=0,a;n<o.getDimension();n++)a=o.getOrdinate(t,n),o.setOrdinate(t,n,o.getOrdinate(e,n)),o.setOrdinate(e,n,a)},Ht.copy=function(a,t,e,n,i){for(var r=0;r<i;r++)Ht.copyCoord(a,t+r,e,n+r)},Ht.toString=function(){if(1===arguments.length){var a=arguments[0],t=a.size();if(0===t)return"()";var e=a.getDimension(),n=new P;n.append("(");for(var i=0;i<t;i++){0<i&&n.append(" ");for(var s=0;s<e;s++)0<s&&n.append(","),n.append(kt.toString(a.getOrdinate(i,s)))}return n.append(")"),n.toString()}},Ht.ensureValidRing=function(o,t){var e=t.size();return 0===e?t:3>=e?Ht.createClosedRing(o,t,4):t.getOrdinate(0,B.X)===t.getOrdinate(e-1,B.X)&&t.getOrdinate(0,B.Y)===t.getOrdinate(e-1,B.Y)?t:Ht.createClosedRing(o,t,e+1)},Ht.createClosedRing=function(a,t,e){var n=a.create(e,t.getDimension()),i=t.size();Ht.copy(t,0,n,0,i);for(var r=i;r<e;r++)Ht.copy(t,0,n,r,1);return n};var Wt=function(o){function i(t,e){o.call(this,e),this._points=null,this.init(t)}o&&(i.__proto__=o),(i.prototype=Object.create(o&&o.prototype)).constructor=i;var e={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new k:this._points.expandEnvelope(new k)},i.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},i.prototype.getSortIndex=function(){return o.SORTINDEX_LINESTRING},i.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},i.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._points.size()!==n._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),n._points.getCoordinate(i),e))return!1;return!0}return o.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var o=0,n;o<eo(this._points.size()/2);o++)if(n=this._points.size()-1-o,!this._points.getCoordinate(o).equals(this._points.getCoordinate(n)))return 0<this._points.getCoordinate(o).compareTo(this._points.getCoordinate(n))&&Ht.reverse(this._points),null},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Gt.FALSE:0},i.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},i.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},i.prototype.getDimension=function(){return 1},i.prototype.getLength=function(){return st.computeLength(this._points)},i.prototype.getNumPoints=function(){return this._points.size()},i.prototype.reverse=function(){var e=this._points.copy();return Ht.reverse(e),this.getFactory().createLineString(e)},i.prototype.compareToSameClass=function(){if(1===arguments.length){for(var o=arguments[0],t=0,a=0,s;t<this._points.size()&&a<o._points.size();){if(s=this._points.getCoordinate(t).compareTo(o._points.getCoordinate(a)),0!==s)return s;t++,a++}return t<this._points.size()?1:a<o._points.size()?-1:0}if(2===arguments.length){var p=arguments[0];return arguments[1].compare(this._points,p._points)}},i.prototype.apply=function(){if(O(arguments[0],ht))for(var o=arguments[0],t=0;t<this._points.size();t++)o.filter(this._points.getCoordinate(t));else if(O(arguments[0],Vt)){var r=arguments[0];if(0===this._points.size())return null;for(var n=0;n<this._points.size()&&(r.filter(this._points,n),!r.isDone());n++);r.isGeometryChanged()&&this.geometryChanged()}else O(arguments[0],Bt)?arguments[0].filter(this):O(arguments[0],ut)&&arguments[0].filter(this)},i.prototype.getBoundary=function(){return new Xt(this).getBoundary()},i.prototype.isEquivalentClass=function(e){return e instanceof i},i.prototype.clone=function(){var t=o.prototype.clone.call(this);return t._points=this._points.clone(),t},i.prototype.getCoordinateN=function(e){return this._points.getCoordinate(e)},i.prototype.getGeometryType=function(){return"LineString"},i.prototype.copy=function(){return new i(this._points.copy(),this._factory)},i.prototype.getCoordinateSequence=function(){return this._points},i.prototype.isEmpty=function(){return 0===this._points.size()},i.prototype.init=function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new xo("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e},i.prototype.isCoordinate=function(o){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(o))return!0;return!1},i.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},i.prototype.getPointN=function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))},i.prototype.interfaces_=function(){return[Mt]},i.prototype.getClass=function(){return i},e.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(i,e),i}(lt),Kt=function(){};Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt};var Jt=function(o){function t(t,e){o.call(this,e),this._coordinates=t||null,this.init(this._coordinates)}o&&(t.__proto__=o),(t.prototype=Object.create(o&&o.prototype)).constructor=t;var e={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new k;var e=new k;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e},t.prototype.getSortIndex=function(){return o.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(this.isEmpty()&&t.isEmpty()||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return o.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return 0===this._coordinates.size()?null:this._coordinates.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return Gt.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(1===arguments.length){var o=arguments[0];return this.getCoordinate().compareTo(o.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}},t.prototype.apply=function(){if(O(arguments[0],ht)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this.getCoordinate())}else if(O(arguments[0],Vt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else O(arguments[0],Bt)?arguments[0].filter(this):O(arguments[0],ut)&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var t=o.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return 0===this._coordinates.size()},t.prototype.init=function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),tt.isTrue(1>=e.size()),this._coordinates=e},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[Kt]},t.prototype.getClass=function(){return t},e.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(t,e),t}(lt),Qt=function(){};Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt};var Zt=function(a){function o(t,o,r){if(a.call(this,r),this._shell=null,this._holes=null,null===t&&(t=this.getFactory().createLinearRing()),null===o&&(o=[]),a.hasNullElements(o))throw new xo("holes must not contain null elements");if(t.isEmpty()&&a.hasNonEmptyElements(o))throw new xo("shell is empty but holes are not");this._shell=t,this._holes=o}a&&(o.__proto__=a),(o.prototype=Object.create(a&&a.prototype)).constructor=o;var e={serialVersionUID:{configurable:!0}};return o.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},o.prototype.getSortIndex=function(){return a.SORTINDEX_POLYGON},o.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var a=Array(this.getNumPoints()).fill(null),t=-1,p=this._shell.getCoordinates(),n=0;n<p.length;n++)a[++t]=p[n];for(var d=0;d<this._holes.length;d++)for(var l=this._holes[d].getCoordinates(),o=0;o<l.length;o++)a[++t]=l[o];return a},o.prototype.getArea=function(){var o=0;o+=oo(st.signedArea(this._shell.getCoordinateSequence()));for(var n=0;n<this._holes.length;n++)o-=oo(st.signedArea(this._holes[n].getCoordinateSequence()));return o},o.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var p=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),e=0,d;5>e;e++){if(d=p.getX(e),d!==t.getMinX()&&d!==t.getMaxX())return!1;var g=p.getY(e);if(g!==t.getMinY()&&g!==t.getMaxY())return!1}for(var r=p.getX(0),c=p.getY(0),_=1;4>=_;_++){var y=p.getX(_),u=p.getY(_);if(y!==r==(u!==c))return!1;r=y,c=u}return!0},o.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,i=this._shell,r=n._shell;if(!i.equalsExact(r,e))return!1;if(this._holes.length!==n._holes.length)return!1;for(var o=0;o<this._holes.length;o++)if(!this._holes[o].equalsExact(n._holes[o],e))return!1;return!0}return a.prototype.equalsExact.apply(this,arguments)},o.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var o=0;o<this._holes.length;o++)this.normalize(this._holes[o],!1);Ft.sort(this._holes)}else if(2===arguments.length){var a=arguments[0],e=arguments[1];if(a.isEmpty())return null;var n=Array(a.getCoordinates().length-1).fill(null);X.arraycopy(a.getCoordinates(),0,n,0,n.length);var i=St.minCoordinate(a.getCoordinates());St.scroll(n,i),X.arraycopy(n,0,a.getCoordinates(),0,n.length),a.getCoordinates()[n.length]=n[0],st.isCCW(a.getCoordinates())===e&&St.reverse(a.getCoordinates())}},o.prototype.getCoordinate=function(){return this._shell.getCoordinate()},o.prototype.getNumInteriorRing=function(){return this._holes.length},o.prototype.getBoundaryDimension=function(){return 1},o.prototype.getDimension=function(){return 2},o.prototype.getLength=function(){var o=0;o+=this._shell.getLength();for(var n=0;n<this._holes.length;n++)o+=this._holes[n].getLength();return o},o.prototype.getNumPoints=function(){for(var o=this._shell.getNumPoints(),n=0;n<this._holes.length;n++)o+=this._holes[n].getNumPoints();return o},o.prototype.reverse=function(){var o=this.copy();o._shell=this._shell.copy().reverse(),o._holes=Array(this._holes.length).fill(null);for(var t=0;t<this._holes.length;t++)o._holes[t]=this._holes[t].copy().reverse();return o},o.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},o.prototype.compareToSameClass=function(){if(1===arguments.length){var d=arguments[0],t=this._shell,e=d._shell;return t.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],i=arguments[1],r=n,o=this._shell,s=r._shell,a=o.compareToSameClass(s,i);if(0!==a)return a;for(var _=this.getNumInteriorRing(),l=r.getNumInteriorRing(),c=0;c<_&&c<l;){var u=this.getInteriorRingN(c),y=r.getInteriorRingN(c),m=u.compareToSameClass(y,i);if(0!==m)return m;c++}return c<_?1:c<l?-1:0}},o.prototype.apply=function(o){if(O(o,ht)){this._shell.apply(o);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(o)}else if(O(o,Vt)){if(this._shell.apply(o),!o.isDone())for(var r=0;r<this._holes.length&&(this._holes[r].apply(o),!o.isDone());r++);o.isGeometryChanged()&&this.geometryChanged()}else if(O(o,Bt))o.filter(this);else if(O(o,ut)){o.filter(this),this._shell.apply(o);for(var a=0;a<this._holes.length;a++)this._holes[a].apply(o)}},o.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var o=Array(this._holes.length+1).fill(null);o[0]=this._shell;for(var t=0;t<this._holes.length;t++)o[t+1]=this._holes[t];return 1>=o.length?this.getFactory().createLinearRing(o[0].getCoordinateSequence()):this.getFactory().createMultiLineString(o)},o.prototype.clone=function(){var t=a.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].clone();return t},o.prototype.getGeometryType=function(){return"Polygon"},o.prototype.copy=function(){for(var e=this._shell.copy(),t=Array(this._holes.length).fill(null),n=0;n<t.length;n++)t[n]=this._holes[n].copy();return new o(e,t,this._factory)},o.prototype.getExteriorRing=function(){return this._shell},o.prototype.isEmpty=function(){return this._shell.isEmpty()},o.prototype.getInteriorRingN=function(e){return this._holes[e]},o.prototype.interfaces_=function(){return[Qt]},o.prototype.getClass=function(){return o},e.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(o,e),o}(lt),$t=function(o){function i(){o.apply(this,arguments)}o&&(i.__proto__=o),(i.prototype=Object.create(o&&o.prototype)).constructor=i;var e={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTIPOINT},i.prototype.isValid=function(){return!0},i.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&o.prototype.equalsExact.call(this,t,e)}return o.prototype.equalsExact.apply(this,arguments)},i.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return o.prototype.getCoordinate.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return Gt.FALSE},i.prototype.getDimension=function(){return 0},i.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},i.prototype.getGeometryType=function(){return"MultiPoint"},i.prototype.copy=function(){for(var e=Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new i(e,this._factory)},i.prototype.interfaces_=function(){return[Kt]},i.prototype.getClass=function(){return i},e.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(i,e),i}(Ut),te=function(o){function t(t,i){t instanceof N&&i instanceof ye&&(t=i.getCoordinateSequenceFactory().create(t)),o.call(this,t,i),this.validateConstruction()}o&&(t.__proto__=o),(t.prototype=Object.create(o&&o.prototype)).constructor=t;var e={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return lt.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Gt.FALSE},t.prototype.isClosed=function(){return!!this.isEmpty()||o.prototype.isClosed.call(this)},t.prototype.reverse=function(){var e=this._points.copy();return Ht.reverse(e),this.getFactory().createLinearRing(e)},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!o.prototype.isClosed.call(this))throw new xo("Points of LinearRing do not form a closed linestring");if(1<=this.getCoordinateSequence().size()&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new xo("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},e.MINIMUM_VALID_SIZE.get=function(){return 4},e.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,e),t}(Wt),ee=function(o){function i(){o.apply(this,arguments)}o&&(i.__proto__=o),(i.prototype=Object.create(o&&o.prototype)).constructor=i;var e={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTIPOLYGON},i.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&o.prototype.equalsExact.call(this,t,e)}return o.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return 1},i.prototype.getDimension=function(){return 2},i.prototype.reverse=function(){for(var o=this._geometries.length,t=Array(o).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(t)},i.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var o=new xt,t=0;t<this._geometries.length;t++)for(var a=this._geometries[t].getBoundary(),n=0;n<a.getNumGeometries();n++)o.add(a.getGeometryN(n));var s=Array(o.size()).fill(null);return this.getFactory().createMultiLineString(o.toArray(s))},i.prototype.getGeometryType=function(){return"MultiPolygon"},i.prototype.copy=function(){for(var e=Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new i(e,this._factory)},i.prototype.interfaces_=function(){return[Qt]},i.prototype.getClass=function(){return i},e.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(i,e),i}(Ut),ne=function(e){this._factory=e||null,this._isUserDataCopied=!1},ie={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ne.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},ne.prototype.edit=function(o,t){if(null===o)return null;var e=this.editInternal(o,t);return this._isUserDataCopied&&e.setUserData(o.getUserData()),e},ne.prototype.editInternal=function(o,t){return null===this._factory&&(this._factory=o.getFactory()),o instanceof Ut?this.editGeometryCollection(o,t):o instanceof Zt?this.editPolygon(o,t):o instanceof Jt?t.edit(o,this._factory):o instanceof Wt?t.edit(o,this._factory):(tt.shouldNeverReachHere("Unsupported Geometry class: "+o.getClass().getName()),null)},ne.prototype.editGeometryCollection=function(a,t){for(var e=t.edit(a,this._factory),n=new xt,i=0,s;i<e.getNumGeometries();i++)s=this.edit(e.getGeometryN(i),t),null===s||s.isEmpty()||n.add(s);return e.getClass()===$t?this._factory.createMultiPoint(n.toArray([])):e.getClass()===zt?this._factory.createMultiLineString(n.toArray([])):e.getClass()===ee?this._factory.createMultiPolygon(n.toArray([])):this._factory.createGeometryCollection(n.toArray([]))},ne.prototype.editPolygon=function(a,t){var e=t.edit(a,this._factory);if(null===e&&(e=this._factory.createPolygon(null)),e.isEmpty())return e;var p=this.edit(e.getExteriorRing(),t);if(null===p||p.isEmpty())return this._factory.createPolygon();for(var i=new xt,r=0,d;r<e.getNumInteriorRing();r++)d=this.edit(e.getInteriorRingN(r),t),null===d||d.isEmpty()||i.add(d);return this._factory.createPolygon(p,i.toArray([]))},ne.prototype.interfaces_=function(){return[]},ne.prototype.getClass=function(){return ne},ne.GeometryEditorOperation=function(){},ie.NoOpGeometryOperation.get=function(){return re},ie.CoordinateOperation.get=function(){return oe},ie.CoordinateSequenceOperation.get=function(){return se},Object.defineProperties(ne,ie);var re=function(){};re.prototype.edit=function(e){return e},re.prototype.interfaces_=function(){return[ne.GeometryEditorOperation]},re.prototype.getClass=function(){return re};var oe=function(){};oe.prototype.edit=function(o,t){var e=this.editCoordinates(o.getCoordinates(),o);return null===e?o:o instanceof te?t.createLinearRing(e):o instanceof Wt?t.createLineString(e):o instanceof Jt?0<e.length?t.createPoint(e[0]):t.createPoint():o},oe.prototype.interfaces_=function(){return[ne.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(o,t){return o instanceof te?t.createLinearRing(this.edit(o.getCoordinateSequence(),o)):o instanceof Wt?t.createLineString(this.edit(o.getCoordinateSequence(),o)):o instanceof Jt?t.createPoint(this.edit(o.getCoordinateSequence(),o)):o},se.prototype.interfaces_=function(){return[ne.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(mo(arguments[0])){var p=arguments[0];this._coordinates=Array(p).fill(null);for(var t=0;t<p;t++)this._coordinates[t]=new N}else if(O(arguments[0],B)){var d=arguments[0];if(null===d)return this._coordinates=[].fill(null),null;this._dimension=d.getDimension(),this._coordinates=Array(d.size()).fill(null);for(var n=0;n<this._coordinates.length;n++)this._coordinates[n]=d.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&mo(arguments[1])){var l=arguments[0],r=arguments[1];this._coordinates=l,this._dimension=r,null===l&&(this._coordinates=[].fill(null))}else if(mo(arguments[0])&&mo(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=Array(o).fill(null),this._dimension=s;for(var a=0;a<o;a++)this._coordinates[a]=new N}},ue={serialVersionUID:{configurable:!0}};ae.prototype.setOrdinate=function(o,t,e){switch(t){case B.X:this._coordinates[o].x=e;break;case B.Y:this._coordinates[o].y=e;break;case B.Z:this._coordinates[o].z=e;break;default:throw new xo("invalid ordinateIndex");}},ae.prototype.size=function(){return this._coordinates.length},ae.prototype.getOrdinate=function(o,t){return t===B.X?this._coordinates[o].x:t===B.Y?this._coordinates[o].y:t===B.Z?this._coordinates[o].z:m.NaN},ae.prototype.getCoordinate=function(){if(1===arguments.length){var o=arguments[0];return this._coordinates[o]}if(2===arguments.length){var t=arguments[0],e=arguments[1];e.x=this._coordinates[t].x,e.y=this._coordinates[t].y,e.z=this._coordinates[t].z}},ae.prototype.getCoordinateCopy=function(e){return new N(this._coordinates[e])},ae.prototype.getDimension=function(){return this._dimension},ae.prototype.getX=function(e){return this._coordinates[e].x},ae.prototype.clone=function(){for(var o=Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)o[t]=this._coordinates[t].clone();return new ae(o,this._dimension)},ae.prototype.expandEnvelope=function(o){for(var t=0;t<this._coordinates.length;t++)o.expandToInclude(this._coordinates[t]);return o},ae.prototype.copy=function(){for(var o=Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)o[t]=this._coordinates[t].copy();return new ae(o,this._dimension)},ae.prototype.toString=function(){if(0<this._coordinates.length){var o=new P(17*this._coordinates.length);o.append("("),o.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)o.append(", "),o.append(this._coordinates[t]);return o.append(")"),o.toString()}return"()"},ae.prototype.getY=function(e){return this._coordinates[e].y},ae.prototype.toCoordinateArray=function(){return this._coordinates},ae.prototype.interfaces_=function(){return[B,t]},ae.prototype.getClass=function(){return ae},ue.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ae,ue);var le=function(){},ce={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};le.prototype.readResolve=function(){return le.instance()},le.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var o=arguments[0];return new ae(o)}if(O(arguments[0],B)){var t=arguments[0];return new ae(t)}}else if(2===arguments.length){var e=arguments[0],n=arguments[1];return 3<n&&(n=3),2>n?new ae(e):new ae(e,n)}},le.prototype.interfaces_=function(){return[Eo,t]},le.prototype.getClass=function(){return le},le.instance=function(){return le.instanceObject},ce.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ce.instanceObject.get=function(){return new le},Object.defineProperties(le,ce);var pe=function(o){function t(){o.call(this),this.map_=new Map}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return this.map_.get(e)||null},t.prototype.put=function(o,t){return this.map_.set(o,t),t},t.prototype.values=function(){for(var o=new xt,t=this.map_.values(),e=t.next();!e.done;)o.add(e.value),e=t.next();return o},t.prototype.entrySet=function(){var o=new Rt;return this.map_.entries().forEach(function(t){return o.add(t)}),o},t.prototype.size=function(){return this.map_.size()},t}(Ot),he=function o(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=o.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ge){var t=arguments[0];this._modelType=t,t===o.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this._modelType=o.FIXED,this.setScale(e)}else if(arguments[0]instanceof o){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}},fe={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};he.prototype.equals=function(o){if(!(o instanceof he))return!1;var t=o;return this._modelType===t._modelType&&this._scale===t._scale},he.prototype.compareTo=function(e){var t=this.getMaximumSignificantDigits(),o=e.getMaximumSignificantDigits();return new D(t).compareTo(new D(o))},he.prototype.getScale=function(){return this._scale},he.prototype.isFloating=function(){return this._modelType===he.FLOATING||this._modelType===he.FLOATING_SINGLE},he.prototype.getType=function(){return this._modelType},he.prototype.toString=function(){var e="UNKNOWN";return this._modelType===he.FLOATING?e="Floating":this._modelType===he.FLOATING_SINGLE?e="Floating-Single":this._modelType===he.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},he.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var o=arguments[0];return m.isNaN(o)?o:this._modelType===he.FLOATING_SINGLE?o:this._modelType===he.FIXED?ao(o*this._scale)/this._scale:o}if(arguments[0]instanceof N){var t=arguments[0];if(this._modelType===he.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}},he.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===he.FLOATING?e=16:this._modelType===he.FLOATING_SINGLE?e=6:this._modelType===he.FIXED&&(e=1+eo(so(u(this.getScale())/u(10)))),e},he.prototype.setScale=function(e){this._scale=oo(e)},he.prototype.interfaces_=function(){return[t,I]},he.prototype.getClass=function(){return he},he.mostPrecise=function(o,t){return 0<=o.compareTo(t)?o:t},fe.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},fe.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(he,fe);var ge=function o(t){this._name=t||null,o.nameToTypeMap.put(t,this)},de={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ge.prototype.readResolve=function(){return ge.nameToTypeMap.get(this._name)},ge.prototype.toString=function(){return this._name},ge.prototype.interfaces_=function(){return[t]},ge.prototype.getClass=function(){return ge},de.serialVersionUID.get=function(){return-552860263173159e4},de.nameToTypeMap.get=function(){return new pe},Object.defineProperties(ge,de),he.Type=ge,he.FIXED=new ge("FIXED"),he.FLOATING=new ge("FLOATING"),he.FLOATING_SINGLE=new ge("FLOATING SINGLE");var ye=function e(){this._precisionModel=new he,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?O(arguments[0],Eo)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof he&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},_e={serialVersionUID:{configurable:!0}};ye.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new N(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new N(e.getMinX(),e.getMinY()),new N(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new N(e.getMinX(),e.getMinY()),new N(e.getMinX(),e.getMaxY()),new N(e.getMaxX(),e.getMaxY()),new N(e.getMaxX(),e.getMinY()),new N(e.getMinX(),e.getMinY())]),null)},ye.prototype.createLineString=function(e){return e?e instanceof Array?new Wt(this.getCoordinateSequenceFactory().create(e),this):O(e,B)?new Wt(e,this):void 0:new Wt(this.getCoordinateSequenceFactory().create([]),this)},ye.prototype.createMultiLineString=function(){if(0===arguments.length)return new zt(null,this);if(1===arguments.length){var e=arguments[0];return new zt(e,this)}},ye.prototype.buildGeometry=function(p){for(var t=null,d=!1,l=!1,g=p.iterator();g.hasNext();){var r=g.next(),o=r.getClass();null===t&&(t=o),o!==t&&(d=!0),r.isGeometryCollectionOrDerived()&&(l=!0)}if(null===t)return this.createGeometryCollection();if(d||l)return this.createGeometryCollection(ye.toGeometryArray(p));var s=p.iterator().next();if(1<p.size()){if(s instanceof Zt)return this.createMultiPolygon(ye.toPolygonArray(p));if(s instanceof Wt)return this.createMultiLineString(ye.toLineStringArray(p));if(s instanceof Jt)return this.createMultiPoint(ye.toPointArray(p));tt.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},ye.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(null===e?null:this.getCoordinateSequenceFactory().create(e))},ye.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof N){var o=arguments[0];return this.createPoint(null===o?null:this.getCoordinateSequenceFactory().create([o]))}if(O(arguments[0],B)){var t=arguments[0];return new Jt(t,this)}}},ye.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ye.prototype.createPolygon=function(){if(0===arguments.length)return new Zt(null,null,this);if(1===arguments.length){if(O(arguments[0],B)){var o=arguments[0];return this.createPolygon(this.createLinearRing(o))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof te){var e=arguments[0];return this.createPolygon(e,null)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return new Zt(n,i,this)}},ye.prototype.getSRID=function(){return this._SRID},ye.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Ut(null,this);if(1===arguments.length){var e=arguments[0];return new Ut(e,this)}},ye.prototype.createGeometry=function(e){return new ne(this).edit(e,{edit:function(){if(2===arguments.length){var e=arguments[0];return this._coordinateSequenceFactory.create(e)}}})},ye.prototype.getPrecisionModel=function(){return this._precisionModel},ye.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var o=arguments[0];return this.createLinearRing(null===o?null:this.getCoordinateSequenceFactory().create(o))}if(O(arguments[0],B)){var t=arguments[0];return new te(t,this)}}},ye.prototype.createMultiPolygon=function(){if(0===arguments.length)return new ee(null,this);if(1===arguments.length){var e=arguments[0];return new ee(e,this)}},ye.prototype.createMultiPoint=function(){if(0===arguments.length)return new $t(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return new $t(a,this)}if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null===t?null:this.getCoordinateSequenceFactory().create(t))}if(O(arguments[0],B)){var e=arguments[0];if(null===e)return this.createMultiPoint([].fill(null));for(var n=Array(e.size()).fill(null),i=0,s;i<e.size();i++)s=this.getCoordinateSequenceFactory().create(1,e.getDimension()),Ht.copy(e,i,s,0,1),n[i]=this.createPoint(s);return this.createMultiPoint(n)}}},ye.prototype.interfaces_=function(){return[t]},ye.prototype.getClass=function(){return ye},ye.toMultiPolygonArray=function(o){var t=Array(o.size()).fill(null);return o.toArray(t)},ye.toGeometryArray=function(o){if(null===o)return null;var t=Array(o.size()).fill(null);return o.toArray(t)},ye.getDefaultCoordinateSequenceFactory=function(){return le.instance()},ye.toMultiLineStringArray=function(o){var t=Array(o.size()).fill(null);return o.toArray(t)},ye.toLineStringArray=function(o){var t=Array(o.size()).fill(null);return o.toArray(t)},ye.toMultiPointArray=function(o){var t=Array(o.size()).fill(null);return o.toArray(t)},ye.toLinearRingArray=function(o){var t=Array(o.size()).fill(null);return o.toArray(t)},ye.toPointArray=function(o){var t=Array(o.size()).fill(null);return o.toArray(t)},ye.toPolygonArray=function(o){var t=Array(o.size()).fill(null);return o.toArray(t)},ye.createPointFromInternalCoord=function(o,t){return t.getPrecisionModel().makePrecise(o),t.getFactory().createPoint(o)},_e.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(ye,_e);var me=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ve=function(e){this.geometryFactory=e||new ye};ve.prototype.read=function(o){var t=(n="string"==typeof o?JSON.parse(o):o).type,n;if(!Ie[t])throw new Error("Unknown GeoJSON type: "+n.type);return-1===me.indexOf(t)?"GeometryCollection"===t?Ie[t].apply(this,[n.geometries]):Ie[t].apply(this,[n]):Ie[t].apply(this,[n.coordinates])},ve.prototype.write=function(o){var t=o.getGeometryType();if(!Ee[t])throw new Error("Geometry is not supported");return Ee[t].apply(this,[o])};var Ie={Feature:function(o){var t={};for(var e in o)t[e]=o[e];if(o.geometry){var n=o.geometry.type;if(!Ie[n])throw new Error("Unknown GeoJSON type: "+o.type);t.geometry=this.read(o.geometry)}return o.bbox&&(t.bbox=Ie.bbox.apply(this,[o.bbox])),t},FeatureCollection:function(o){var t={};if(o.features){t.features=[];for(var e=0;e<o.features.length;++e)t.features.push(this.read(o.features[e]))}return o.bbox&&(t.bbox=this.parse.bbox.apply(this,[o.bbox])),t},coordinates:function(o){for(var t=[],e=0,r;e<o.length;++e)r=o[e],t.push(new N(r[0],r[1]));return t},bbox:function(e){return this.geometryFactory.createLinearRing([new N(e[0],e[1]),new N(e[2],e[1]),new N(e[2],e[3]),new N(e[0],e[3]),new N(e[0],e[1])])},Point:function(o){var t=new N(o[0],o[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(o){for(var t=[],e=0;e<o.length;++e)t.push(Ie.Point.apply(this,[o[e]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(o){var t=Ie.coordinates.apply(this,[o]);return this.geometryFactory.createLineString(t)},MultiLineString:function(o){for(var t=[],e=0;e<o.length;++e)t.push(Ie.LineString.apply(this,[o[e]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(p){for(var t=Ie.coordinates.apply(this,[p[0]]),e=this.geometryFactory.createLinearRing(t),n=[],i=1;i<p.length;++i){var d=p[i],o=Ie.coordinates.apply(this,[d]),s=this.geometryFactory.createLinearRing(o);n.push(s)}return this.geometryFactory.createPolygon(e,n)},MultiPolygon:function(o){for(var t=[],e=0,r;e<o.length;++e)r=o[e],t.push(Ie.Polygon.apply(this,[r]));return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(o){for(var t=[],e=0,r;e<o.length;++e)r=o[e],t.push(this.read(r));return this.geometryFactory.createGeometryCollection(t)}},Ee={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:Ee.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(o){for(var t=[],e=0;e<o._geometries.length;++e){var a=o._geometries[e],i=Ee.Point.apply(this,[a]);t.push(i.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(o){for(var t=[],e=o.getCoordinates(),n=0,a;n<e.length;++n)a=e[n],t.push(Ee.coordinate.apply(this,[a]));return{type:"LineString",coordinates:t}},MultiLineString:function(o){for(var t=[],e=0;e<o._geometries.length;++e){var a=o._geometries[e],i=Ee.LineString.apply(this,[a]);t.push(i.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(a){var t=[],e=Ee.LineString.apply(this,[a._shell]);t.push(e.coordinates);for(var n=0;n<a._holes.length;++n){var s=a._holes[n],r=Ee.LineString.apply(this,[s]);t.push(r.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(o){for(var t=[],e=0;e<o._geometries.length;++e){var a=o._geometries[e],i=Ee.Polygon.apply(this,[a]);t.push(i.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(o){for(var t=[],e=0;e<o._geometries.length;++e){var a=o._geometries[e],i=a.getGeometryType();t.push(Ee[i].apply(this,[a]))}return{type:"GeometryCollection",geometries:t}}},xe=function(e){this.geometryFactory=e||new ye,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ve(this.geometryFactory)};xe.prototype.read=function(o){var t=this.parser.read(o);return this.precisionModel.getType()===he.FIXED&&this.reducePrecision(t),t},xe.prototype.reducePrecision=function(o){var t,i;if(o.coordinate)this.precisionModel.makePrecise(o.coordinate);else if(o.points)for(t=0,i=o.points.length;t<i;t++)this.precisionModel.makePrecise(o.points[t]);else if(o.geometries)for(t=0,i=o.geometries.length;t<i;t++)this.reducePrecision(o.geometries[t])};var Ne=function(){this.parser=new ve(this.geometryFactory)};Ne.prototype.write=function(e){return this.parser.write(e)};var Ce=function(){},Se={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Ce.prototype.interfaces_=function(){return[]},Ce.prototype.getClass=function(){return Ce},Ce.opposite=function(e){return e===Ce.LEFT?Ce.RIGHT:e===Ce.RIGHT?Ce.LEFT:e},Se.ON.get=function(){return 0},Se.LEFT.get=function(){return 1},Se.RIGHT.get=function(){return 2},Object.defineProperties(Ce,Se),(g.prototype=new Error).name="EmptyStackException",(d.prototype=new Et).add=function(e){return this.array_.push(e),!0},d.prototype.get=function(e){if(0>e||e>=this.size())throw new Error;return this.array_[e]},d.prototype.push=function(e){return this.array_.push(e),e},d.prototype.pop=function(){if(0===this.array_.length)throw new g;return this.array_.pop()},d.prototype.peek=function(){if(0===this.array_.length)throw new g;return this.array_[this.array_.length-1]},d.prototype.empty=function(){return 0===this.array_.length},d.prototype.isEmpty=function(){return this.empty()},d.prototype.search=function(e){return this.array_.indexOf(e)},d.prototype.size=function(){return this.array_.length},d.prototype.toArray=function(){for(var o=[],t=0,i=this.array_.length;t<i;t++)o.push(this.array_[t]);return o};var Le=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Le.prototype.getCoordinate=function(){return this._minCoord},Le.prototype.getRightmostSide=function(o,t){var e=this.getRightmostSideOfSegment(o,t);return 0>e&&(e=this.getRightmostSideOfSegment(o,t-1)),0>e&&(this._minCoord=null,this.checkForRightmostCoordinate(o)),e},Le.prototype.findRightmostEdgeAtVertex=function(){var o=this._minDe.getEdge().getCoordinates();tt.isTrue(0<this._minIndex&&this._minIndex<o.length,"rightmost point expected to be interior vertex of edge");var t=o[this._minIndex-1],e=o[this._minIndex+1],n=st.computeOrientation(this._minCoord,e,t),i=!1;t.y<this._minCoord.y&&e.y<this._minCoord.y&&n===st.COUNTERCLOCKWISE?i=!0:t.y>this._minCoord.y&&e.y>this._minCoord.y&&n===st.CLOCKWISE&&(i=!0),i&&--this._minIndex},Le.prototype.getRightmostSideOfSegment=function(o,t){var e=o.getEdge().getCoordinates();if(0>t||t+1>=e.length)return-1;if(e[t].y===e[t+1].y)return-1;var n=Ce.LEFT;return e[t].y<e[t+1].y&&(n=Ce.RIGHT),n},Le.prototype.getEdge=function(){return this._orientedDe},Le.prototype.checkForRightmostCoordinate=function(o){for(var t=o.getEdge().getCoordinates(),e=0;e<t.length-1;e++)(null===this._minCoord||t[e].x>this._minCoord.x)&&(this._minDe=o,this._minIndex=e,this._minCoord=t[e])},Le.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Le.prototype.findEdge=function(o){for(var t=o.iterator(),e;t.hasNext();)e=t.next(),e.isForward()&&this.checkForRightmostCoordinate(e);tt.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ce.LEFT&&(this._orientedDe=this._minDe.getSym())},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le};var be=function(o){function t(e,n){o.call(this,t.msgWithCoord(e,n)),this.pt=n?new N(n):null,this.name="TopologyException"}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(o,t){return t?o:o+" [ "+t+" ]"},t}(Z),we=function(){this.array_=[]};we.prototype.addLast=function(e){this.array_.push(e)},we.prototype.removeFirst=function(){return this.array_.shift()},we.prototype.isEmpty=function(){return 0===this.array_.length};var Oe=function(){this._finder=null,this._dirEdgeList=new xt,this._nodes=new xt,this._rightMostCoord=null,this._env=null,this._finder=new Le};Oe.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},Oe.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Oe.prototype.computeNodeDepth=function(a){for(var t=null,s=a.getEdges().iterator(),n;s.hasNext();)if(n=s.next(),n.isVisited()||n.getSym().isVisited()){t=n;break}if(null===t)throw new be("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(t);for(var p=a.getEdges().iterator(),r;p.hasNext();)r=p.next(),r.setVisited(!0),this.copySymDepths(r)},Oe.prototype.computeDepth=function(o){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(Ce.RIGHT,o),this.copySymDepths(t),this.computeDepths(t)},Oe.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Oe.prototype.findResultEdges=function(){for(var o=this._dirEdgeList.iterator(),t;o.hasNext();)t=o.next(),1<=t.getDepth(Ce.RIGHT)&&0>=t.getDepth(Ce.LEFT)&&!t.isInteriorAreaEdge()&&t.setInResult(!0)},Oe.prototype.computeDepths=function(p){var t=new Rt,e=new we,n=p.getNode();for(e.addLast(n),t.add(n),p.setVisited(!0);!e.isEmpty();){var i=e.removeFirst();t.add(i),this.computeNodeDepth(i);for(var r=i.getEdges().iterator(),o;r.hasNext();)if(o=r.next().getSym(),!o.isVisited()){var d=o.getNode();t.contains(d)||(e.addLast(d),t.add(d))}}},Oe.prototype.compareTo=function(o){var t=o;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},Oe.prototype.getEnvelope=function(){if(null===this._env){for(var o=new k,t=this._dirEdgeList.iterator();t.hasNext();)for(var e=t.next().getEdge().getCoordinates(),n=0;n<e.length-1;n++)o.expandToInclude(e[n]);this._env=o}return this._env},Oe.prototype.addReachable=function(o){var t=new d;for(t.add(o);!t.empty();){var e=t.pop();this.add(e,t)}},Oe.prototype.copySymDepths=function(o){var t=o.getSym();t.setDepth(Ce.LEFT,o.getDepth(Ce.RIGHT)),t.setDepth(Ce.RIGHT,o.getDepth(Ce.LEFT))},Oe.prototype.add=function(o,t){o.setVisited(!0),this._nodes.add(o);for(var e=o.getEdges().iterator(),n;e.hasNext();){n=e.next(),this._dirEdgeList.add(n);var a=n.getSym().getNode();a.isVisited()||t.push(a)}},Oe.prototype.getNodes=function(){return this._nodes},Oe.prototype.getDirectedEdges=function(){return this._dirEdgeList},Oe.prototype.interfaces_=function(){return[I]},Oe.prototype.getClass=function(){return Oe};var Te=function p(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(mo(arguments[0])){var e=arguments[0];this.init(1),this.location[Ce.ON]=e}else if(arguments[0]instanceof p){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var i=0;i<this.location.length;i++)this.location[i]=n.location[i]}}else if(3===arguments.length){var d=arguments[0],o=arguments[1],s=arguments[2];this.init(3),this.location[Ce.ON]=d,this.location[Ce.LEFT]=o,this.location[Ce.RIGHT]=s}};Te.prototype.setAllLocations=function(o){for(var t=0;t<this.location.length;t++)this.location[t]=o},Te.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==b.NONE)return!1;return!0},Te.prototype.setAllLocationsIfNull=function(o){for(var t=0;t<this.location.length;t++)this.location[t]===b.NONE&&(this.location[t]=o)},Te.prototype.isLine=function(){return 1===this.location.length},Te.prototype.merge=function(o){if(o.location.length>this.location.length){var t=[,,,].fill(null);t[Ce.ON]=this.location[Ce.ON],t[Ce.LEFT]=b.NONE,t[Ce.RIGHT]=b.NONE,this.location=t}for(var e=0;e<this.location.length;e++)this.location[e]===b.NONE&&e<o.location.length&&(this.location[e]=o.location[e])},Te.prototype.getLocations=function(){return this.location},Te.prototype.flip=function(){if(1>=this.location.length)return null;var e=this.location[Ce.LEFT];this.location[Ce.LEFT]=this.location[Ce.RIGHT],this.location[Ce.RIGHT]=e},Te.prototype.toString=function(){var e=new P;return 1<this.location.length&&e.append(b.toLocationSymbol(this.location[Ce.LEFT])),e.append(b.toLocationSymbol(this.location[Ce.ON])),1<this.location.length&&e.append(b.toLocationSymbol(this.location[Ce.RIGHT])),e.toString()},Te.prototype.setLocations=function(o,t,e){this.location[Ce.ON]=o,this.location[Ce.LEFT]=t,this.location[Ce.RIGHT]=e},Te.prototype.get=function(e){return e<this.location.length?this.location[e]:b.NONE},Te.prototype.isArea=function(){return 1<this.location.length},Te.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===b.NONE)return!0;return!1},Te.prototype.setLocation=function(){if(1===arguments.length){var o=arguments[0];this.setLocation(Ce.ON,o)}else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.location[t]=e}},Te.prototype.init=function(e){this.location=Array(e).fill(null),this.setAllLocations(b.NONE)},Te.prototype.isEqualOnSide=function(o,t){return this.location[t]===o.location[t]},Te.prototype.allPositionsEqual=function(o){for(var t=0;t<this.location.length;t++)if(this.location[t]!==o)return!1;return!0},Te.prototype.interfaces_=function(){return[]},Te.prototype.getClass=function(){return Te};var Re=function d(){if(this.elt=[,,].fill(null),1===arguments.length){if(mo(arguments[0])){var t=arguments[0];this.elt[0]=new Te(t),this.elt[1]=new Te(t)}else if(arguments[0]instanceof d){var e=arguments[0];this.elt[0]=new Te(e.elt[0]),this.elt[1]=new Te(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.elt[0]=new Te(b.NONE),this.elt[1]=new Te(b.NONE),this.elt[n].setLocation(i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new Te(r,o,s),this.elt[1]=new Te(r,o,s)}else if(4===arguments.length){var a=arguments[0],g=arguments[1],l=arguments[2],c=arguments[3];this.elt[0]=new Te(b.NONE,b.NONE,b.NONE),this.elt[1]=new Te(b.NONE,b.NONE,b.NONE),this.elt[a].setLocations(g,l,c)}};Re.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},Re.prototype.setAllLocations=function(o,t){this.elt[o].setAllLocations(t)},Re.prototype.isNull=function(e){return this.elt[e].isNull()},Re.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var o=arguments[0];this.setAllLocationsIfNull(0,o),this.setAllLocationsIfNull(1,o)}else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setAllLocationsIfNull(e)}},Re.prototype.isLine=function(e){return this.elt[e].isLine()},Re.prototype.merge=function(o){for(var t=0;2>t;t++)null===this.elt[t]&&null!==o.elt[t]?this.elt[t]=new Te(o.elt[t]):this.elt[t].merge(o.elt[t])},Re.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Re.prototype.getLocation=function(){if(1===arguments.length){var o=arguments[0];return this.elt[o].get(Ce.ON)}if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.elt[t].get(e)}},Re.prototype.toString=function(){var e=new P;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},Re.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}},Re.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},Re.prototype.setLocation=function(){if(2===arguments.length){var o=arguments[0],t=arguments[1];this.elt[o].setLocation(Ce.ON,t)}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this.elt[e].setLocation(n,i)}},Re.prototype.isEqualOnSide=function(o,t){return this.elt[0].isEqualOnSide(o.elt[0],t)&&this.elt[1].isEqualOnSide(o.elt[1],t)},Re.prototype.allPositionsEqual=function(o,t){return this.elt[o].allPositionsEqual(t)},Re.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new Te(this.elt[e].location[0]))},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re},Re.toLineLabel=function(o){for(var t=new Re(b.NONE),e=0;2>e;e++)t.setLocation(e,o.getLocation(e));return t};var Pe=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new xt,this._pts=new xt,this._label=new Re(b.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new xt,this._geometryFactory=null;var o=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(o),this.computeRing()};Pe.prototype.computeRing=function(){if(null!==this._ring)return null;for(var o=Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)o[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(o),this._isHole=st.isCCW(this._ring.getCoordinates())},Pe.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Pe.prototype.computePoints=function(o){this._startDe=o;var t=o,r=!0;do{if(null===t)throw new be("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new be("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var a=t.getLabel();tt.isTrue(a.isArea()),this.mergeLabel(a),this.addPoints(t.getEdge(),t.isForward(),r),r=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)},Pe.prototype.getLinearRing=function(){return this._ring},Pe.prototype.getCoordinate=function(e){return this._pts.get(e)},Pe.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var o=this._startDe;do{var n=o.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),o=this.getNext(o)}while(o!==this._startDe);this._maxNodeDegree*=2},Pe.prototype.addPoints=function(p,t,e){var n=p.getCoordinates();if(t){var i=1;e&&(i=0);for(var d=i;d<n.length;d++)this._pts.add(n[d])}else{var l=n.length-2;e&&(l=n.length-1);for(var g=l;0<=g;g--)this._pts.add(n[g])}},Pe.prototype.isHole=function(){return this._isHole},Pe.prototype.setInResult=function(){var e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)},Pe.prototype.containsPoint=function(o){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(o))return!1;if(!st.isPointInRing(o,t.getCoordinates()))return!1;for(var e=this._holes.iterator();e.hasNext();)if(e.next().containsPoint(o))return!1;return!0},Pe.prototype.addHole=function(e){this._holes.add(e)},Pe.prototype.isShell=function(){return null===this._shell},Pe.prototype.getLabel=function(){return this._label},Pe.prototype.getEdges=function(){return this._edges},Pe.prototype.getMaxNodeDegree=function(){return 0>this._maxNodeDegree&&this.computeMaxNodeDegree(),this._maxNodeDegree},Pe.prototype.getShell=function(){return this._shell},Pe.prototype.mergeLabel=function(){if(1===arguments.length){var o=arguments[0];this.mergeLabel(o,0),this.mergeLabel(o,1)}else if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(e,Ce.RIGHT);if(n===b.NONE)return null;if(this._label.getLocation(e)===b.NONE)return this._label.setLocation(e,n),null}},Pe.prototype.setShell=function(e){this._shell=e,null!==e&&e.addHole(this)},Pe.prototype.toPolygon=function(o){for(var t=Array(this._holes.size()).fill(null),e=0;e<this._holes.size();e++)t[e]=this._holes.get(e).getLinearRing();return o.createPolygon(this.getLinearRing(),t)},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe};var De=function(o){function t(){var t=arguments[0],e=arguments[1];o.call(this,t,e)}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(o,t){o.setMinEdgeRing(t)},t.prototype.getNext=function(e){return e.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Pe),Me=function(o){function t(){var t=arguments[0],e=arguments[1];o.call(this,t,e)}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var o=new xt,t=this._startDe;do{if(null===t.getMinEdgeRing()){var i=new De(t,this._geometryFactory);o.add(i)}t=t.getNext()}while(t!==this._startDe);return o},t.prototype.setEdgeRing=function(o,t){o.setEdgeRing(t)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var e=this._startDe;do e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext();while(e!==this._startDe)},t.prototype.getNext=function(e){return e.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Pe),Ae=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}};Ae.prototype.setVisited=function(e){this._isVisited=e},Ae.prototype.setInResult=function(e){this._isInResult=e},Ae.prototype.isCovered=function(){return this._isCovered},Ae.prototype.isCoveredSet=function(){return this._isCoveredSet},Ae.prototype.setLabel=function(e){this._label=e},Ae.prototype.getLabel=function(){return this._label},Ae.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},Ae.prototype.updateIM=function(e){tt.isTrue(2<=this._label.getGeometryCount(),"found partial label"),this.computeIM(e)},Ae.prototype.isInResult=function(){return this._isInResult},Ae.prototype.isVisited=function(){return this._isVisited},Ae.prototype.interfaces_=function(){return[]},Ae.prototype.getClass=function(){return Ae};var Fe=function(o){function a(){o.call(this),this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new Re(0,b.NONE)}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.isIncidentEdgeInResult=function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1},a.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},a.prototype.getCoordinate=function(){return this._coord},a.prototype.print=function(e){e.println("node "+this._coord+" lbl: "+this._label)},a.prototype.computeIM=function(){},a.prototype.computeMergedLocation=function(o,t){var e=b.NONE;if(e=this._label.getLocation(t),!o.isNull(t)){var r=o.getLocation(t);e!==b.BOUNDARY&&(e=r)}return e},a.prototype.setLabel=function(){if(2!==arguments.length)return o.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new Re(t,e):this._label.setLocation(t,e)},a.prototype.getEdges=function(){return this._edges},a.prototype.mergeLabel=function(){if(arguments[0]instanceof a){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof Re)for(var t=arguments[0],o=0,n;2>o;o++)n=this.computeMergedLocation(t,o),this._label.getLocation(o)===b.NONE&&this._label.setLocation(o,n)},a.prototype.add=function(e){this._edges.insert(e),e.setNode(this)},a.prototype.setLabelBoundary=function(o){if(null===this._label)return null;var t=b.NONE;null!==this._label&&(t=this._label.getLocation(o));var i=null;switch(t){case b.BOUNDARY:i=b.INTERIOR;break;case b.INTERIOR:default:i=b.BOUNDARY;}this._label.setLocation(o,i)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Ae),Ge=function(){this.nodeMap=new c,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Ge.prototype.find=function(e){return this.nodeMap.get(e)},Ge.prototype.addNode=function(){if(arguments[0]instanceof N){var o=arguments[0],t=this.nodeMap.get(o);return null===t&&(t=this.nodeFact.createNode(o),this.nodeMap.put(o,t)),t}if(arguments[0]instanceof Fe){var r=arguments[0],n=this.nodeMap.get(r.getCoordinate());return null===n?(this.nodeMap.put(r.getCoordinate(),r),r):(n.mergeLabel(r),n)}},Ge.prototype.print=function(o){for(var t=this.iterator();t.hasNext();)t.next().print(o)},Ge.prototype.iterator=function(){return this.nodeMap.values().iterator()},Ge.prototype.values=function(){return this.nodeMap.values()},Ge.prototype.getBoundaryNodes=function(o){for(var t=new xt,e=this.iterator(),n;e.hasNext();)n=e.next(),n.getLabel().getLocation(o)===b.BOUNDARY&&t.add(n);return t},Ge.prototype.add=function(o){var t=o.getCoordinate();this.addNode(t).add(o)},Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge};var qe=function(){},Be={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe},qe.isNorthern=function(e){return e===qe.NE||e===qe.NW},qe.isOpposite=function(o,t){return o!==t&&2==(o-t+4)%4},qe.commonHalfPlane=function(o,t){if(o===t)return o;if(2==(o-t+4)%4)return-1;var e=o<t?o:t;return 0==e&&3==(o>t?o:t)?3:e},qe.isInHalfPlane=function(o,t){return t===qe.SE?o===qe.SE||o===qe.SW:o===t||o===t+1},qe.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],t=arguments[1];if(0===o&&0===t)throw new xo("Cannot compute the quadrant for point ( "+o+", "+t+" )");return 0<=o?0<=t?qe.NE:qe.SE:0<=t?qe.NW:qe.SW}if(arguments[0]instanceof N&&arguments[1]instanceof N){var e=arguments[0],n=arguments[1];if(n.x===e.x&&n.y===e.y)throw new xo("Cannot compute the quadrant for two identical points "+e);return n.x>=e.x?n.y>=e.y?qe.NE:qe.SE:n.y>=e.y?qe.NW:qe.SW}},Be.NE.get=function(){return 0},Be.NW.get=function(){return 1},Be.SW.get=function(){return 2},Be.SE.get=function(){return 3},Object.defineProperties(qe,Be);var Ve=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var p=arguments[0];this._edge=p}else if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this._edge=t,this.init(e,n),this._label=null}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];this._edge=i,this.init(r,o),this._label=s}};Ve.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:st.computeOrientation(e._p0,e._p1,this._p1)},Ve.prototype.getDy=function(){return this._dy},Ve.prototype.getCoordinate=function(){return this._p0},Ve.prototype.setNode=function(e){this._node=e},Ve.prototype.print=function(o){var t=p(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);o.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)},Ve.prototype.compareTo=function(e){return this.compareDirection(e)},Ve.prototype.getDirectedCoordinate=function(){return this._p1},Ve.prototype.getDx=function(){return this._dx},Ve.prototype.getLabel=function(){return this._label},Ve.prototype.getEdge=function(){return this._edge},Ve.prototype.getQuadrant=function(){return this._quadrant},Ve.prototype.getNode=function(){return this._node},Ve.prototype.toString=function(){var o=p(this._dy,this._dx),t=this.getClass().getName(),e=t.lastIndexOf(".");return"  "+t.substring(e+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+o+"   "+this._label},Ve.prototype.computeLabel=function(){},Ve.prototype.init=function(o,t){this._p0=o,this._p1=t,this._dx=t.x-o.x,this._dy=t.y-o.y,this._quadrant=qe.quadrant(this._dx,this._dy),tt.isTrue(0!==this._dx||0!==this._dy,"EdgeEnd with identical endpoints found")},Ve.prototype.interfaces_=function(){return[I]},Ve.prototype.getClass=function(){return Ve};var Ue=function(o){function t(){var t=arguments[0],e=arguments[1];if(o.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(e){return this._depth[e]},t.prototype.setVisited=function(e){this._isVisited=e},t.prototype.computeDirectedLabel=function(){this._label=new Re(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(o,t){if(-999!==this._depth[o]&&this._depth[o]!==t)throw new be("assigned depths do not match",this.getCoordinate());this._depth[o]=t},t.prototype.isInteriorAreaEdge=function(){for(var o=!0,n=0;2>n;n++)this._label.isArea(n)&&this._label.getLocation(n,Ce.LEFT)===b.INTERIOR&&this._label.getLocation(n,Ce.RIGHT)===b.INTERIOR||(o=!1);return o},t.prototype.setNextMin=function(e){this._nextMin=e},t.prototype.print=function(t){o.prototype.print.call(this,t),t.print(" "+this._depth[Ce.LEFT]+"/"+this._depth[Ce.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},t.prototype.setMinEdgeRing=function(e){this._minEdgeRing=e},t.prototype.isLineEdge=function(){var o=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,b.EXTERIOR),e=!this._label.isArea(1)||this._label.allPositionsEqual(1,b.EXTERIOR);return o&&t&&e},t.prototype.setEdgeRing=function(e){this._edgeRing=e},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e},t.prototype.setInResult=function(e){this._isInResult=e},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)},t.prototype.setSym=function(e){this._sym=e},t.prototype.setVisitedEdge=function(e){this.setVisited(e),this._sym.setVisited(e)},t.prototype.setEdgeDepths=function(a,t){var e=this.getEdge().getDepthDelta();this._isForward||(e=-e);var s=1;a===Ce.LEFT&&(s=-1);var p=Ce.opposite(a),r=t+e*s;this.setDepth(a,t),this.setDepth(p,r)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(e){this._next=e},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(o,t){return o===b.EXTERIOR&&t===b.INTERIOR?1:o===b.INTERIOR&&t===b.EXTERIOR?-1:0},t}(Ve),ze=function(){};ze.prototype.createNode=function(e){return new Fe(e,null)},ze.prototype.interfaces_=function(){return[]},ze.prototype.getClass=function(){return ze};var Xe=function(){if(this._edges=new xt,this._nodes=null,this._edgeEndList=new xt,0===arguments.length)this._nodes=new Ge(new ze());else if(1===arguments.length){var e=arguments[0];this._nodes=new Ge(e)}};Xe.prototype.printEdges=function(o){o.println("Edges:");for(var t=0;t<this._edges.size();t++){o.println("edge "+t+":");var i=this._edges.get(t);i.print(o),i.eiList.print(o)}},Xe.prototype.find=function(e){return this._nodes.find(e)},Xe.prototype.addNode=function(){if(arguments[0]instanceof Fe){var o=arguments[0];return this._nodes.addNode(o)}if(arguments[0]instanceof N){var t=arguments[0];return this._nodes.addNode(t)}},Xe.prototype.getNodeIterator=function(){return this._nodes.iterator()},Xe.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Xe.prototype.debugPrintln=function(e){X.out.println(e)},Xe.prototype.isBoundaryNode=function(o,t){var e=this._nodes.find(t);if(null===e)return!1;var n=e.getLabel();return null!==n&&n.getLocation(o)===b.BOUNDARY},Xe.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Xe.prototype.matchInSameDirection=function(o,t,e,n){return!!o.equals(e)&&st.computeOrientation(o,t,n)===st.COLLINEAR&&qe.quadrant(o,t)===qe.quadrant(e,n)},Xe.prototype.getEdgeEnds=function(){return this._edgeEndList},Xe.prototype.debugPrint=function(e){X.out.print(e)},Xe.prototype.getEdgeIterator=function(){return this._edges.iterator()},Xe.prototype.findEdgeInSameDirection=function(o,t){for(var e=0;e<this._edges.size();e++){var a=this._edges.get(e),i=a.getCoordinates();if(this.matchInSameDirection(o,t,i[0],i[1]))return a;if(this.matchInSameDirection(o,t,i[i.length-1],i[i.length-2]))return a}return null},Xe.prototype.insertEdge=function(e){this._edges.add(e)},Xe.prototype.findEdgeEnd=function(o){for(var t=this.getEdgeEnds().iterator(),e;t.hasNext();)if(e=t.next(),e.getEdge()===o)return e;return null},Xe.prototype.addEdges=function(o){for(var t=o.iterator(),e;t.hasNext();){e=t.next(),this._edges.add(e);var a=new Ue(e,!0),i=new Ue(e,!1);a.setSym(i),i.setSym(a),this.add(a),this.add(i)}},Xe.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Xe.prototype.getNodes=function(){return this._nodes.values()},Xe.prototype.findEdge=function(o,t){for(var e=0;e<this._edges.size();e++){var a=this._edges.get(e),i=a.getCoordinates();if(o.equals(i[0])&&t.equals(i[1]))return a}return null},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe},Xe.linkResultDirectedEdges=function(o){for(var t=o.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()};var Ye=function(){this._geometryFactory=null,this._shellList=new xt;var e=arguments[0];this._geometryFactory=e};Ye.prototype.sortShellsAndHoles=function(o,t,e){for(var n=o.iterator(),i;n.hasNext();)i=n.next(),i.isHole()?e.add(i):t.add(i)},Ye.prototype.computePolygons=function(o){for(var t=new xt,e=o.iterator(),n;e.hasNext();)n=e.next().toPolygon(this._geometryFactory),t.add(n);return t},Ye.prototype.placeFreeHoles=function(o,t){for(var e=t.iterator(),n;e.hasNext();)if(n=e.next(),null===n.getShell()){var a=this.findEdgeRingContaining(n,o);if(null===a)throw new be("unable to assign hole to a shell",n.getCoordinate(0));n.setShell(a)}},Ye.prototype.buildMinimalEdgeRings=function(p,t,e){for(var n=new xt,i=p.iterator(),r;i.hasNext();)if(r=i.next(),2<r.getMaxNodeDegree()){r.linkDirectedEdgesForMinimalEdgeRings();var d=r.buildMinimalRings(),s=this.findShell(d);null===s?e.addAll(d):(this.placePolygonHoles(s,d),t.add(s))}else n.add(r);return n},Ye.prototype.containsPoint=function(o){for(var t=this._shellList.iterator();t.hasNext();)if(t.next().containsPoint(o))return!0;return!1},Ye.prototype.buildMaximalEdgeRings=function(o){for(var t=new xt,e=o.iterator(),n;e.hasNext();)if(n=e.next(),n.isInResult()&&n.getLabel().isArea()&&null===n.getEdgeRing()){var a=new Me(n,this._geometryFactory);t.add(a),a.setInResult()}return t},Ye.prototype.placePolygonHoles=function(o,t){for(var e=t.iterator(),n;e.hasNext();)n=e.next(),n.isHole()&&n.setShell(o)},Ye.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Ye.prototype.findEdgeRingContaining=function(d,t){for(var e=d.getLinearRing(),n=e.getEnvelopeInternal(),i=e.getCoordinateN(0),r=null,g=null,_=t.iterator();_.hasNext();){var a=_.next(),u=a.getLinearRing(),l=u.getEnvelopeInternal();null!==r&&(g=r.getLinearRing().getEnvelopeInternal());var c=!1;l.contains(n)&&st.isPointInRing(i,u.getCoordinates())&&(c=!0),c&&(null===r||g.contains(l))&&(r=a)}return r},Ye.prototype.findShell=function(o){for(var t=0,a=null,s=o.iterator(),i;s.hasNext();)i=s.next(),i.isHole()||(a=i,t++);return tt.isTrue(1>=t,"found two shells in MinimalEdgeRing list"),a},Ye.prototype.add=function(){if(1===arguments.length){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(2===arguments.length){var t=arguments[0],e=arguments[1];Xe.linkResultDirectedEdges(e);var n=this.buildMaximalEdgeRings(t),i=new xt,r=this.buildMinimalEdgeRings(n,this._shellList,i);this.sortShellsAndHoles(r,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye};var ke=function(){};ke.prototype.getBounds=function(){},ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke};var je=function(){this._bounds=null,this._item=null;var o=arguments[0],t=arguments[1];this._bounds=o,this._item=t};je.prototype.getItem=function(){return this._item},je.prototype.getBounds=function(){return this._bounds},je.prototype.interfaces_=function(){return[ke,t]},je.prototype.getClass=function(){return je};var He=function(){this._size=null,this._items=null,this._size=0,this._items=new xt,this._items.add(null)};He.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},He.prototype.size=function(){return this._size},He.prototype.reorder=function(o){for(var i=null,r=this._items.get(o);2*o<=this._size&&((i=2*o)!==this._size&&0>this._items.get(i+1).compareTo(this._items.get(i))&&i++,0>this._items.get(i).compareTo(r));o=i)this._items.set(o,this._items.get(i));this._items.set(o,r)},He.prototype.clear=function(){this._size=0,this._items.clear()},He.prototype.isEmpty=function(){return 0===this._size},He.prototype.add=function(o){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,o);0>o.compareTo(this._items.get(eo(t/2)));t/=2)this._items.set(t,this._items.get(eo(t/2)));this._items.set(t,o)},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He};var We=function(){};We.prototype.visitItem=function(){},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var Ke=function(){};Ke.prototype.insert=function(){},Ke.prototype.remove=function(){},Ke.prototype.query=function(){},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var Je=function(){if(this._childBoundables=new xt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}},Qe={serialVersionUID:{configurable:!0}};Je.prototype.getLevel=function(){return this._level},Je.prototype.size=function(){return this._childBoundables.size()},Je.prototype.getChildBoundables=function(){return this._childBoundables},Je.prototype.addChildBoundable=function(e){tt.isTrue(null===this._bounds),this._childBoundables.add(e)},Je.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Je.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Je.prototype.interfaces_=function(){return[ke,t]},Je.prototype.getClass=function(){return Je},Qe.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Je,Qe);var Ze=function(){};Ze.reverseOrder=function(){return{compare:function(o,t){return t.compareTo(o)}}},Ze.min=function(e){return Ze.sort(e),e.get(0)},Ze.sort=function(a,t){var e=a.toArray();t?Ft.sort(e,t):Ft.sort(e);for(var n=a.iterator(),i=0,s=e.length;i<s;i++)n.next(),n.set(e[i])},Ze.singletonList=function(o){var t=new xt;return t.add(o),t};var $e=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var o=arguments[0],t=arguments[1],e=arguments[2];this._boundable1=o,this._boundable2=t,this._itemDistance=e,this._distance=this.distance()};$e.prototype.expandToQueue=function(o,t){var e=$e.isComposite(this._boundable1),n=$e.isComposite(this._boundable2);if(e&&n)return $e.area(this._boundable1)>$e.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,o,t),null):(this.expand(this._boundable2,this._boundable1,o,t),null);if(e)return this.expand(this._boundable1,this._boundable2,o,t),null;if(n)return this.expand(this._boundable2,this._boundable1,o,t),null;throw new xo("neither boundable is composite")},$e.prototype.isLeaves=function(){return!($e.isComposite(this._boundable1)||$e.isComposite(this._boundable2))},$e.prototype.compareTo=function(o){var t=o;return this._distance<t._distance?-1:this._distance>t._distance?1:0},$e.prototype.expand=function(a,t,e,n){for(var i=a.getChildBoundables().iterator();i.hasNext();){var r=i.next(),o=new $e(r,t,this._itemDistance);o.getDistance()<n&&e.add(o)}},$e.prototype.getBoundable=function(e){return 0===e?this._boundable1:this._boundable2},$e.prototype.getDistance=function(){return this._distance},$e.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},$e.prototype.interfaces_=function(){return[I]},$e.prototype.getClass=function(){return $e},$e.area=function(e){return e.getBounds().getArea()},$e.isComposite=function(e){return e instanceof Je};var Io=function o(){if(this._root=null,this._built=!1,this._itemBoundables=new xt,this._nodeCapacity=null,0===arguments.length){var t=o.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(1===arguments.length){var e=arguments[0];tt.isTrue(1<e,"Node capacity must be greater than 1"),this._nodeCapacity=e}},bo={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Io.prototype.getNodeCapacity=function(){return this._nodeCapacity},Io.prototype.lastNode=function(e){return e.get(e.size()-1)},Io.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var o=0,i=arguments[0].getChildBoundables().iterator(),e;i.hasNext();)e=i.next(),e instanceof Je?o+=this.size(e):e instanceof je&&(o+=1);return o}},Io.prototype.removeItem=function(o,t){for(var e=null,a=o.getChildBoundables().iterator(),i;a.hasNext();)i=a.next(),i instanceof je&&i.getItem()===t&&(e=i);return null!==e&&(o.getChildBoundables().remove(e),!0)},Io.prototype.itemsTree=function(){if(0===arguments.length){this.build();var a=this.itemsTree(this._root);return null===a?new xt:a}if(1===arguments.length){for(var t=arguments[0],e=new xt,n=t.getChildBoundables().iterator(),i;n.hasNext();)if(i=n.next(),i instanceof Je){var s=this.itemsTree(i);null!==s&&e.add(s)}else i instanceof je?e.add(i.getItem()):tt.shouldNeverReachHere();return 0>=e.size()?null:e}},Io.prototype.insert=function(o,t){tt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new je(o,t))},Io.prototype.boundablesAtLevel=function(){if(1===arguments.length){var a=arguments[0],t=new xt;return this.boundablesAtLevel(a,this._root,t),t}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(tt.isTrue(-2<e),n.getLevel()===e)return i.add(n),null;for(var r=n.getChildBoundables().iterator(),o;r.hasNext();)o=r.next(),o instanceof Je?this.boundablesAtLevel(e,o,i):(tt.isTrue(o instanceof je),-1===e&&i.add(o));return null}},Io.prototype.query=function(){if(1===arguments.length){var _=arguments[0];this.build();var t=new xt;return this.isEmpty()?t:(this.getIntersectsOp().intersects(this._root.getBounds(),_)&&this.query(_,this._root,t),t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,n)}else if(3===arguments.length)if(O(arguments[2],We)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=r.getChildBoundables(),a=0,y;a<s.size();a++)y=s.get(a),this.getIntersectsOp().intersects(y.getBounds(),i)&&(y instanceof Je?this.query(i,y,o):y instanceof je?o.visitItem(y.getItem()):tt.shouldNeverReachHere());else if(O(arguments[2],Et)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var m=arguments[0],c=arguments[1],p=arguments[2],h=c.getChildBoundables(),f=0,x;f<h.size();f++)x=h.get(f),this.getIntersectsOp().intersects(x.getBounds(),m)&&(x instanceof Je?this.query(m,x,p):x instanceof je?p.add(x.getItem()):tt.shouldNeverReachHere())},Io.prototype.build=function(){return this._built?null:void(this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0)},Io.prototype.getRoot=function(){return this.build(),this._root},Io.prototype.remove=function(){if(2===arguments.length){var p=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),p)&&this.remove(p,this._root,t)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=this.removeItem(n,i);if(r)return!0;for(var d=null,l=n.getChildBoundables().iterator(),a;l.hasNext();)if(a=l.next(),this.getIntersectsOp().intersects(a.getBounds(),e)&&a instanceof Je&&(r=this.remove(e,a,i))){d=a;break}return null!==d&&d.getChildBoundables().isEmpty()&&n.getChildBoundables().remove(d),r}},Io.prototype.createHigherLevels=function(o,t){tt.isTrue(!o.isEmpty());var e=this.createParentBoundables(o,t+1);return 1===e.size()?e.get(0):this.createHigherLevels(e,t+1)},Io.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var o=0,r=arguments[0].getChildBoundables().iterator(),e;r.hasNext();)if(e=r.next(),e instanceof Je){var a=this.depth(e);a>o&&(o=a)}return o+1}},Io.prototype.createParentBoundables=function(a,t){tt.isTrue(!a.isEmpty());var e=new xt;e.add(this.createNode(t));var n=new xt(a);Ze.sort(n,this.getComparator());for(var i=n.iterator(),r;i.hasNext();)r=i.next(),this.lastNode(e).getChildBoundables().size()===this.getNodeCapacity()&&e.add(this.createNode(t)),this.lastNode(e).addChildBoundable(r);return e},Io.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Io.prototype.interfaces_=function(){return[t]},Io.prototype.getClass=function(){return Io},Io.compareDoubles=function(o,t){return o>t?1:o<t?-1:0},bo.IntersectsOp.get=function(){return Lo},bo.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},bo.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Io,bo);var Lo=function(){},So=function(){};So.prototype.distance=function(){},So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So};var No=function(p){function d(t){t=t||d.DEFAULT_NODE_CAPACITY,p.call(this,t)}p&&(d.__proto__=p),(d.prototype=Object.create(p&&p.prototype)).constructor=d;var e={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return d.prototype.createParentBoundablesFromVerticalSlices=function(o,t){tt.isTrue(0<o.length);for(var e=new xt,n=0;n<o.length;n++)e.addAll(this.createParentBoundablesFromVerticalSlice(o[n],t));return e},d.prototype.createNode=function(e){return new vo(e)},d.prototype.size=function(){return 0===arguments.length?p.prototype.size.call(this):p.prototype.size.apply(this,arguments)},d.prototype.insert=function(){if(2!==arguments.length)return p.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void p.prototype.insert.call(this,t,e)},d.prototype.getIntersectsOp=function(){return d.intersectsOp},d.prototype.verticalSlices=function(p,t){for(var e=eo(so(p.size()/t)),n=Array(t).fill(null),i=p.iterator(),r=0;r<t;r++){n[r]=new xt;for(var d=0,l;i.hasNext()&&d<e;)l=i.next(),n[r].add(l),d++}return n},d.prototype.query=function(){if(1===arguments.length){var t=arguments[0];return p.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];p.prototype.query.call(this,e,n)}else if(3===arguments.length)if(O(arguments[2],We)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var i=arguments[0],r=arguments[1],o=arguments[2];p.prototype.query.call(this,i,r,o)}else if(O(arguments[2],Et)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var s=arguments[0],a=arguments[1],d=arguments[2];p.prototype.query.call(this,s,a,d)}},d.prototype.getComparator=function(){return d.yComparator},d.prototype.createParentBoundablesFromVerticalSlice=function(t,e){return p.prototype.createParentBoundables.call(this,t,e)},d.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return p.prototype.remove.call(this,t,e)}return p.prototype.remove.apply(this,arguments)},d.prototype.depth=function(){return 0===arguments.length?p.prototype.depth.call(this):p.prototype.depth.apply(this,arguments)},d.prototype.createParentBoundables=function(n,t){tt.isTrue(!n.isEmpty());var e=eo(so(n.size()/this.getNodeCapacity())),i=new xt(n);Ze.sort(i,d.xComparator);var r=this.verticalSlices(i,eo(so(to(e))));return this.createParentBoundablesFromVerticalSlices(r,t)},d.prototype.nearestNeighbour=function(){if(1===arguments.length){if(O(arguments[0],So)){var n=arguments[0],t=new $e(this.getRoot(),this.getRoot(),n);return this.nearestNeighbour(t)}if(arguments[0]instanceof $e){var e=arguments[0];return this.nearestNeighbour(e,m.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof d&&O(arguments[1],So)){var i=arguments[0],r=arguments[1],o=new $e(this.getRoot(),i.getRoot(),r);return this.nearestNeighbour(o)}if(arguments[0]instanceof $e&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],x=null,E=new He;for(E.add(s);!E.isEmpty()&&0<a;){var c=E.poll(),p=c.getDistance();if(p>=a)break;c.isLeaves()?(a=p,x=c):c.expandToQueue(E,a)}return[x.getBoundable(0).getItem(),x.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[0],f=arguments[1],g=arguments[2],C=new je(h,f),y=new $e(this.getRoot(),C,g);return this.nearestNeighbour(y)[0]}},d.prototype.interfaces_=function(){return[Ke,t]},d.prototype.getClass=function(){return d},d.centreX=function(e){return d.avg(e.getMinX(),e.getMaxX())},d.avg=function(o,t){return(o+t)/2},d.centreY=function(e){return d.avg(e.getMinY(),e.getMaxY())},e.STRtreeNode.get=function(){return vo},e.serialVersionUID.get=function(){return 0x39920f7d5f261e0},e.xComparator.get=function(){return{interfaces_:function(){return[x]},compare:function(t,e){return p.compareDoubles(d.centreX(t.getBounds()),d.centreX(e.getBounds()))}}},e.yComparator.get=function(){return{interfaces_:function(){return[x]},compare:function(t,e){return p.compareDoubles(d.centreY(t.getBounds()),d.centreY(e.getBounds()))}}},e.intersectsOp.get=function(){return{interfaces_:function(){return[p.IntersectsOp]},intersects:function(o,t){return o.intersects(t)}}},e.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(d,e),d}(Io),vo=function(o){function t(){var t=arguments[0];o.call(this,t)}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var o=null,i=this.getChildBoundables().iterator(),e;i.hasNext();)e=i.next(),null==o?o=new k(e.getBounds()):o.expandToInclude(e.getBounds());return o},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Je),To=function(){};To.prototype.interfaces_=function(){return[]},To.prototype.getClass=function(){return To},To.relativeSign=function(o,t){return o<t?-1:o>t?1:0},To.compare=function(o,t,e){if(t.equals2D(e))return 0;var n=To.relativeSign(t.x,e.x),i=To.relativeSign(t.y,e.y);return 0===o?To.compareValue(n,i):1===o?To.compareValue(i,n):2===o?To.compareValue(i,-n):3===o?To.compareValue(-n,i):4===o?To.compareValue(-n,-i):5===o?To.compareValue(-i,-n):6===o?To.compareValue(-i,n):7===o?To.compareValue(n,-i):(tt.shouldNeverReachHere("invalid octant value"),0)},To.compareValue=function(o,t){return 0>o?-1:0<o?1:0>t?-1:0<t?1:0};var Po=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var o=arguments[0],t=arguments[1],e=arguments[2],n=arguments[3];this._segString=o,this.coord=new N(t),this.segmentIndex=e,this._segmentOctant=n,this._isInterior=!t.equals2D(o.getCoordinate(e))};Po.prototype.getCoordinate=function(){return this.coord},Po.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},Po.prototype.compareTo=function(o){var t=o;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:To.compare(this._segmentOctant,this.coord,t.coord)},Po.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e},Po.prototype.isInterior=function(){return this._isInterior},Po.prototype.interfaces_=function(){return[I]},Po.prototype.getClass=function(){return Po};var Ro=function(){this._nodeMap=new c,this._edge=null;var e=arguments[0];this._edge=e};Ro.prototype.getSplitCoordinates=function(){var o=new Ct;this.addEndpoints();for(var t=this.iterator(),e=t.next(),r;t.hasNext();)r=t.next(),this.addEdgeCoordinates(e,r,o),e=r;return o.toCoordinateArray()},Ro.prototype.addCollapsedNodes=function(){var o=new xt;this.findCollapsesFromInsertedNodes(o),this.findCollapsesFromExistingVertices(o);for(var t=o.iterator(),e;t.hasNext();)e=t.next().intValue(),this.add(this._edge.getCoordinate(e),e)},Ro.prototype.print=function(o){o.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(o)},Ro.prototype.findCollapsesFromExistingVertices=function(o){for(var t=0;t<this._edge.size()-2;t++){var r=this._edge.getCoordinate(t),n=this._edge.getCoordinate(t+2);r.equals2D(n)&&o.add(new D(t+1))}},Ro.prototype.addEdgeCoordinates=function(a,t,e){var n=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(n);e.add(new N(a.coord),!1);for(var r=a.segmentIndex+1;r<=t.segmentIndex;r++)e.add(this._edge.getCoordinate(r));i&&e.add(new N(t.coord))},Ro.prototype.iterator=function(){return this._nodeMap.values().iterator()},Ro.prototype.addSplitEdges=function(o){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),e=t.next();t.hasNext();){var a=t.next(),i=this.createSplitEdge(e,a);o.add(i),e=a}},Ro.prototype.findCollapseIndex=function(o,t,e){if(!o.coord.equals2D(t.coord))return!1;var n=t.segmentIndex-o.segmentIndex;return t.isInterior()||n--,1==n&&(e[0]=o.segmentIndex+1,!0)},Ro.prototype.findCollapsesFromInsertedNodes=function(o){for(var t=[,].fill(null),e=this.iterator(),n=e.next(),a;e.hasNext();)a=e.next(),this.findCollapseIndex(n,a,t)&&o.add(new D(t[0])),n=a},Ro.prototype.getEdge=function(){return this._edge},Ro.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},Ro.prototype.createSplitEdge=function(p,t){var e=t.segmentIndex-p.segmentIndex+2,d=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(d);i||e--;var r=Array(e).fill(null),o=0;r[o++]=new N(p.coord);for(var l=p.segmentIndex+1;l<=t.segmentIndex;l++)r[o++]=this._edge.getCoordinate(l);return i&&(r[o]=new N(t.coord)),new Mo(r,this._edge.getData())},Ro.prototype.add=function(o,t){var e=new Po(this._edge,o,t,this._edge.getSegmentOctant(t)),n=this._nodeMap.get(e);return null===n?(this._nodeMap.put(e,e),e):(tt.isTrue(n.coord.equals2D(o),"Found equal nodes with different coordinates"),n)},Ro.prototype.checkSplitEdgesCorrectness=function(o){var t=this._edge.getCoordinates(),e=o.get(0).getCoordinate(0);if(!e.equals2D(t[0]))throw new Z("bad split edge start point at "+e);var n=o.get(o.size()-1).getCoordinates(),i=n[n.length-1];if(!i.equals2D(t[t.length-1]))throw new Z("bad split edge end point at "+i)},Ro.prototype.interfaces_=function(){return[]},Ro.prototype.getClass=function(){return Ro};var Oo=function(){};Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo},Oo.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var p=arguments[0],t=arguments[1];if(0===p&&0===t)throw new xo("Cannot compute the octant for point ( "+p+", "+t+" )");var e=oo(p),n=oo(t);return 0<=p?0<=t?e>=n?0:1:e>=n?7:6:0<=t?e>=n?3:2:e>=n?4:5}if(arguments[0]instanceof N&&arguments[1]instanceof N){var i=arguments[0],r=arguments[1],o=r.x-i.x,s=r.y-i.y;if(0==o&&0===s)throw new xo("Cannot compute the octant for two identical points "+i);return Oo.octant(o,s)}};var Do=function(){};Do.prototype.getCoordinates=function(){},Do.prototype.size=function(){},Do.prototype.getCoordinate=function(){},Do.prototype.isClosed=function(){},Do.prototype.setData=function(){},Do.prototype.getData=function(){},Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do};var Ao=function(){};Ao.prototype.addIntersection=function(){},Ao.prototype.interfaces_=function(){return[Do]},Ao.prototype.getClass=function(){return Ao};var Mo=function(){this._nodeList=new Ro(this),this._pts=null,this._data=null;var o=arguments[0],t=arguments[1];this._pts=o,this._data=t};Mo.prototype.getCoordinates=function(){return this._pts},Mo.prototype.size=function(){return this._pts.length},Mo.prototype.getCoordinate=function(e){return this._pts[e]},Mo.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Mo.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},Mo.prototype.setData=function(e){this._data=e},Mo.prototype.safeOctant=function(o,t){return o.equals2D(t)?0:Oo.octant(o,t)},Mo.prototype.getData=function(){return this._data},Mo.prototype.addIntersection=function(){if(2===arguments.length){var a=arguments[0],t=arguments[1];this.addIntersectionNode(a,t)}else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[3],r=new N(e.getIntersection(i));this.addIntersection(r,n)}},Mo.prototype.toString=function(){return Q.toLineString(new ae(this._pts))},Mo.prototype.getNodeList=function(){return this._nodeList},Mo.prototype.addIntersectionNode=function(o,t){var e=t,a=e+1;if(a<this._pts.length){var i=this._pts[a];o.equals2D(i)&&(e=a)}return this._nodeList.add(o,e)},Mo.prototype.addIntersections=function(o,t,e){for(var n=0;n<o.getIntersectionNum();n++)this.addIntersection(o,t,e,n)},Mo.prototype.interfaces_=function(){return[Ao]},Mo.prototype.getClass=function(){return Mo},Mo.getNodedSubstrings=function(){if(1===arguments.length){var o=arguments[0],t=new xt;return Mo.getNodedSubstrings(o,t),t}if(2===arguments.length)for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(n)};var wo=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new N,this.p1=new N;else if(1===arguments.length){var o=arguments[0];this.p0=new N(o.p0),this.p1=new N(o.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.p0=new N(t,e),this.p1=new N(n,i)}},Fo={serialVersionUID:{configurable:!0}};wo.prototype.minX=function(){return f(this.p0.x,this.p1.x)},wo.prototype.orientationIndex=function(){if(arguments[0]instanceof wo){var o=arguments[0],t=st.orientationIndex(this.p0,this.p1,o.p0),e=st.orientationIndex(this.p0,this.p1,o.p1);return 0<=t&&0<=e?po(t,e):0>=t&&0>=e?po(t,e):0}if(arguments[0]instanceof N){var n=arguments[0];return st.orientationIndex(this.p0,this.p1,n)}},wo.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},wo.prototype.isVertical=function(){return this.p0.x===this.p1.x},wo.prototype.equals=function(o){if(!(o instanceof wo))return!1;var t=o;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)},wo.prototype.intersection=function(o){var t=new it;return t.computeIntersection(this.p0,this.p1,o.p0,o.p1),t.hasIntersection()?t.getIntersection(0):null},wo.prototype.project=function(){if(arguments[0]instanceof N){var p=arguments[0];if(p.equals(this.p0)||p.equals(this.p1))return new N(p);var t=this.projectionFactor(p),e=new N;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e}if(arguments[0]instanceof wo){var n=arguments[0],i=this.projectionFactor(n.p0),r=this.projectionFactor(n.p1);if(1<=i&&1<=r)return null;if(0>=i&&0>=r)return null;var o=this.project(n.p0);0>i&&(o=this.p0),1<i&&(o=this.p1);var d=this.project(n.p1);return 0>r&&(d=this.p0),1<r&&(d=this.p1),new wo(o,d)}},wo.prototype.normalize=function(){0>this.p1.compareTo(this.p0)&&this.reverse()},wo.prototype.angle=function(){return p(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},wo.prototype.getCoordinate=function(e){return 0===e?this.p0:this.p1},wo.prototype.distancePerpendicular=function(e){return st.distancePointLinePerpendicular(e,this.p0,this.p1)},wo.prototype.minY=function(){return f(this.p0.y,this.p1.y)},wo.prototype.midPoint=function(){return wo.midPoint(this.p0,this.p1)},wo.prototype.projectionFactor=function(o){if(o.equals(this.p0))return 0;if(o.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,e=this.p1.y-this.p0.y,n=t*t+e*e;return 0>=n?m.NaN:((o.x-this.p0.x)*t+(o.y-this.p0.y)*e)/n},wo.prototype.closestPoints=function(p){var t=this.intersection(p);if(null!==t)return[t,t];var e=[,,].fill(null),n=m.MAX_VALUE,d=null,l=this.closestPoint(p.p0);n=l.distance(p.p0),e[0]=l,e[1]=p.p0;var o=this.closestPoint(p.p1);(d=o.distance(p.p1))<n&&(n=d,e[0]=o,e[1]=p.p1);var s=p.closestPoint(this.p0);(d=s.distance(this.p0))<n&&(n=d,e[0]=this.p0,e[1]=s);var a=p.closestPoint(this.p1);return(d=a.distance(this.p1))<n&&(n=d,e[0]=this.p1,e[1]=a),e},wo.prototype.closestPoint=function(o){var t=this.projectionFactor(o);return 0<t&&1>t?this.project(o):this.p0.distance(o)<this.p1.distance(o)?this.p0:this.p1},wo.prototype.maxX=function(){return po(this.p0.x,this.p1.x)},wo.prototype.getLength=function(){return this.p0.distance(this.p1)},wo.prototype.compareTo=function(o){var t=o,e=this.p0.compareTo(t.p0);return 0===e?this.p1.compareTo(t.p1):e},wo.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},wo.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},wo.prototype.lineIntersection=function(e){try{return Y.intersection(this.p0,this.p1,e.p0,e.p1)}catch(e){if(!(e instanceof z))throw e}return null},wo.prototype.maxY=function(){return po(this.p0.y,this.p1.y)},wo.prototype.pointAlongOffset=function(p,t){var e=this.p0.x+p*(this.p1.x-this.p0.x),n=this.p0.y+p*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,o=to(i*i+r*r),s=0,d=0;if(0!==t){if(0>=o)throw new Error("Cannot compute offset from zero-length line segment");s=t*i/o,d=t*r/o}return new N(e-d,n+s)},wo.prototype.setCoordinates=function(){if(1===arguments.length){var o=arguments[0];this.setCoordinates(o.p0,o.p1)}else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=e.x,this.p1.y=e.y}},wo.prototype.segmentFraction=function(o){var t=this.projectionFactor(o);return 0>t?t=0:(1<t||m.isNaN(t))&&(t=1),t},wo.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},wo.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},wo.prototype.distance=function(){if(arguments[0]instanceof wo){var o=arguments[0];return st.distanceLineLine(this.p0,this.p1,o.p0,o.p1)}if(arguments[0]instanceof N){var t=arguments[0];return st.distancePointLine(t,this.p0,this.p1)}},wo.prototype.pointAlong=function(o){var t=new N;return t.x=this.p0.x+o*(this.p1.x-this.p0.x),t.y=this.p0.y+o*(this.p1.y-this.p0.y),t},wo.prototype.hashCode=function(){var o=m.doubleToLongBits(this.p0.x);o^=31*m.doubleToLongBits(this.p0.y);var i=eo(o)^eo(o>>32),e=m.doubleToLongBits(this.p1.x);return e^=31*m.doubleToLongBits(this.p1.y),i^(eo(e)^eo(e>>32))},wo.prototype.interfaces_=function(){return[I,t]},wo.prototype.getClass=function(){return wo},wo.midPoint=function(o,t){return new N((o.x+t.x)/2,(o.y+t.y)/2)},Fo.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(wo,Fo);var zo=function(){this.tempEnv1=new k,this.tempEnv2=new k,this._overlapSeg1=new wo,this._overlapSeg2=new wo};zo.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var o=arguments[0],t=arguments[1],e=arguments[2],n=arguments[3];o.getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},zo.prototype.interfaces_=function(){return[]},zo.prototype.getClass=function(){return zo};var ko=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var o=arguments[0],t=arguments[1],e=arguments[2],n=arguments[3];this._pts=o,this._start=t,this._end=e,this._context=n};ko.prototype.getLineSegment=function(o,t){t.p0=this._pts[o],t.p1=this._pts[o+1]},ko.prototype.computeSelect=function(a,t,e,n){var i=this._pts[t],r=this._pts[e];if(n.tempEnv1.init(i,r),1==e-t)return n.select(this,t),null;if(!a.intersects(n.tempEnv1))return null;var o=eo((t+e)/2);t<o&&this.computeSelect(a,t,o,n),o<e&&this.computeSelect(a,o,e,n)},ko.prototype.getCoordinates=function(){for(var o=Array(this._end-this._start+1).fill(null),t=0,i=this._start;i<=this._end;i++)o[t++]=this._pts[i];return o},ko.prototype.computeOverlaps=function(o,t){this.computeOverlapsInternal(this._start,this._end,o,o._start,o._end,t)},ko.prototype.setId=function(e){this._id=e},ko.prototype.select=function(o,t){this.computeSelect(o,this._start,this._end,t)},ko.prototype.getEnvelope=function(){if(null===this._env){var o=this._pts[this._start],t=this._pts[this._end];this._env=new k(o,t)}return this._env},ko.prototype.getEndIndex=function(){return this._end},ko.prototype.getStartIndex=function(){return this._start},ko.prototype.getContext=function(){return this._context},ko.prototype.getId=function(){return this._id},ko.prototype.computeOverlapsInternal=function(d,t,e,n,i,r){var o=this._pts[d],s=this._pts[t],a=e._pts[n],g=e._pts[i];if(1==t-d&&1==i-n)return r.overlap(this,d,e,n),null;if(r.tempEnv1.init(o,s),r.tempEnv2.init(a,g),!r.tempEnv1.intersects(r.tempEnv2))return null;var l=eo((d+t)/2),c=eo((n+i)/2);d<l&&(n<c&&this.computeOverlapsInternal(d,l,e,n,c,r),c<i&&this.computeOverlapsInternal(d,l,e,c,i,r)),l<t&&(n<c&&this.computeOverlapsInternal(l,t,e,n,c,r),c<i&&this.computeOverlapsInternal(l,t,e,c,i,r))},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko};var Bo=function(){};Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo},Bo.getChainStartIndices=function(o){var t=0,r=new xt;r.add(new D(t));do{var n=Bo.findChainEnd(o,t);r.add(new D(n)),t=n}while(t<o.length-1);return Bo.toIntArray(r)},Bo.findChainEnd=function(o,t){for(var e=t;e<o.length-1&&o[e].equals2D(o[e+1]);)e++;if(e>=o.length-1)return o.length-1;for(var a=qe.quadrant(o[e],o[e+1]),i=t+1;i<o.length&&!(!o[i-1].equals2D(o[i])&&qe.quadrant(o[i-1],o[i])!==a);)i++;return i-1},Bo.getChains=function(){if(1===arguments.length){var a=arguments[0];return Bo.getChains(a,null)}if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new xt,i=Bo.getChainStartIndices(t),r=0,p;r<i.length-1;r++)p=new ko(t,i[r],i[r+1],e),n.add(p);return n}},Bo.toIntArray=function(o){for(var t=Array(o.size()).fill(null),e=0;e<t.length;e++)t[e]=o.get(e).intValue();return t};var Go=function(){};Go.prototype.computeNodes=function(){},Go.prototype.getNodedSubstrings=function(){},Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go};var qo=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}};qo.prototype.setSegmentIntersector=function(e){this._segInt=e},qo.prototype.interfaces_=function(){return[Go]},qo.prototype.getClass=function(){return qo};var jo=function(o){function t(t){t?o.call(this,t):o.call(this),this._monoChains=new xt,this._index=new No,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}o&&(t.__proto__=o),(t.prototype=Object.create(o&&o.prototype)).constructor=t;var e={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return Mo.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(o){for(var t=Bo.getChains(o.getCoordinates(),o).iterator(),e;t.hasNext();)e=t.next(),e.setId(this._idCounter++),this._index.insert(e.getEnvelope(),e),this._monoChains.add(e)},t.prototype.computeNodes=function(o){this._nodedSegStrings=o;for(var t=o.iterator();t.hasNext();)this.add(t.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var o=new Uo(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var e=t.next(),n=this._index.query(e.getEnvelope()).iterator(),i;n.hasNext();)if(i=n.next(),i.getId()>e.getId()&&(e.computeOverlaps(i,o),this._nOverlaps++),this._segInt.isDone())return null},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},e.SegmentOverlapAction.get=function(){return Uo},Object.defineProperties(t,e),t}(qo),Uo=function(a){function t(){a.call(this),this._si=null;var t=arguments[0];this._si=t}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(4!==arguments.length)return a.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],r=t.getContext(),o=n.getContext();this._si.processIntersections(r,e,o,i)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(zo),Vo=function p(){if(this._quadrantSegments=p.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=p.CAP_ROUND,this._joinStyle=p.JOIN_ROUND,this._mitreLimit=p.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=p.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(r),this.setJoinStyle(o),this.setMitreLimit(s)}},Zo={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Vo.prototype.getEndCapStyle=function(){return this._endCapStyle},Vo.prototype.isSingleSided=function(){return this._isSingleSided},Vo.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=Vo.JOIN_BEVEL),0>this._quadrantSegments&&(this._joinStyle=Vo.JOIN_MITRE,this._mitreLimit=oo(this._quadrantSegments)),0>=e&&(this._quadrantSegments=1),this._joinStyle!==Vo.JOIN_ROUND&&(this._quadrantSegments=Vo.DEFAULT_QUADRANT_SEGMENTS)},Vo.prototype.getJoinStyle=function(){return this._joinStyle},Vo.prototype.setJoinStyle=function(e){this._joinStyle=e},Vo.prototype.setSimplifyFactor=function(e){this._simplifyFactor=0>e?0:e},Vo.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Vo.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Vo.prototype.setEndCapStyle=function(e){this._endCapStyle=e},Vo.prototype.getMitreLimit=function(){return this._mitreLimit},Vo.prototype.setMitreLimit=function(e){this._mitreLimit=e},Vo.prototype.setSingleSided=function(e){this._isSingleSided=e},Vo.prototype.interfaces_=function(){return[]},Vo.prototype.getClass=function(){return Vo},Vo.bufferDistanceError=function(e){return 1-io(ro/2/e/2)},Zo.CAP_ROUND.get=function(){return 1},Zo.CAP_FLAT.get=function(){return 2},Zo.CAP_SQUARE.get=function(){return 3},Zo.JOIN_ROUND.get=function(){return 1},Zo.JOIN_MITRE.get=function(){return 2},Zo.JOIN_BEVEL.get=function(){return 3},Zo.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Zo.DEFAULT_MITRE_LIMIT.get=function(){return 5},Zo.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Vo,Zo);var Ho=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=st.COUNTERCLOCKWISE,this._inputLine=e||null},Xo={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ho.prototype.isDeletable=function(a,t,e,n){var i=this._inputLine[a],r=this._inputLine[t],o=this._inputLine[e];return!!this.isConcave(i,r,o)&&!!this.isShallow(i,r,o,n)&&this.isShallowSampled(i,r,a,e,n)},Ho.prototype.deleteShallowConcavities=function(){for(var o=1,a=this.findNextNonDeletedIndex(o),s=this.findNextNonDeletedIndex(a),p=!1,d;s<this._inputLine.length;)d=!1,this.isDeletable(o,a,s,this._distanceTol)&&(this._isDeleted[a]=Ho.DELETE,d=!0,p=!0),o=d?s:a,a=this.findNextNonDeletedIndex(o),s=this.findNextNonDeletedIndex(a);return p},Ho.prototype.isShallowConcavity=function(o,t,e,n){return!(st.computeOrientation(o,t,e)!==this._angleOrientation)&&st.distancePointLine(t,o,e)<n},Ho.prototype.isShallowSampled=function(a,t,e,n,i){var r=eo((n-e)/Ho.NUM_PTS_TO_CHECK);0>=r&&(r=1);for(var p=e;p<n;p+=r)if(!this.isShallow(a,t,this._inputLine[p],i))return!1;return!0},Ho.prototype.isConcave=function(o,t,e){var n=st.computeOrientation(o,t,e)===this._angleOrientation;return n},Ho.prototype.simplify=function(o){this._distanceTol=oo(o),0>o&&(this._angleOrientation=st.CLOCKWISE),this._isDeleted=Array(this._inputLine.length).fill(null);var t=!1;do t=this.deleteShallowConcavities();while(t);return this.collapseLine()},Ho.prototype.findNextNonDeletedIndex=function(o){for(var t=o+1;t<this._inputLine.length&&this._isDeleted[t]===Ho.DELETE;)t++;return t},Ho.prototype.isShallow=function(o,t,e,n){return st.distancePointLine(t,o,e)<n},Ho.prototype.collapseLine=function(){for(var o=new Ct,t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==Ho.DELETE&&o.add(this._inputLine[t]);return o.toCoordinateArray()},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho},Ho.simplify=function(o,t){return new Ho(o).simplify(t)},Xo.INIT.get=function(){return 0},Xo.DELETE.get=function(){return 1},Xo.KEEP.get=function(){return 1},Xo.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ho,Xo);var Yo=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new xt},Wo={COORDINATE_ARRAY_TYPE:{configurable:!0}};Yo.prototype.getCoordinates=function(){return this._ptList.toArray(Yo.COORDINATE_ARRAY_TYPE)},Yo.prototype.setPrecisionModel=function(e){this._precisionModel=e},Yo.prototype.addPt=function(o){var t=new N(o);return(this._precisionModel.makePrecise(t),this.isRedundant(t))?null:void this._ptList.add(t)},Yo.prototype.revere=function(){},Yo.prototype.addPts=function(o,t){if(t)for(var e=0;e<o.length;e++)this.addPt(o[e]);else for(var r=o.length-1;0<=r;r--)this.addPt(o[r])},Yo.prototype.isRedundant=function(o){if(1>this._ptList.size())return!1;var t=this._ptList.get(this._ptList.size()-1);return o.distance(t)<this._minimimVertexDistance},Yo.prototype.toString=function(){return new ye().createLineString(this.getCoordinates()).toString()},Yo.prototype.closeRing=function(){if(1>this._ptList.size())return null;var o=new N(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);return o.equals(t)?null:void this._ptList.add(o)},Yo.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},Yo.prototype.interfaces_=function(){return[]},Yo.prototype.getClass=function(){return Yo},Wo.COORDINATE_ARRAY_TYPE.get=function(){return[].fill(null)},Object.defineProperties(Yo,Wo);var Ko=function(){},Jo={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ko.prototype.interfaces_=function(){return[]},Ko.prototype.getClass=function(){return Ko},Ko.toDegrees=function(e){return 180*e/ro},Ko.normalize=function(e){for(;e>ro;)e-=Ko.PI_TIMES_2;for(;e<=-ro;)e+=Ko.PI_TIMES_2;return e},Ko.angle=function(){if(1===arguments.length){var o=arguments[0];return p(o.y,o.x)}if(2===arguments.length){var t=arguments[0],e=arguments[1],n=e.x-t.x,i=e.y-t.y;return p(i,n)}},Ko.isAcute=function(o,t,e){var n=o.x-t.x,i=o.y-t.y;return 0<n*(e.x-t.x)+i*(e.y-t.y)},Ko.isObtuse=function(o,t,e){var n=o.x-t.x,i=o.y-t.y;return 0>n*(e.x-t.x)+i*(e.y-t.y)},Ko.interiorAngle=function(o,t,e){var n=Ko.angle(t,o),i=Ko.angle(t,e);return oo(i-n)},Ko.normalizePositive=function(e){if(0>e){for(;0>e;)e+=Ko.PI_TIMES_2;e>=Ko.PI_TIMES_2&&(e=0)}else{for(;e>=Ko.PI_TIMES_2;)e-=Ko.PI_TIMES_2;0>e&&(e=0)}return e},Ko.angleBetween=function(o,t,e){var n=Ko.angle(t,o),i=Ko.angle(t,e);return Ko.diff(n,i)},Ko.diff=function(o,t){var e=null;return(e=o<t?t-o:o-t)>ro&&(e=2*ro-e),e},Ko.toRadians=function(e){return e*ro/180},Ko.getTurn=function(o,t){var e=_(t-o);return 0<e?Ko.COUNTERCLOCKWISE:0>e?Ko.CLOCKWISE:Ko.NONE},Ko.angleBetweenOriented=function(o,t,e){var n=Ko.angle(t,o),i=Ko.angle(t,e)-n;return i<=-ro?i+Ko.PI_TIMES_2:i>ro?i-Ko.PI_TIMES_2:i},Jo.PI_TIMES_2.get=function(){return 2*ro},Jo.PI_OVER_2.get=function(){return ro/2},Jo.PI_OVER_4.get=function(){return ro/4},Jo.COUNTERCLOCKWISE.get=function(){return st.COUNTERCLOCKWISE},Jo.CLOCKWISE.get=function(){return st.CLOCKWISE},Jo.NONE.get=function(){return st.COLLINEAR},Object.defineProperties(Ko,Jo);var Qo=function o(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new wo,this._seg1=new wo,this._offset0=new wo,this._offset1=new wo,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._precisionModel=t,this._bufParams=e,this._li=new it,this._filletAngleQuantum=ro/2/e.getQuadrantSegments(),8<=e.getQuadrantSegments()&&e.getJoinStyle()===Vo.JOIN_ROUND&&(this._closingSegLengthFactor=o.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},$o={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Qo.prototype.addNextSegment=function(o,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=o,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var e=st.computeOrientation(this._s0,this._s1,this._s2),n=e===st.CLOCKWISE&&this._side===Ce.LEFT||e===st.COUNTERCLOCKWISE&&this._side===Ce.RIGHT;0===e?this.addCollinear(t):n?this.addOutsideTurn(e,t):this.addInsideTurn(e,t)},Qo.prototype.addLineEndCap=function(d,t){var e=new wo(d,t),n=new wo;this.computeOffsetSegment(e,Ce.LEFT,this._distance,n);var i=new wo;this.computeOffsetSegment(e,Ce.RIGHT,this._distance,i);var r=t.x-d.x,o=t.y-d.y,s=p(o,r);switch(this._bufParams.getEndCapStyle()){case Vo.CAP_ROUND:this._segList.addPt(n.p1),this.addFilletArc(t,s+ro/2,s-ro/2,st.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Vo.CAP_FLAT:this._segList.addPt(n.p1),this._segList.addPt(i.p1);break;case Vo.CAP_SQUARE:var a=new N;a.x=oo(this._distance)*io(s),a.y=oo(this._distance)*_(s);var g=new N(n.p1.x+a.x,n.p1.y+a.y),l=new N(i.p1.x+a.x,i.p1.y+a.y);this._segList.addPt(g),this._segList.addPt(l);}},Qo.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Qo.prototype.addMitreJoin=function(a,t,e,n){var i=!0,s=null;try{s=Y.intersection(t.p0,t.p1,e.p0,e.p1),(0>=n?1:s.distance(a)/oo(n))>this._bufParams.getMitreLimit()&&(i=!1)}catch(e){if(!(e instanceof z))throw e;s=new N(0,0),i=!1}i?this._segList.addPt(s):this.addLimitedMitreJoin(t,e,n,this._bufParams.getMitreLimit())},Qo.prototype.addFilletCorner=function(d,t,e,n,i){var r=t.x-d.x,o=t.y-d.y,s=p(o,r),g=e.x-d.x,_=e.y-d.y,l=p(_,g);n===st.CLOCKWISE?s<=l&&(s+=2*ro):s>=l&&(s-=2*ro),this._segList.addPt(t),this.addFilletArc(d,s,l,n,i),this._segList.addPt(e)},Qo.prototype.addOutsideTurn=function(o,t){return this._offset0.p1.distance(this._offset1.p0)<this._distance*Qo.OFFSET_SEGMENT_SEPARATION_FACTOR?(this._segList.addPt(this._offset0.p1),null):void(this._bufParams.getJoinStyle()===Vo.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Vo.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,o,this._distance),this._segList.addPt(this._offset1.p0)))},Qo.prototype.createSquare=function(e){this._segList.addPt(new N(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new N(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new N(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new N(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},Qo.prototype.addSegments=function(o,t){this._segList.addPts(o,t)},Qo.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Qo.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Qo.prototype.initSideSegments=function(o,t,e){this._s1=o,this._s2=t,this._side=e,this._seg1.setCoordinates(o,t),this.computeOffsetSegment(this._seg1,e,this._distance,this._offset1)},Qo.prototype.addLimitedMitreJoin=function(m,t,e,n){var i=this._seg0.p1,r=Ko.angle(i,this._seg0.p0),o=Ko.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=Ko.normalize(r+o),a=Ko.normalize(s+ro),u=n*e,l=e-u*oo(_(o)),c=i.x+u*io(a),p=i.y+u*_(a),h=new N(c,p),f=new wo(i,h),g=f.pointAlongOffset(1,l),d=f.pointAlongOffset(1,-l);this._side===Ce.LEFT?(this._segList.addPt(g),this._segList.addPt(d)):(this._segList.addPt(d),this._segList.addPt(g))},Qo.prototype.computeOffsetSegment=function(p,t,e,n){var i=t===Ce.LEFT?1:-1,r=p.p1.x-p.p0.x,o=p.p1.y-p.p0.y,s=to(r*r+o*o),a=i*e*r/s,d=i*e*o/s;n.p0.x=p.p0.x-d,n.p0.y=p.p0.y+a,n.p1.x=p.p1.x-d,n.p1.y=p.p1.y+a},Qo.prototype.addFilletArc=function(d,t,e,n,i){var r=n===st.CLOCKWISE?-1:1,o=oo(t-e),s=eo(o/this._filletAngleQuantum+.5);if(1>s)return null;for(var a=0,g=new N,c;a<o;)c=t+r*a,g.x=d.x+i*io(c),g.y=d.y+i*_(c),this._segList.addPt(g),a+=o/s},Qo.prototype.addInsideTurn=function(){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Qo.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),0<this._closingSegLengthFactor){var e=new N((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(e);var t=new N((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(t)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Qo.prototype.createCircle=function(o){var t=new N(o.x+this._distance,o.y);this._segList.addPt(t),this.addFilletArc(o,0,2*ro,-1,this._distance),this._segList.closeRing()},Qo.prototype.addBevelJoin=function(o,t){this._segList.addPt(o.p1),this._segList.addPt(t.p0)},Qo.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-io(this._filletAngleQuantum/2)),this._segList=new Yo,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*Qo.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Qo.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),2<=this._li.getIntersectionNum()&&(this._bufParams.getJoinStyle()===Vo.JOIN_BEVEL||this._bufParams.getJoinStyle()===Vo.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,st.CLOCKWISE,this._distance))},Qo.prototype.closeRing=function(){this._segList.closeRing()},Qo.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Qo.prototype.interfaces_=function(){return[]},Qo.prototype.getClass=function(){return Qo},$o.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},$o.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},$o.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},$o.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Qo,$o);var en=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var o=arguments[0],t=arguments[1];this._precisionModel=o,this._bufParams=t};en.prototype.getOffsetCurve=function(a,t){if(this._distance=t,0===t)return null;var e=0>t,n=oo(t),i=this.getSegGen(n);1>=a.length?this.computePointCurve(a[0],i):this.computeOffsetCurve(a,e,i);var r=i.getCoordinates();return e&&St.reverse(r),r},en.prototype.computeSingleSidedBufferCurve=function(p,t,e){var n=this.simplifyTolerance(this._distance);if(t){e.addSegments(p,!0);var i=Ho.simplify(p,-n),r=i.length-1;e.initSideSegments(i[r],i[r-1],Ce.LEFT),e.addFirstSegment();for(var o=r-2;0<=o;o--)e.addNextSegment(i[o],!0)}else{e.addSegments(p,!1);var d=Ho.simplify(p,n),a=d.length-1;e.initSideSegments(d[0],d[1],Ce.LEFT),e.addFirstSegment();for(var g=2;g<=a;g++)e.addNextSegment(d[g],!0)}e.addLastSegment(),e.closeRing()},en.prototype.computeRingBufferCurve=function(p,t,e){var n=this.simplifyTolerance(this._distance);t===Ce.RIGHT&&(n=-n);var d=Ho.simplify(p,n),r=d.length-1;e.initSideSegments(d[r-1],d[0],t);for(var o=1,l;o<=r;o++)l=1!=o,e.addNextSegment(d[o],l);e.closeRing()},en.prototype.computeLineBufferCurve=function(p,t){var e=this.simplifyTolerance(this._distance),n=Ho.simplify(p,e),i=n.length-1;t.initSideSegments(n[0],n[1],Ce.LEFT);for(var r=2;r<=i;r++)t.addNextSegment(n[r],!0);t.addLastSegment(),t.addLineEndCap(n[i-1],n[i]);var d=Ho.simplify(p,-e),s=d.length-1;t.initSideSegments(d[s],d[s-1],Ce.LEFT);for(var a=s-2;0<=a;a--)t.addNextSegment(d[a],!0);t.addLastSegment(),t.addLineEndCap(d[1],d[0]),t.closeRing()},en.prototype.computePointCurve=function(o,t){switch(this._bufParams.getEndCapStyle()){case Vo.CAP_ROUND:t.createCircle(o);break;case Vo.CAP_SQUARE:t.createSquare(o);}},en.prototype.getLineCurve=function(o,t){if(this._distance=t,0>t&&!this._bufParams.isSingleSided())return null;if(0===t)return null;var e=oo(t),n=this.getSegGen(e);if(1>=o.length)this.computePointCurve(o[0],n);else if(this._bufParams.isSingleSided()){this.computeSingleSidedBufferCurve(o,0>t,n)}else this.computeLineBufferCurve(o,n);return n.getCoordinates()},en.prototype.getBufferParameters=function(){return this._bufParams},en.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},en.prototype.getRingCurve=function(o,t,e){if(this._distance=e,2>=o.length)return this.getLineCurve(o,e);if(0===e)return en.copyCoordinates(o);var n=this.getSegGen(e);return this.computeRingBufferCurve(o,t,n),n.getCoordinates()},en.prototype.computeOffsetCurve=function(p,t,e){var n=this.simplifyTolerance(this._distance);if(t){var i=Ho.simplify(p,-n),r=i.length-1;e.initSideSegments(i[r],i[r-1],Ce.LEFT),e.addFirstSegment();for(var o=r-2;0<=o;o--)e.addNextSegment(i[o],!0)}else{var d=Ho.simplify(p,n),a=d.length-1;e.initSideSegments(d[0],d[1],Ce.LEFT),e.addFirstSegment();for(var g=2;g<=a;g++)e.addNextSegment(d[g],!0)}e.addLastSegment()},en.prototype.getSegGen=function(e){return new Qo(this._precisionModel,this._bufParams,e)},en.prototype.interfaces_=function(){return[]},en.prototype.getClass=function(){return en},en.copyCoordinates=function(o){for(var t=Array(o.length).fill(null),e=0;e<t.length;e++)t[e]=new N(o[e]);return t};var tn=function(){this._subgraphs=null,this._seg=new wo,this._cga=new st;var e=arguments[0];this._subgraphs=e},on={DepthSegment:{configurable:!0}};tn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var _=arguments[0],t=new xt,e=this._subgraphs.iterator();e.hasNext();){var n=e.next(),i=n.getEnvelope();_.y<i.getMinY()||_.y>i.getMaxY()||this.findStabbedSegments(_,n.getDirectedEdges(),t)}return t}if(3===arguments.length)if(O(arguments[2],Et)&&arguments[0]instanceof N&&arguments[1]instanceof Ue){for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getEdge().getCoordinates(),u=0;u<a.length-1;u++)if(this._seg.p0=a[u],this._seg.p1=a[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(po(this._seg.p0.x,this._seg.p1.x)<r.x)&&!(this._seg.isHorizontal()||r.y<this._seg.p0.y||r.y>this._seg.p1.y||st.computeOrientation(this._seg.p0,this._seg.p1,r)===st.RIGHT)){var m=o.getDepth(Ce.LEFT);this._seg.p0.equals(a[u])||(m=o.getDepth(Ce.RIGHT));var x=new nn(this._seg,m);s.add(x)}}else if(O(arguments[2],Et)&&arguments[0]instanceof N&&O(arguments[1],Et))for(var p=arguments[0],h=arguments[1],f=arguments[2],g=h.iterator(),d;g.hasNext();)d=g.next(),d.isForward()&&this.findStabbedSegments(p,d,f)},tn.prototype.getDepth=function(o){var t=this.findStabbedSegments(o);return 0===t.size()?0:Ze.min(t)._leftDepth},tn.prototype.interfaces_=function(){return[]},tn.prototype.getClass=function(){return tn},on.DepthSegment.get=function(){return nn},Object.defineProperties(tn,on);var nn=function(){this._upwardSeg=null,this._leftDepth=null;var o=arguments[0],t=arguments[1];this._upwardSeg=new wo(o),this._leftDepth=t};nn.prototype.compareTo=function(o){var t=o;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var e=this._upwardSeg.orientationIndex(t._upwardSeg);return 0===e?0==(e=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?this._upwardSeg.compareTo(t._upwardSeg):e:e},nn.prototype.compareX=function(o,t){var e=o.p0.compareTo(t.p0);return 0===e?o.p1.compareTo(t.p1):e},nn.prototype.toString=function(){return this._upwardSeg.toString()},nn.prototype.interfaces_=function(){return[I]},nn.prototype.getClass=function(){return nn};var rn=function(o,t,e){this.p0=o||null,this.p1=t||null,this.p2=e||null};rn.prototype.area=function(){return rn.area(this.p0,this.p1,this.p2)},rn.prototype.signedArea=function(){return rn.signedArea(this.p0,this.p1,this.p2)},rn.prototype.interpolateZ=function(e){if(null===e)throw new xo("Supplied point is null.");return rn.interpolateZ(e,this.p0,this.p1,this.p2)},rn.prototype.longestSideLength=function(){return rn.longestSideLength(this.p0,this.p1,this.p2)},rn.prototype.isAcute=function(){return rn.isAcute(this.p0,this.p1,this.p2)},rn.prototype.circumcentre=function(){return rn.circumcentre(this.p0,this.p1,this.p2)},rn.prototype.area3D=function(){return rn.area3D(this.p0,this.p1,this.p2)},rn.prototype.centroid=function(){return rn.centroid(this.p0,this.p1,this.p2)},rn.prototype.inCentre=function(){return rn.inCentre(this.p0,this.p1,this.p2)},rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn},rn.area=function(o,t,e){return oo(((e.x-o.x)*(t.y-o.y)-(t.x-o.x)*(e.y-o.y))/2)},rn.signedArea=function(o,t,e){return((e.x-o.x)*(t.y-o.y)-(t.x-o.x)*(e.y-o.y))/2},rn.det=function(o,t,e,n){return o*n-t*e},rn.interpolateZ=function(d,t,e,n){var i=t.x,r=t.y,o=e.x-i,s=n.x-i,a=e.y-r,g=n.y-r,l=o*g-s*a,c=d.x-i,p=d.y-r;return t.z+(g*c-s*p)/l*(e.z-t.z)+(-a*c+o*p)/l*(n.z-t.z)},rn.longestSideLength=function(a,t,e){var n=a.distance(t),i=t.distance(e),r=e.distance(a),o=n;return i>o&&(o=i),r>o&&(o=r),o},rn.isAcute=function(o,t,e){return!!Ko.isAcute(o,t,e)&&!!Ko.isAcute(t,e,o)&&!!Ko.isAcute(e,o,t)},rn.circumcentre=function(d,t,e){var n=e.x,i=e.y,r=d.x-n,o=d.y-i,s=t.x-n,a=t.y-i,g=2*rn.det(r,o,s,a),l=rn.det(o,r*r+o*o,a,s*s+a*a),c=rn.det(r,r*r+o*o,s,s*s+a*a);return new N(n-l/g,i+c/g)},rn.perpendicularBisector=function(a,t){var e=t.x-a.x,n=t.y-a.y,i=new Y(a.x+e/2,a.y+n/2,1),r=new Y(a.x-n+e/2,a.y+e+n/2,1);return new Y(i,r)},rn.angleBisector=function(a,t,e){var n=t.distance(a),i=n/(n+t.distance(e)),r=e.x-a.x,o=e.y-a.y;return new N(a.x+i*r,a.y+i*o)},rn.area3D=function(d,t,e){var n=t.x-d.x,i=t.y-d.y,r=t.z-d.z,o=e.x-d.x,s=e.y-d.y,a=e.z-d.z,g=i*a-r*s,l=r*o-n*a,c=n*s-i*o,p=to(g*g+l*l+c*c)/2;return p},rn.centroid=function(o,t,e){var n=(o.x+t.x+e.x)/3,i=(o.y+t.y+e.y)/3;return new N(n,i)},rn.inCentre=function(p,t,e){var n=t.distance(e),i=p.distance(e),r=p.distance(t),o=n+i+r,s=(n*p.x+i*t.x+r*e.x)/o,a=(n*p.y+i*t.y+r*e.y)/o;return new N(s,a)};var an=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new xt;var o=arguments[0],t=arguments[1],e=arguments[2];this._inputGeom=o,this._distance=t,this._curveBuilder=e};an.prototype.addPoint=function(o){if(0>=this._distance)return null;var t=o.getCoordinates(),e=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(e,b.EXTERIOR,b.INTERIOR)},an.prototype.addPolygon=function(p){var t=this._distance,d=Ce.LEFT;0>this._distance&&(t=-this._distance,d=Ce.RIGHT);var l=p.getExteriorRing(),i=St.removeRepeatedPoints(l.getCoordinates());if(0>this._distance&&this.isErodedCompletely(l,this._distance))return null;if(0>=this._distance&&3>i.length)return null;this.addPolygonRing(i,t,d,b.EXTERIOR,b.INTERIOR);for(var r=0;r<p.getNumInteriorRing();r++){var g=p.getInteriorRingN(r),s=St.removeRepeatedPoints(g.getCoordinates());0<this._distance&&this.isErodedCompletely(g,-this._distance)||this.addPolygonRing(s,t,Ce.opposite(d),b.INTERIOR,b.EXTERIOR)}},an.prototype.isTriangleErodedCompletely=function(o,t){var e=new rn(o[0],o[1],o[2]),n=e.inCentre();return st.distancePointLine(n,e.p0,e.p1)<oo(t)},an.prototype.addLineString=function(o){if(0>=this._distance&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=St.removeRepeatedPoints(o.getCoordinates()),e=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(e,b.EXTERIOR,b.INTERIOR)},an.prototype.addCurve=function(o,t,e){if(null===o||2>o.length)return null;var n=new Mo(o,new Re(0,b.BOUNDARY,t,e));this._curveList.add(n)},an.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},an.prototype.addPolygonRing=function(p,t,e,d,i){if(0===t&&p.length<te.MINIMUM_VALID_SIZE)return null;var r=d,l=i;p.length>=te.MINIMUM_VALID_SIZE&&st.isCCW(p)&&(r=i,l=d,e=Ce.opposite(e));var g=this._curveBuilder.getRingCurve(p,e,t);this.addCurve(g,r,l)},an.prototype.add=function(e){return e.isEmpty()?null:void(e instanceof Zt?this.addPolygon(e):e instanceof Wt?this.addLineString(e):e instanceof Jt?this.addPoint(e):e instanceof $t?this.addCollection(e):e instanceof zt?this.addCollection(e):e instanceof ee?this.addCollection(e):e instanceof Ut&&this.addCollection(e))},an.prototype.isErodedCompletely=function(o,t){var e=o.getCoordinates();if(4>e.length)return 0>t;if(4===e.length)return this.isTriangleErodedCompletely(e,t);var n=o.getEnvelopeInternal(),i=f(n.getHeight(),n.getWidth());return 0>t&&2*oo(t)>i},an.prototype.addCollection=function(o){for(var t=0,i;t<o.getNumGeometries();t++)i=o.getGeometryN(t),this.add(i)},an.prototype.interfaces_=function(){return[]},an.prototype.getClass=function(){return an};var sn=function(){};sn.prototype.locate=function(){},sn.prototype.interfaces_=function(){return[]},sn.prototype.getClass=function(){return sn};var pn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};pn.prototype.next=function(){if(this._atStart)return this._atStart=!1,pn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new n;var e=this._parent.getGeometryN(this._index++);return e instanceof Ut?(this._subcollectionIterator=new pn(e),this._subcollectionIterator.next()):e},pn.prototype.remove=function(){throw new Error(this.getClass().getName())},pn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},pn.prototype.interfaces_=function(){return[It]},pn.prototype.getClass=function(){return pn},pn.isAtomic=function(e){return!(e instanceof Ut)};var dn=function(){this._geom=null;var e=arguments[0];this._geom=e};dn.prototype.locate=function(e){return dn.locate(e,this._geom)},dn.prototype.interfaces_=function(){return[sn]},dn.prototype.getClass=function(){return dn},dn.isPointInRing=function(o,t){return!!t.getEnvelopeInternal().intersects(o)&&st.isPointInRing(o,t.getCoordinates())},dn.containsPointInPolygon=function(o,t){if(t.isEmpty())return!1;var e=t.getExteriorRing();if(!dn.isPointInRing(o,e))return!1;for(var n=0,a;n<t.getNumInteriorRing();n++)if(a=t.getInteriorRingN(n),dn.isPointInRing(o,a))return!1;return!0},dn.containsPoint=function(o,t){if(t instanceof Zt)return dn.containsPointInPolygon(o,t);if(t instanceof Ut)for(var e=new pn(t),n;e.hasNext();)if(n=e.next(),n!==t&&dn.containsPoint(o,n))return!0;return!1},dn.locate=function(o,t){return t.isEmpty()?b.EXTERIOR:dn.containsPoint(o,t)?b.INTERIOR:b.EXTERIOR};var ln=function(){this._edgeMap=new c,this._edgeList=null,this._ptInAreaLocation=[b.NONE,b.NONE]};ln.prototype.getNextCW=function(o){this.getEdges();var t=this._edgeList.indexOf(o),e=t-1;return 0===t&&(e=this._edgeList.size()-1),this._edgeList.get(e)},ln.prototype.propagateSideLabels=function(p){for(var t=b.NONE,d=this.iterator(),n;d.hasNext();)n=d.next().getLabel(),n.isArea(p)&&n.getLocation(p,Ce.LEFT)!==b.NONE&&(t=n.getLocation(p,Ce.LEFT));if(t===b.NONE)return null;for(var g=t,c=this.iterator();c.hasNext();){var o=c.next(),s=o.getLabel();if(s.getLocation(p,Ce.ON)===b.NONE&&s.setLocation(p,Ce.ON,g),s.isArea(p)){var a=s.getLocation(p,Ce.LEFT),_=s.getLocation(p,Ce.RIGHT);if(_!==b.NONE){if(_!==g)throw new be("side location conflict",o.getCoordinate());a===b.NONE&&tt.shouldNeverReachHere("found single null side (at "+o.getCoordinate()+")"),g=a}else tt.isTrue(s.getLocation(p,Ce.LEFT)===b.NONE,"found single null side"),s.setLocation(p,Ce.RIGHT,g),s.setLocation(p,Ce.LEFT,g)}}},ln.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},ln.prototype.print=function(o){X.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(o)},ln.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},ln.prototype.checkAreaLabelsConsistent=function(p){var t=this.getEdges();if(0>=t.size())return!0;var e=t.size()-1,n=t.get(e).getLabel().getLocation(p,Ce.LEFT);tt.isTrue(n!==b.NONE,"Found unlabelled area edge");for(var i=n,d=this.iterator(),o;d.hasNext();){o=d.next().getLabel(),tt.isTrue(o.isArea(p),"Found non-area edge");var l=o.getLocation(p,Ce.LEFT),a=o.getLocation(p,Ce.RIGHT);if(l===a)return!1;if(a!==i)return!1;i=l}return!0},ln.prototype.findIndex=function(o){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===o)return t;return-1},ln.prototype.iterator=function(){return this.getEdges().iterator()},ln.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new xt(this._edgeMap.values())),this._edgeList},ln.prototype.getLocation=function(o,t,e){return this._ptInAreaLocation[o]===b.NONE&&(this._ptInAreaLocation[o]=dn.locate(t,e[o].getGeometry())),this._ptInAreaLocation[o]},ln.prototype.toString=function(){var o=new P;o.append("EdgeEndStar:   "+this.getCoordinate()),o.append("\n");for(var t=this.iterator(),e;t.hasNext();)e=t.next(),o.append(e),o.append("\n");return o.toString()},ln.prototype.computeEdgeEndLabels=function(o){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(o)},ln.prototype.computeLabelling=function(p){this.computeEdgeEndLabels(p[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],e=this.iterator();e.hasNext();)for(var n=e.next().getLabel(),i=0;2>i;i++)n.isLine(i)&&n.getLocation(i)===b.BOUNDARY&&(t[i]=!0);for(var d=this.iterator();d.hasNext();)for(var o=d.next(),s=o.getLabel(),a=0;2>a;a++)if(s.isAnyNull(a)){var g=b.NONE;if(t[a])g=b.EXTERIOR;else{var _=o.getCoordinate();g=this.getLocation(a,_,p)}s.setAllLocationsIfNull(a,g)}},ln.prototype.getDegree=function(){return this._edgeMap.size()},ln.prototype.insertEdgeEnd=function(o,t){this._edgeMap.put(o,t),this._edgeList=null},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln};var gn=function(a){function t(){a.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var a=null,s=null,p=this._SCANNING_FOR_INCOMING,d=0;d<this._resultAreaEdgeList.size();d++){var l=this._resultAreaEdgeList.get(d),r=l.getSym();if(l.getLabel().isArea())switch(null===a&&l.isInResult()&&(a=l),p){case this._SCANNING_FOR_INCOMING:if(!r.isInResult())continue;s=r,p=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!l.isInResult())continue;s.setNext(l),p=this._SCANNING_FOR_INCOMING;}}if(p===this._LINKING_TO_OUTGOING){if(null===a)throw new be("no outgoing dirEdge found",this.getCoordinate());tt.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),s.setNext(a)}},t.prototype.insert=function(o){var t=o;this.insertEdgeEnd(t,t)},t.prototype.getRightmostEdge=function(){var a=this.getEdges(),t=a.size();if(1>t)return null;var e=a.get(0);if(1===t)return e;var n=a.get(t-1),i=e.getQuadrant(),r=n.getQuadrant();return qe.isNorthern(i)&&qe.isNorthern(r)?e:qe.isNorthern(i)||qe.isNorthern(r)?0===e.getDy()?0===n.getDy()?(tt.shouldNeverReachHere("found two horizontal edges incident on node"),null):n:e:n},t.prototype.print=function(o){X.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator(),e;t.hasNext();)e=t.next(),o.print("out "),e.print(o),o.println(),o.print("in "),e.getSym().print(o),o.println()},t.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new xt;for(var o=this.iterator(),t;o.hasNext();)t=o.next(),(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t);return this._resultAreaEdgeList},t.prototype.updateLabelling=function(o){for(var t=this.iterator(),e;t.hasNext();)e=t.next().getLabel(),e.setAllLocationsIfNull(0,o.getLocation(0)),e.setAllLocationsIfNull(1,o.getLocation(1))},t.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var o=null,a=null,s=this._edgeList.size()-1;0<=s;s--){var p=this._edgeList.get(s),i=p.getSym();null===a&&(a=i),null!==o&&i.setNext(o),o=p}a.setNext(o)},t.prototype.computeDepths=function(){if(1===arguments.length){var p=arguments[0],t=this.findIndex(p),e=p.getDepth(Ce.LEFT),n=p.getDepth(Ce.RIGHT),i=this.computeDepths(t+1,this._edgeList.size(),e);if(this.computeDepths(0,t,i)!==n)throw new be("depth mismatch at "+p.getCoordinate())}else if(3===arguments.length){for(var r=arguments[0],o=arguments[1],s=arguments[2],d=r,g;d<o;d++)g=this._edgeList.get(d),g.setEdgeDepths(Ce.RIGHT,s),s=g.getDepth(Ce.LEFT);return s}},t.prototype.mergeSymLabels=function(){for(var o=this.iterator(),t;o.hasNext();)t=o.next(),t.getLabel().merge(t.getSym().getLabel())},t.prototype.linkMinimalDirectedEdges=function(a){for(var t=null,p=null,d=this._SCANNING_FOR_INCOMING,l=this._resultAreaEdgeList.size()-1;0<=l;l--){var g=this._resultAreaEdgeList.get(l),o=g.getSym();switch(null===t&&g.getEdgeRing()===a&&(t=g),d){case this._SCANNING_FOR_INCOMING:if(o.getEdgeRing()!==a)continue;p=o,d=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(g.getEdgeRing()!==a)continue;p.setNextMin(g),d=this._SCANNING_FOR_INCOMING;}}d===this._LINKING_TO_OUTGOING&&(tt.isTrue(null!==t,"found null for first outgoing dirEdge"),tt.isTrue(t.getEdgeRing()===a,"unable to link last incoming dirEdge"),p.setNextMin(t))},t.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var o=0,a=this.iterator();a.hasNext();)a.next().isInResult()&&o++;return o}if(1===arguments.length){for(var e=arguments[0],n=0,s=this.iterator();s.hasNext();)s.next().getEdgeRing()===e&&n++;return n}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var p=b.NONE,d=this.iterator();d.hasNext();){var e=d.next(),n=e.getSym();if(!e.isLineEdge()){if(e.isInResult()){p=b.INTERIOR;break}if(n.isInResult()){p=b.EXTERIOR;break}}}if(p===b.NONE)return null;for(var i=p,l=this.iterator();l.hasNext();){var o=l.next(),s=o.getSym();o.isLineEdge()?o.getEdge().setCovered(i===b.INTERIOR):(o.isInResult()&&(i=b.EXTERIOR),s.isInResult()&&(i=b.INTERIOR))}},t.prototype.computeLabelling=function(t){a.prototype.computeLabelling.call(this,t),this._label=new Re(b.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),i=0,s;2>i;i++)s=n.getLocation(i),s!==b.INTERIOR&&s!==b.BOUNDARY||this._label.setLocation(i,b.INTERIOR)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ln),cn=function(o){function t(){o.apply(this,arguments)}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.createNode=function(e){return new Fe(e,new gn())},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ze),_n=function o(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=o.orientation(t)};_n.prototype.compareTo=function(o){var t=o;return _n.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},_n.prototype.interfaces_=function(){return[I]},_n.prototype.getClass=function(){return _n},_n.orientation=function(e){return 1===St.increasingDirection(e)},_n.compareOriented=function(d,t,e,n){for(var i=t?1:-1,r=n?1:-1,o=t?d.length:-1,s=n?e.length:-1,a=t?0:d.length-1,g=n?0:e.length-1,_;;){if(_=d[a].compareTo(e[g]),0!==_)return _;var y=(a+=i)===o,p=(g+=r)===s;if(y&&!p)return-1;if(!y&&p)return 1;if(y&&p)return 0}};var un=function(){this._edges=new xt,this._ocaMap=new c};un.prototype.print=function(o){o.print("MULTILINESTRING ( ");for(var t=0,a;t<this._edges.size();t++){a=this._edges.get(t),0<t&&o.print(","),o.print("(");for(var s=a.getCoordinates(),i=0;i<s.length;i++)0<i&&o.print(","),o.print(s[i].x+" "+s[i].y);o.println(")")}o.print(")  ")},un.prototype.addAll=function(o){for(var t=o.iterator();t.hasNext();)this.add(t.next())},un.prototype.findEdgeIndex=function(o){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(o))return t;return-1},un.prototype.iterator=function(){return this._edges.iterator()},un.prototype.getEdges=function(){return this._edges},un.prototype.get=function(e){return this._edges.get(e)},un.prototype.findEqualEdge=function(o){var t=new _n(o.getCoordinates());return this._ocaMap.get(t)},un.prototype.add=function(o){this._edges.add(o);var t=new _n(o.getCoordinates());this._ocaMap.put(t,o)},un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un};var yn=function(){};yn.prototype.processIntersections=function(){},yn.prototype.isDone=function(){},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn};var mn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};mn.prototype.isTrivialIntersection=function(o,t,e,n){if(o===e&&1===this._li.getIntersectionNum()){if(mn.isAdjacentSegments(t,n))return!0;if(o.isClosed()){var i=o.size()-1;if(0===t&&n===i||0===n&&t===i)return!0}}return!1},mn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},mn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},mn.prototype.getLineIntersector=function(){return this._li},mn.prototype.hasProperIntersection=function(){return this._hasProper},mn.prototype.processIntersections=function(p,t,e,n){if(p===e&&t===n)return null;this.numTests++;var i=p.getCoordinates()[t],r=p.getCoordinates()[t+1],o=e.getCoordinates()[n],s=e.getCoordinates()[n+1];this._li.computeIntersection(i,r,o,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(p,t,e,n)||(this._hasIntersection=!0,p.addIntersections(this._li,t,0),e.addIntersections(this._li,n,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},mn.prototype.hasIntersection=function(){return this._hasIntersection},mn.prototype.isDone=function(){return!1},mn.prototype.hasInteriorIntersection=function(){return this._hasInterior},mn.prototype.interfaces_=function(){return[yn]},mn.prototype.getClass=function(){return mn},mn.isAdjacentSegments=function(o,t){return 1===oo(o-t)};var fn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var o=arguments[0],t=arguments[1],e=arguments[2];this.coord=new N(o),this.segmentIndex=t,this.dist=e};fn.prototype.getSegmentIndex=function(){return this.segmentIndex},fn.prototype.getCoordinate=function(){return this.coord},fn.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},fn.prototype.compareTo=function(o){var t=o;return this.compare(t.segmentIndex,t.dist)},fn.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e},fn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},fn.prototype.getDistance=function(){return this.dist},fn.prototype.compare=function(o,t){return this.segmentIndex<o?-1:this.segmentIndex>o?1:this.dist<t?-1:this.dist>t?1:0},fn.prototype.interfaces_=function(){return[I]},fn.prototype.getClass=function(){return fn};var hn=function(){this._nodeMap=new c,this.edge=null;var e=arguments[0];this.edge=e};hn.prototype.print=function(o){o.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(o)},hn.prototype.iterator=function(){return this._nodeMap.values().iterator()},hn.prototype.addSplitEdges=function(o){this.addEndpoints();for(var t=this.iterator(),e=t.next();t.hasNext();){var a=t.next(),i=this.createSplitEdge(e,a);o.add(i),e=a}},hn.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},hn.prototype.createSplitEdge=function(p,t){var e=t.segmentIndex-p.segmentIndex+2,d=this.edge.pts[t.segmentIndex],i=0<t.dist||!t.coord.equals2D(d);i||e--;var r=Array(e).fill(null),o=0;r[o++]=new N(p.coord);for(var l=p.segmentIndex+1;l<=t.segmentIndex;l++)r[o++]=this.edge.pts[l];return i&&(r[o]=t.coord),new bn(r,new Re(this.edge._label))},hn.prototype.add=function(o,t,e){var n=new fn(o,t,e),i=this._nodeMap.get(n);return null===i?(this._nodeMap.put(n,n),n):i},hn.prototype.isIntersection=function(o){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(o))return!0;return!1},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn};var xn=function(){};xn.prototype.getChainStartIndices=function(o){var t=0,r=new xt;r.add(new D(t));do{var n=this.findChainEnd(o,t);r.add(new D(n)),t=n}while(t<o.length-1);return xn.toIntArray(r)},xn.prototype.findChainEnd=function(o,t){for(var e=qe.quadrant(o[t],o[t+1]),n=t+1;n<o.length&&!(qe.quadrant(o[n-1],o[n])!==e);)n++;return n-1},xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn},xn.toIntArray=function(o){for(var t=Array(o.size()).fill(null),e=0;e<t.length;e++)t[e]=o.get(e).intValue();return t};var En=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new k,this.env2=new k;var o=arguments[0];this.e=o,this.pts=o.getCoordinates();var t=new xn;this.startIndex=t.getChainStartIndices(this.pts)};En.prototype.getCoordinates=function(){return this.pts},En.prototype.getMaxX=function(o){var t=this.pts[this.startIndex[o]].x,e=this.pts[this.startIndex[o+1]].x;return t>e?t:e},En.prototype.getMinX=function(o){var t=this.pts[this.startIndex[o]].x,e=this.pts[this.startIndex[o+1]].x;return t<e?t:e},En.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var _=arguments[0],t=arguments[1],e=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[_],this.startIndex[_+1],t,t.startIndex[e],t.startIndex[e+1],n)}else if(6===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=arguments[5],l=this.pts[i],c=this.pts[r],p=o.pts[s],y=o.pts[a];if(1==r-i&&1==a-s)return u.addIntersections(this.e,i,o.e,s),null;if(this.env1.init(l,c),this.env2.init(p,y),!this.env1.intersects(this.env2))return null;var m=eo((i+r)/2),g=eo((s+a)/2);i<m&&(s<g&&this.computeIntersectsForChain(i,m,o,s,g,u),g<a&&this.computeIntersectsForChain(i,m,o,g,a,u)),m<r&&(s<g&&this.computeIntersectsForChain(m,r,o,s,g,u),g<a&&this.computeIntersectsForChain(m,r,o,g,a,u))}},En.prototype.getStartIndexes=function(){return this.startIndex},En.prototype.computeIntersects=function(o,t){for(var e=0;e<this.startIndex.length-1;e++)for(var r=0;r<o.startIndex.length-1;r++)this.computeIntersectsForChain(e,o,r,t)},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En};var Cn=function o(){this._depth=[,,].fill().map(function(){return[,,,]});for(var t=0;2>t;t++)for(var i=0;3>i;i++)this._depth[t][i]=o.NULL_VALUE},In={NULL_VALUE:{configurable:!0}};Cn.prototype.getDepth=function(o,t){return this._depth[o][t]},Cn.prototype.setDepth=function(o,t,e){this._depth[o][t]=e},Cn.prototype.isNull=function(){if(0===arguments.length){for(var o=0;2>o;o++)for(var a=0;3>a;a++)if(this._depth[o][a]!==Cn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var s=arguments[0];return this._depth[s][1]===Cn.NULL_VALUE}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this._depth[n][i]===Cn.NULL_VALUE}},Cn.prototype.normalize=function(){for(var o=0;2>o;o++)if(!this.isNull(o)){var r=this._depth[o][1];this._depth[o][2]<r&&(r=this._depth[o][2]),0>r&&(r=0);for(var a=1,s;3>a;a++)s=0,this._depth[o][a]>r&&(s=1),this._depth[o][a]=s}},Cn.prototype.getDelta=function(e){return this._depth[e][Ce.RIGHT]-this._depth[e][Ce.LEFT]},Cn.prototype.getLocation=function(o,t){return 0>=this._depth[o][t]?b.EXTERIOR:b.INTERIOR},Cn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Cn.prototype.add=function(){if(1===arguments.length)for(var a=arguments[0],t=0;2>t;t++)for(var s=1,p;3>s;s++)p=a.getLocation(t,s),p!==b.EXTERIOR&&p!==b.INTERIOR||(this.isNull(t,s)?this._depth[t][s]=Cn.depthAtLocation(p):this._depth[t][s]+=Cn.depthAtLocation(p));else if(3===arguments.length){var d=arguments[0],r=arguments[1];arguments[2]===b.INTERIOR&&this._depth[d][r]++}},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.depthAtLocation=function(e){return e===b.EXTERIOR?0:e===b.INTERIOR?1:Cn.NULL_VALUE},In.NULL_VALUE.get=function(){return-1},Object.defineProperties(Cn,In);var bn=function(o){function a(){if(o.call(this),this.pts=null,this._env=null,this.eiList=new hn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Cn,this._depthDelta=0,1===arguments.length){var e=arguments[0];a.call(this,e,null)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.pts=t,this._label=n}}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.getDepth=function(){return this._depth},a.prototype.getCollapsedEdge=function(){var e=[,,].fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new a(e,Re.toLineLabel(this._label))},a.prototype.isIsolated=function(){return this._isIsolated},a.prototype.getCoordinates=function(){return this.pts},a.prototype.setIsolated=function(e){this._isIsolated=e},a.prototype.setName=function(e){this._name=e},a.prototype.equals=function(e){if(!(e instanceof a))return!1;var t=e;if(this.pts.length!==t.pts.length)return!1;for(var n=!0,p=!0,d=this.pts.length,l=0;l<this.pts.length;l++)if(this.pts[l].equals2D(t.pts[l])||(n=!1),this.pts[l].equals2D(t.pts[--d])||(p=!1),!n&&!p)return!1;return!0},a.prototype.getCoordinate=function(){if(0===arguments.length)return 0<this.pts.length?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}},a.prototype.print=function(o){o.print("edge "+this._name+": "),o.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)0<t&&o.print(","),o.print(this.pts[t].x+" "+this.pts[t].y);o.print(")  "+this._label+" "+this._depthDelta)},a.prototype.computeIM=function(e){a.updateIM(this._label,e)},a.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},a.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},a.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},a.prototype.getDepthDelta=function(){return this._depthDelta},a.prototype.getNumPoints=function(){return this.pts.length},a.prototype.printReverse=function(o){o.print("edge "+this._name+": ");for(var t=this.pts.length-1;0<=t;t--)o.print(this.pts[t]+" ");o.println("")},a.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new En(this)),this._mce},a.prototype.getEnvelope=function(){if(null===this._env){this._env=new k;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env},a.prototype.addIntersection=function(p,t,e,n){var i=new N(p.getIntersection(n)),r=t,d=p.getEdgeDistance(e,n),l=r+1;if(l<this.pts.length){var a=this.pts[l];i.equals2D(a)&&(r=l,d=0)}this.eiList.add(i,r,d)},a.prototype.toString=function(){var o=new P;o.append("edge "+this._name+": "),o.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)0<t&&o.append(","),o.append(this.pts[t].x+" "+this.pts[t].y);return o.append(")  "+this._label+" "+this._depthDelta),o.toString()},a.prototype.isPointwiseEqual=function(o){if(this.pts.length!==o.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(o.pts[t]))return!1;return!0},a.prototype.setDepthDelta=function(e){this._depthDelta=e},a.prototype.getEdgeIntersectionList=function(){return this.eiList},a.prototype.addIntersections=function(o,t,e){for(var n=0;n<o.getIntersectionNum();n++)this.addIntersection(o,t,e,n)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.updateIM=function(){if(2!==arguments.length)return o.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,Ce.ON),t.getLocation(1,Ce.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,Ce.LEFT),t.getLocation(1,Ce.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,Ce.RIGHT),t.getLocation(1,Ce.RIGHT),2))},a}(Ae),Ln=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new un,this._bufParams=e||null};Ln.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},Ln.prototype.insertUniqueEdge=function(a){var t=this._edgeList.findEqualEdge(a);if(null!==t){var e=t.getLabel(),n=a.getLabel();t.isPointwiseEqual(a)||(n=new Re(a.getLabel())).flip(),e.merge(n);var s=Ln.depthDelta(n),r=t.getDepthDelta()+s;t.setDepthDelta(r)}else this._edgeList.add(a),a.setDepthDelta(Ln.depthDelta(a.getLabel()))},Ln.prototype.buildSubgraphs=function(a,t){for(var e=new xt,n=a.iterator();n.hasNext();){var i=n.next(),r=i.getRightmostCoordinate(),o=new tn(e).getDepth(r);i.computeDepth(o),i.findResultEdges(),e.add(i),t.add(i.getDirectedEdges(),i.getNodes())}},Ln.prototype.createSubgraphs=function(o){for(var t=new xt,e=o.getNodes().iterator(),n;e.hasNext();)if(n=e.next(),!n.isVisited()){var a=new Oe;a.create(n),t.add(a)}return Ze.sort(t,Ze.reverseOrder()),t},Ln.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Ln.prototype.getNoder=function(o){if(null!==this._workingNoder)return this._workingNoder;var t=new jo,e=new it;return e.setPrecisionModel(o),t.setSegmentIntersector(new mn(e)),t},Ln.prototype.buffer=function(p,t){var e=this._workingPrecisionModel;null===e&&(e=p.getPrecisionModel()),this._geomFact=p.getFactory();var d=new en(e,this._bufParams),i=new an(p,t,d).getCurves();if(0>=i.size())return this.createEmptyResultGeometry();this.computeNodedEdges(i,e),this._graph=new Xe(new cn()),this._graph.addEdges(this._edgeList.getEdges());var r=this.createSubgraphs(this._graph),o=new Ye(this._geomFact);this.buildSubgraphs(r,o);var s=o.getPolygons();return 0>=s.size()?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},Ln.prototype.computeNodedEdges=function(p,t){var e=this.getNoder(t);e.computeNodes(p);for(var n=e.getNodedSubstrings().iterator();n.hasNext();){var i=n.next(),r=i.getCoordinates();if(2!==r.length||!r[0].equals2D(r[1])){var o=i.getData(),s=new bn(i.getCoordinates(),new Re(o));this.insertUniqueEdge(s)}}},Ln.prototype.setNoder=function(e){this._workingNoder=e},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.depthDelta=function(o){var t=o.getLocation(0,Ce.LEFT),e=o.getLocation(0,Ce.RIGHT);return t===b.INTERIOR&&e===b.EXTERIOR?1:t===b.EXTERIOR&&e===b.INTERIOR?-1:0},Ln.convertSegStrings=function(o){for(var t=new ye,e=new xt;o.hasNext();){var n=o.next(),i=t.createLineString(n.getCoordinates());e.add(i)}return t.buildGeometry(e)};var Sn=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var a=arguments[0],t=arguments[1];this._noder=a,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this._noder=e,this._scaleFactor=n,this._offsetX=i,this._offsetY=r,this._isScaled=!this.isIntegerPrecision()}};Sn.prototype.rescale=function(){if(O(arguments[0],vt))for(var o=arguments[0].iterator(),t;o.hasNext();)t=o.next(),this.rescale(t.getCoordinates());else if(arguments[0]instanceof Array){for(var r=arguments[0],n=0;n<r.length;n++)r[n].x=r[n].x/this._scaleFactor+this._offsetX,r[n].y=r[n].y/this._scaleFactor+this._offsetY;2===r.length&&r[0].equals2D(r[1])&&X.out.println(r)}},Sn.prototype.scale=function(){if(O(arguments[0],vt)){for(var a=arguments[0],t=new xt,e=a.iterator(),n;e.hasNext();)n=e.next(),t.add(new Mo(this.scale(n.getCoordinates()),n.getData()));return t}if(arguments[0]instanceof Array){for(var p=arguments[0],r=Array(p.length).fill(null),o=0;o<p.length;o++)r[o]=new N(ao((p[o].x-this._offsetX)*this._scaleFactor),ao((p[o].y-this._offsetY)*this._scaleFactor),p[o].z);return St.removeRepeatedPoints(r)}},Sn.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Sn.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},Sn.prototype.computeNodes=function(o){var t=o;this._isScaled&&(t=this.scale(o)),this._noder.computeNodes(t)},Sn.prototype.interfaces_=function(){return[Go]},Sn.prototype.getClass=function(){return Sn};var Nn=function(){this._li=new it,this._segStrings=null;var e=arguments[0];this._segStrings=e},vn={fact:{configurable:!0}};Nn.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var a=this._segStrings.iterator(),t;a.hasNext();)t=a.next().getCoordinates(),this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings);else if(2===arguments.length)for(var s=arguments[0],n=arguments[1].iterator();n.hasNext();)for(var i=n.next().getCoordinates(),r=1;r<i.length-1;r++)if(i[r].equals(s))throw new Z("found endpt/interior pt intersection at index "+r+" :pt "+s)},Nn.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var m=this._segStrings.iterator();m.hasNext();)for(var t=m.next(),e=this._segStrings.iterator(),n;e.hasNext();)n=e.next(),this.checkInteriorIntersections(t,n);else if(2===arguments.length)for(var x=arguments[0],r=arguments[1],o=x.getCoordinates(),s=r.getCoordinates(),a=0;a<o.length-1;a++)for(var E=0;E<s.length-1;E++)this.checkInteriorIntersections(x,a,r,E);else if(4===arguments.length){var C=arguments[0],c=arguments[1],p=arguments[2],h=arguments[3];if(C===p&&c===h)return null;var f=C.getCoordinates()[c],g=C.getCoordinates()[c+1],d=p.getCoordinates()[h],y=p.getCoordinates()[h+1];if(this._li.computeIntersection(f,g,d,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,f,g)||this.hasInteriorIntersection(this._li,d,y)))throw new Z("found non-noded intersection at "+f+"-"+g+" and "+d+"-"+y)}},Nn.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Nn.prototype.checkCollapses=function(){if(0===arguments.length)for(var o=this._segStrings.iterator(),t;o.hasNext();)t=o.next(),this.checkCollapses(t);else if(1===arguments.length)for(var r=arguments[0].getCoordinates(),n=0;n<r.length-2;n++)this.checkCollapse(r[n],r[n+1],r[n+2])},Nn.prototype.hasInteriorIntersection=function(o,t,e){for(var n=0,a;n<o.getIntersectionNum();n++)if(a=o.getIntersection(n),!a.equals(t)&&!a.equals(e))return!0;return!1},Nn.prototype.checkCollapse=function(o,t,e){if(o.equals(e))throw new Z("found non-noded collapse at "+Nn.fact.createLineString([o,t,e]))},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},vn.fact.get=function(){return new ye},Object.defineProperties(Nn,vn);var Tn=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=[,,,,].fill(null),this._safeEnv=null;var o=arguments[0],t=arguments[1],e=arguments[2];if(this._originalPt=o,this._pt=o,this._scaleFactor=t,this._li=e,0>=t)throw new xo("Scale factor must be non-zero");1!==t&&(this._pt=new N(this.scale(o.x),this.scale(o.y)),this._p0Scaled=new N,this._p1Scaled=new N),this.initCorners(this._pt)},Pn={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Tn.prototype.intersectsScaled=function(p,t){var e=f(p.x,t.x),n=po(p.x,t.x),i=f(p.y,t.y),r=po(p.y,t.y),o=this._maxx<e||this._minx>n||this._maxy<i||this._miny>r;if(o)return!1;var s=this.intersectsToleranceSquare(p,t);return tt.isTrue(!(o&&s),"Found bad envelope test"),s},Tn.prototype.initCorners=function(e){this._minx=e.x-.5,this._maxx=e.x+.5,this._miny=e.y-.5,this._maxy=e.y+.5,this._corner[0]=new N(this._maxx,this._maxy),this._corner[1]=new N(this._minx,this._maxy),this._corner[2]=new N(this._minx,this._miny),this._corner[3]=new N(this._maxx,this._miny)},Tn.prototype.intersects=function(o,t){return 1===this._scaleFactor?this.intersectsScaled(o,t):(this.copyScaled(o,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Tn.prototype.scale=function(e){return ao(e*this._scaleFactor)},Tn.prototype.getCoordinate=function(){return this._originalPt},Tn.prototype.copyScaled=function(o,t){t.x=this.scale(o.x),t.y=this.scale(o.y)},Tn.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var e=Tn.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new k(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},Tn.prototype.intersectsPixelClosure=function(o,t){return this._li.computeIntersection(o,t,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(o,t,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(o,t,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(o,t,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},Tn.prototype.intersectsToleranceSquare=function(o,t){var e=!1,r=!1;return this._li.computeIntersection(o,t,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(o,t,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(e=!0),this._li.computeIntersection(o,t,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(o,t,this._corner[3],this._corner[0]),!!this._li.isProper()||e&&r||!!o.equals(this._pt)||!!t.equals(this._pt))))},Tn.prototype.addSnappedNode=function(o,t){var e=o.getCoordinate(t),n=o.getCoordinate(t+1);return!!this.intersects(e,n)&&(o.addIntersection(this.getCoordinate(),t),!0)},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Pn.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(Tn,Pn);var Rn=function(){this.tempEnv1=new k,this.selectedSegment=new wo};Rn.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var o=arguments[0],t=arguments[1];o.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn};var On=function(){this._index=null;var e=arguments[0];this._index=e},Dn={HotPixelSnapAction:{configurable:!0}};On.prototype.snap=function(){if(1===arguments.length){var a=arguments[0];return this.snap(a,null,-1)}if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getSafeEnvelope(),r=new An(t,e,n);return this._index.query(i,{interfaces_:function(){return[We]},visitItem:function(e){e.select(i,r)}}),r.isNodeAdded()}},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},Dn.HotPixelSnapAction.get=function(){return An},Object.defineProperties(On,Dn);var An=function(o){function t(){o.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=n}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(2!==arguments.length)return o.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();return null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex?null:void(this._isNodeAdded=this._hotPixel.addSnappedNode(n,e))},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Rn),Mn=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new xt};Mn.prototype.processIntersections=function(p,t,e,n){if(p===e&&t===n)return null;var i=p.getCoordinates()[t],r=p.getCoordinates()[t+1],o=e.getCoordinates()[n],s=e.getCoordinates()[n+1];if(this._li.computeIntersection(i,r,o,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var a=0;a<this._li.getIntersectionNum();a++)this._interiorIntersections.add(this._li.getIntersection(a));p.addIntersections(this._li,t,0),e.addIntersections(this._li,n,1)}},Mn.prototype.isDone=function(){return!1},Mn.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Mn.prototype.interfaces_=function(){return[yn]},Mn.prototype.getClass=function(){return Mn};var wn=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new it,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};wn.prototype.checkCorrectness=function(o){var t=Mo.getNodedSubstrings(o),e=new Nn(t);try{e.checkValid()}catch(e){if(!(e instanceof U))throw e;e.printStackTrace()}},wn.prototype.getNodedSubstrings=function(){return Mo.getNodedSubstrings(this._nodedSegStrings)},wn.prototype.snapRound=function(o,t){var e=this.findInteriorIntersections(o,t);this.computeIntersectionSnaps(e),this.computeVertexSnaps(o)},wn.prototype.findInteriorIntersections=function(o,t){var e=new Mn(t);return this._noder.setSegmentIntersector(e),this._noder.computeNodes(o),e.getInteriorIntersections()},wn.prototype.computeVertexSnaps=function(){if(O(arguments[0],vt))for(var a=arguments[0].iterator(),t;a.hasNext();)t=a.next(),this.computeVertexSnaps(t);else if(arguments[0]instanceof Mo)for(var s=arguments[0],n=s.getCoordinates(),i=0,p;i<n.length;i++)p=new Tn(n[i],this._scaleFactor,this._li),this._pointSnapper.snap(p,s,i)&&s.addIntersection(n[i],i)},wn.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new jo,this._pointSnapper=new On(this._noder.getIndex()),this.snapRound(e,this._li)},wn.prototype.computeIntersectionSnaps=function(o){for(var t=o.iterator();t.hasNext();){var e=t.next(),n=new Tn(e,this._scaleFactor,this._li);this._pointSnapper.snap(n)}},wn.prototype.interfaces_=function(){return[Go]},wn.prototype.getClass=function(){return wn};var Fn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Vo,this._resultGeometry=null,this._saveException=null,1===arguments.length){var o=arguments[0];this._argGeom=o}else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._argGeom=t,this._bufParams=e}},zn={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Fn.prototype.bufferFixedPrecision=function(o){var t=new Sn(new wn(new he(1)),o.getScale()),e=new Ln(this._bufParams);e.setWorkingPrecisionModel(o),e.setNoder(t),this._resultGeometry=e.buffer(this._argGeom,this._distance)},Fn.prototype.bufferReducedPrecision=function(){var o=this;if(0===arguments.length){for(var t=Fn.MAX_PRECISION_DIGITS;0<=t;t--){try{o.bufferReducedPrecision(t)}catch(t){if(!(t instanceof be))throw t;o._saveException=t}if(null!==o._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var a=arguments[0],n=Fn.precisionScaleFactor(this._argGeom,this._distance,a),i=new he(n);this.bufferFixedPrecision(i)}},Fn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===he.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},Fn.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},Fn.prototype.bufferOriginalPrecision=function(){try{var e=new Ln(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof Z))throw e;this._saveException=e}},Fn.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},Fn.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Fn.bufferOp=function(){if(2===arguments.length){var d=arguments[0],t=arguments[1];return new Fn(d).getResultGeometry(t)}if(3===arguments.length){if(mo(arguments[2])&&arguments[0]instanceof lt&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1],i=arguments[2],r=new Fn(e);return r.setQuadrantSegments(i),r.getResultGeometry(n)}if(arguments[2]instanceof Vo&&arguments[0]instanceof lt&&"number"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=arguments[2];return new Fn(o,a).getResultGeometry(s)}}else if(4===arguments.length){var g=arguments[0],l=arguments[1],c=arguments[2],p=arguments[3],_=new Fn(g);return _.setQuadrantSegments(c),_.setEndCapStyle(p),_.getResultGeometry(l)}},Fn.precisionScaleFactor=function(a,t,e){var n=a.getEnvelopeInternal(),i=T.max(oo(n.getMaxX()),oo(n.getMaxY()),oo(n.getMinX()),oo(n.getMinY()))+2*(0<t?t:0),r=e-eo(u(i)/u(10)+1);return no(10,r)},zn.CAP_ROUND.get=function(){return Vo.CAP_ROUND},zn.CAP_BUTT.get=function(){return Vo.CAP_FLAT},zn.CAP_FLAT.get=function(){return Vo.CAP_FLAT},zn.CAP_SQUARE.get=function(){return Vo.CAP_SQUARE},zn.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Fn,zn);var kn=function(){this._pt=[new N,new N],this._distance=m.NaN,this._isNull=!0};kn.prototype.getCoordinates=function(){return this._pt},kn.prototype.getCoordinate=function(e){return this._pt[e]},kn.prototype.setMinimum=function(){if(1===arguments.length){var o=arguments[0];this.setMinimum(o._pt[0],o._pt[1])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;var n=t.distance(e);n<this._distance&&this.initialize(t,e,n)}},kn.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var o=arguments[0],t=arguments[1];this._pt[0].setCoordinate(o),this._pt[1].setCoordinate(t),this._distance=o.distance(t),this._isNull=!1}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(n),this._distance=i,this._isNull=!1}},kn.prototype.getDistance=function(){return this._distance},kn.prototype.setMaximum=function(){if(1===arguments.length){var o=arguments[0];this.setMaximum(o._pt[0],o._pt[1])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;var n=t.distance(e);n>this._distance&&this.initialize(t,e,n)}},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn};var Bn=function(){};Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.computeDistance=function(){if(arguments[2]instanceof kn&&arguments[0]instanceof Wt&&arguments[1]instanceof N)for(var x=arguments[0],t=arguments[1],e=arguments[2],n=x.getCoordinates(),i=new wo,r=0;r<n.length-1;r++){i.setCoordinates(n[r],n[r+1]);var E=i.closestPoint(t);e.setMinimum(E,t)}else if(arguments[2]instanceof kn&&arguments[0]instanceof Zt&&arguments[1]instanceof N){var s=arguments[0],a=arguments[1],u=arguments[2];Bn.computeDistance(s.getExteriorRing(),a,u);for(var l=0;l<s.getNumInteriorRing();l++)Bn.computeDistance(s.getInteriorRingN(l),a,u)}else if(arguments[2]instanceof kn&&arguments[0]instanceof lt&&arguments[1]instanceof N){var C=arguments[0],p=arguments[1],h=arguments[2];if(C instanceof Wt)Bn.computeDistance(C,p,h);else if(C instanceof Zt)Bn.computeDistance(C,p,h);else if(C instanceof Ut)for(var f=C,g=0,b;g<f.getNumGeometries();g++)b=f.getGeometryN(g),Bn.computeDistance(b,p,h);else h.setMinimum(C.getCoordinate(),p)}else if(arguments[2]instanceof kn&&arguments[0]instanceof wo&&arguments[1]instanceof N){var S=arguments[0],_=arguments[1],m=arguments[2],v=S.closestPoint(_);m.setMinimum(v,_)}};var Gn=function(e){this._maxPtDist=new kn,this._inputGeom=e||null},qn={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Gn.prototype.computeMaxMidpointDistance=function(o){var t=new Un(this._inputGeom);o.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},Gn.prototype.computeMaxVertexDistance=function(o){var t=new jn(this._inputGeom);o.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},Gn.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},Gn.prototype.getDistancePoints=function(){return this._maxPtDist},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},qn.MaxPointDistanceFilter.get=function(){return jn},qn.MaxMidpointDistanceFilter.get=function(){return Un},Object.defineProperties(Gn,qn);var jn=function(e){this._maxPtDist=new kn,this._minPtDist=new kn,this._geom=e||null};jn.prototype.filter=function(e){this._minPtDist.initialize(),Bn.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},jn.prototype.getMaxPointDistance=function(){return this._maxPtDist},jn.prototype.interfaces_=function(){return[ht]},jn.prototype.getClass=function(){return jn};var Un=function(e){this._maxPtDist=new kn,this._minPtDist=new kn,this._geom=e||null};Un.prototype.filter=function(o,t){if(0===t)return null;var e=o.getCoordinate(t-1),n=o.getCoordinate(t),i=new N((e.x+n.x)/2,(e.y+n.y)/2);this._minPtDist.initialize(),Bn.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Un.prototype.isDone=function(){return!1},Un.prototype.isGeometryChanged=function(){return!1},Un.prototype.getMaxPointDistance=function(){return this._maxPtDist},Un.prototype.interfaces_=function(){return[Vt]},Un.prototype.getClass=function(){return Un};var Vn=function(e){this._comps=e||null};Vn.prototype.filter=function(e){e instanceof Zt&&this._comps.add(e)},Vn.prototype.interfaces_=function(){return[Bt]},Vn.prototype.getClass=function(){return Vn},Vn.getPolygons=function(){if(1===arguments.length){var o=arguments[0];return Vn.getPolygons(o,new xt)}if(2===arguments.length){var t=arguments[0],e=arguments[1];return t instanceof Zt?e.add(t):t instanceof Ut&&t.apply(new Vn(e)),e}};var Zn=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var o=arguments[0];this._lines=o}else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._lines=t,this._isForcedToLineString=e}};Zn.prototype.filter=function(o){if(this._isForcedToLineString&&o instanceof te){var t=o.getFactory().createLineString(o.getCoordinateSequence());return this._lines.add(t),null}o instanceof Wt&&this._lines.add(o)},Zn.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},Zn.prototype.interfaces_=function(){return[ut]},Zn.prototype.getClass=function(){return Zn},Zn.getGeometry=function(){if(1===arguments.length){var o=arguments[0];return o.getFactory().buildGeometry(Zn.getLines(o))}if(2===arguments.length){var t=arguments[0],e=arguments[1];return t.getFactory().buildGeometry(Zn.getLines(t,e))}},Zn.getLines=function(){if(1===arguments.length){var m=arguments[0];return Zn.getLines(m,!1)}if(2===arguments.length){if(O(arguments[0],vt)&&O(arguments[1],vt)){for(var t=arguments[0],e=arguments[1],n=t.iterator(),i;n.hasNext();)i=n.next(),Zn.getLines(i,e);return e}if(arguments[0]instanceof lt&&"boolean"==typeof arguments[1]){var x=arguments[0],o=arguments[1],s=new xt;return x.apply(new Zn(s,o)),s}if(arguments[0]instanceof lt&&O(arguments[1],vt)){var a=arguments[0],u=arguments[1];return a instanceof Wt?u.add(a):a.apply(new Zn(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&O(arguments[0],vt)&&O(arguments[1],vt)){for(var l=arguments[0],c=arguments[1],p=arguments[2],h=l.iterator(),f;h.hasNext();)f=h.next(),Zn.getLines(f,c,p);return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof lt&&O(arguments[1],vt)){var E=arguments[0],d=arguments[1],y=arguments[2];return E.apply(new Zn(d,y)),d}}};var Hn=function(){if(this._boundaryRule=ft.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(null===e)throw new xo("Rule must be non-null");this._boundaryRule=e}};Hn.prototype.locateInternal=function(){if(arguments[0]instanceof N&&arguments[1]instanceof Zt){var p=arguments[0],t=arguments[1];if(t.isEmpty())return b.EXTERIOR;var e=t.getExteriorRing(),n=this.locateInPolygonRing(p,e);if(n===b.EXTERIOR)return b.EXTERIOR;if(n===b.BOUNDARY)return b.BOUNDARY;for(var i=0;i<t.getNumInteriorRing();i++){var d=t.getInteriorRingN(i),o=this.locateInPolygonRing(p,d);if(o===b.INTERIOR)return b.EXTERIOR;if(o===b.BOUNDARY)return b.BOUNDARY}return b.INTERIOR}if(arguments[0]instanceof N&&arguments[1]instanceof Wt){var s=arguments[0],a=arguments[1];if(!a.getEnvelopeInternal().intersects(s))return b.EXTERIOR;var g=a.getCoordinates();return!a.isClosed()&&(s.equals(g[0])||s.equals(g[g.length-1]))?b.BOUNDARY:st.isOnLine(s,g)?b.INTERIOR:b.EXTERIOR}if(arguments[0]instanceof N&&arguments[1]instanceof Jt){var l=arguments[0];return arguments[1].getCoordinate().equals2D(l)?b.INTERIOR:b.EXTERIOR}},Hn.prototype.locateInPolygonRing=function(o,t){return t.getEnvelopeInternal().intersects(o)?st.locatePointInRing(o,t.getCoordinates()):b.EXTERIOR},Hn.prototype.intersects=function(o,t){return this.locate(o,t)!==b.EXTERIOR},Hn.prototype.updateLocationInfo=function(e){e===b.INTERIOR&&(this._isIn=!0),e===b.BOUNDARY&&this._numBoundaries++},Hn.prototype.computeLocation=function(p,t){if(t instanceof Jt&&this.updateLocationInfo(this.locateInternal(p,t)),t instanceof Wt)this.updateLocationInfo(this.locateInternal(p,t));else if(t instanceof Zt)this.updateLocationInfo(this.locateInternal(p,t));else if(t instanceof zt)for(var e=t,n=0,d;n<e.getNumGeometries();n++)d=e.getGeometryN(n),this.updateLocationInfo(this.locateInternal(p,d));else if(t instanceof ee)for(var g=t,o=0,c;o<g.getNumGeometries();o++)c=g.getGeometryN(o),this.updateLocationInfo(this.locateInternal(p,c));else if(t instanceof Ut)for(var _=new pn(t),u;_.hasNext();)u=_.next(),u!==t&&this.computeLocation(p,u)},Hn.prototype.locate=function(o,t){return t.isEmpty()?b.EXTERIOR:t instanceof Wt?this.locateInternal(o,t):t instanceof Zt?this.locateInternal(o,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(o,t),this._boundaryRule.isInBoundary(this._numBoundaries)?b.BOUNDARY:0<this._numBoundaries||this._isIn?b.INTERIOR:b.EXTERIOR)},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var Xn=function a(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];a.call(this,t,a.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._component=n,this._segIndex=i,this._pt=r}},Yn={INSIDE_AREA:{configurable:!0}};Xn.prototype.isInsideArea=function(){return this._segIndex===Xn.INSIDE_AREA},Xn.prototype.getCoordinate=function(){return this._pt},Xn.prototype.getGeometryComponent=function(){return this._component},Xn.prototype.getSegmentIndex=function(){return this._segIndex},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn},Yn.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Xn,Yn);var Wn=function(e){this._pts=e||null};Wn.prototype.filter=function(e){e instanceof Jt&&this._pts.add(e)},Wn.prototype.interfaces_=function(){return[Bt]},Wn.prototype.getClass=function(){return Wn},Wn.getPoints=function(){if(1===arguments.length){var o=arguments[0];return o instanceof Jt?Ze.singletonList(o):Wn.getPoints(o,new xt)}if(2===arguments.length){var t=arguments[0],e=arguments[1];return t instanceof Jt?e.add(t):t instanceof Ut&&t.apply(new Wn(e)),e}};var Kn=function(){this._locations=null;var e=arguments[0];this._locations=e};Kn.prototype.filter=function(e){(e instanceof Jt||e instanceof Wt||e instanceof Zt)&&this._locations.add(new Xn(e,0,e.getCoordinate()))},Kn.prototype.interfaces_=function(){return[Bt]},Kn.prototype.getClass=function(){return Kn},Kn.getLocations=function(o){var t=new xt;return o.apply(new Kn(t)),t};var Jn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Hn,this._minDistanceLocation=null,this._minDistance=m.MAX_VALUE,2===arguments.length){var o=arguments[0],t=arguments[1];this._geom=[o,t],this._terminateDistance=0}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._geom=[,,].fill(null),this._geom[0]=e,this._geom[1]=n,this._terminateDistance=i}};Jn.prototype.computeContainmentDistance=function(){if(0===arguments.length){var _=[,,].fill(null);if(this.computeContainmentDistance(0,_),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,_)}else if(2===arguments.length){var t=arguments[0],e=arguments[1],n=1-t,i=Vn.getPolygons(this._geom[t]);if(0<i.size()){var r=Kn.getLocations(this._geom[n]);if(this.computeContainmentDistance(r,i,e),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[n]=e[0],this._minDistanceLocation[t]=e[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&O(arguments[0],Et)&&O(arguments[1],Et)){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=0;u<o.size();u++)for(var y=o.get(u),c=0;c<s.size();c++)if(this.computeContainmentDistance(y,s.get(c),a),this._minDistance<=this._terminateDistance)return null;}else if(arguments[2]instanceof Array&&arguments[0]instanceof Xn&&arguments[1]instanceof Zt){var m=arguments[0],h=arguments[1],f=arguments[2],g=m.getCoordinate();if(b.EXTERIOR!==this._ptLocator.locate(g,h))return this._minDistance=0,f[0]=m,f[1]=new Xn(h,g),null}},Jn.prototype.computeMinDistanceLinesPoints=function(a,t,e){for(var n=0;n<a.size();n++)for(var p=a.get(n),r=0,d;r<t.size();r++)if(d=t.get(r),this.computeMinDistance(p,d,e),this._minDistance<=this._terminateDistance)return null},Jn.prototype.computeFacetDistance=function(){var o=[,,].fill(null),t=Zn.getLines(this._geom[0]),e=Zn.getLines(this._geom[1]),n=Wn.getPoints(this._geom[0]),i=Wn.getPoints(this._geom[1]);return this.computeMinDistanceLines(t,e,o),this.updateMinDistance(o,!1),this._minDistance<=this._terminateDistance?null:(o[0]=null,o[1]=null,this.computeMinDistanceLinesPoints(t,i,o),this.updateMinDistance(o,!1),this._minDistance<=this._terminateDistance?null:(o[0]=null,o[1]=null,this.computeMinDistanceLinesPoints(e,n,o),this.updateMinDistance(o,!0),this._minDistance<=this._terminateDistance?null:(o[0]=null,o[1]=null,this.computeMinDistancePoints(n,i,o),void this.updateMinDistance(o,!1))))},Jn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Jn.prototype.updateMinDistance=function(o,t){return null===o[0]?null:void(t?(this._minDistanceLocation[0]=o[1],this._minDistanceLocation[1]=o[0]):(this._minDistanceLocation[0]=o[0],this._minDistanceLocation[1]=o[1]))},Jn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Jn.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=[,,].fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Wt&&arguments[1]instanceof Jt){var x=arguments[0],t=arguments[1],e=arguments[2];if(x.getEnvelopeInternal().distance(t.getEnvelopeInternal())>this._minDistance)return null;for(var n=x.getCoordinates(),i=t.getCoordinate(),r=0,E;r<n.length-1;r++){if(E=st.distancePointLine(i,n[r],n[r+1]),E<this._minDistance){this._minDistance=E;var C=new wo(n[r],n[r+1]).closestPoint(i);e[0]=new Xn(x,r,C),e[1]=new Xn(t,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Wt&&arguments[1]instanceof Wt){var a=arguments[0],u=arguments[1],l=arguments[2];if(a.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var c=a.getCoordinates(),p=u.getCoordinates(),h=0;h<c.length-1;h++)for(var I=0,b;I<p.length-1;I++){if(b=st.distanceLineLine(c[h],c[h+1],p[I],p[I+1]),b<this._minDistance){this._minDistance=b;var S=new wo(c[h],c[h+1]),y=new wo(p[I],p[I+1]),_=S.closestPoints(y);l[0]=new Xn(a,h,_[0]),l[1]=new Xn(u,I,_[1])}if(this._minDistance<=this._terminateDistance)return null}}},Jn.prototype.computeMinDistancePoints=function(p,t,e){for(var n=0;n<p.size();n++)for(var d=p.get(n),r=0;r<t.size();r++){var l=t.get(r),s=d.getCoordinate().distance(l.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,e[0]=new Xn(d,0,d.getCoordinate()),e[1]=new Xn(l,0,l.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Jn.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new xo("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Jn.prototype.computeMinDistanceLines=function(a,t,e){for(var n=0;n<a.size();n++)for(var p=a.get(n),r=0,d;r<t.size();r++)if(d=t.get(r),this.computeMinDistance(p,d,e),this._minDistance<=this._terminateDistance)return null},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},Jn.distance=function(o,t){return new Jn(o,t).distance()},Jn.isWithinDistance=function(o,t,e){return new Jn(o,t,e).distance()<=e},Jn.nearestPoints=function(o,t){return new Jn(o,t).nearestPoints()};var Qn=function(){this._pt=[new N,new N],this._distance=m.NaN,this._isNull=!0};Qn.prototype.getCoordinates=function(){return this._pt},Qn.prototype.getCoordinate=function(e){return this._pt[e]},Qn.prototype.setMinimum=function(){if(1===arguments.length){var o=arguments[0];this.setMinimum(o._pt[0],o._pt[1])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;var n=t.distance(e);n<this._distance&&this.initialize(t,e,n)}},Qn.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var o=arguments[0],t=arguments[1];this._pt[0].setCoordinate(o),this._pt[1].setCoordinate(t),this._distance=o.distance(t),this._isNull=!1}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(n),this._distance=i,this._isNull=!1}},Qn.prototype.toString=function(){return Q.toLineString(this._pt[0],this._pt[1])},Qn.prototype.getDistance=function(){return this._distance},Qn.prototype.setMaximum=function(){if(1===arguments.length){var o=arguments[0];this.setMaximum(o._pt[0],o._pt[1])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;var n=t.distance(e);n>this._distance&&this.initialize(t,e,n)}},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var $n=function(){};$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n},$n.computeDistance=function(){if(arguments[2]instanceof Qn&&arguments[0]instanceof Wt&&arguments[1]instanceof N)for(var x=arguments[0],t=arguments[1],e=arguments[2],n=new wo,i=x.getCoordinates(),r=0;r<i.length-1;r++){n.setCoordinates(i[r],i[r+1]);var E=n.closestPoint(t);e.setMinimum(E,t)}else if(arguments[2]instanceof Qn&&arguments[0]instanceof Zt&&arguments[1]instanceof N){var s=arguments[0],a=arguments[1],u=arguments[2];$n.computeDistance(s.getExteriorRing(),a,u);for(var l=0;l<s.getNumInteriorRing();l++)$n.computeDistance(s.getInteriorRingN(l),a,u)}else if(arguments[2]instanceof Qn&&arguments[0]instanceof lt&&arguments[1]instanceof N){var C=arguments[0],p=arguments[1],h=arguments[2];if(C instanceof Wt)$n.computeDistance(C,p,h);else if(C instanceof Zt)$n.computeDistance(C,p,h);else if(C instanceof Ut)for(var f=C,g=0,b;g<f.getNumGeometries();g++)b=f.getGeometryN(g),$n.computeDistance(b,p,h);else h.setMinimum(C.getCoordinate(),p)}else if(arguments[2]instanceof Qn&&arguments[0]instanceof wo&&arguments[1]instanceof N){var S=arguments[0],_=arguments[1],m=arguments[2],v=S.closestPoint(_);m.setMinimum(v,_)}};var ei=function(){this._g0=null,this._g1=null,this._ptDist=new Qn,this._densifyFrac=0;var o=arguments[0],t=arguments[1];this._g0=o,this._g1=t},ti={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};ei.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},ei.prototype.setDensifyFraction=function(e){if(1<e||0>=e)throw new xo("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},ei.prototype.compute=function(o,t){this.computeOrientedDistance(o,t,this._ptDist),this.computeOrientedDistance(t,o,this._ptDist)},ei.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},ei.prototype.computeOrientedDistance=function(o,t,e){var n=new oi(t);if(o.apply(n),e.setMaximum(n.getMaxPointDistance()),0<this._densifyFrac){var i=new ni(t,this._densifyFrac);o.apply(i),e.setMaximum(i.getMaxPointDistance())}},ei.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},ei.prototype.interfaces_=function(){return[]},ei.prototype.getClass=function(){return ei},ei.distance=function(){if(2===arguments.length){var a=arguments[0],t=arguments[1];return new ei(a,t).distance()}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=new ei(e,n);return r.setDensifyFraction(i),r.distance()}},ti.MaxPointDistanceFilter.get=function(){return oi},ti.MaxDensifiedByFractionDistanceFilter.get=function(){return ni},Object.defineProperties(ei,ti);var oi=function(){this._maxPtDist=new Qn,this._minPtDist=new Qn,this._euclideanDist=new $n,this._geom=null;var e=arguments[0];this._geom=e};oi.prototype.filter=function(e){this._minPtDist.initialize(),$n.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},oi.prototype.getMaxPointDistance=function(){return this._maxPtDist},oi.prototype.interfaces_=function(){return[ht]},oi.prototype.getClass=function(){return oi};var ni=function(){this._maxPtDist=new Qn,this._minPtDist=new Qn,this._geom=null,this._numSubSegs=0;var o=arguments[0],t=arguments[1];this._geom=o,this._numSubSegs=eo(ao(1/t))};ni.prototype.filter=function(p,t){if(0===t)return null;for(var e=p.getCoordinate(t-1),n=p.getCoordinate(t),i=(n.x-e.x)/this._numSubSegs,r=(n.y-e.y)/this._numSubSegs,o=0;o<this._numSubSegs;o++){var d=e.x+o*i,a=e.y+o*r,g=new N(d,a);this._minPtDist.initialize(),$n.computeDistance(this._geom,g,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},ni.prototype.isDone=function(){return!1},ni.prototype.isGeometryChanged=function(){return!1},ni.prototype.getMaxPointDistance=function(){return this._maxPtDist},ni.prototype.interfaces_=function(){return[Vt]},ni.prototype.getClass=function(){return ni};var ii=function(o,t,e){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=o||null,this._bufDistance=t||null,this._result=e||null},ri={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};ii.prototype.checkMaximumDistance=function(o,t,e){var n=new ei(t,o);if(n.setDensifyFraction(.25),this._maxDistanceFound=n.orientedDistance(),this._maxDistanceFound>e){this._isValid=!1;var i=n.getCoordinates();this._errorLocation=i[1],this._errorIndicator=o.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Q.toLineString(i[0],i[1])+")"}},ii.prototype.isValid=function(){var o=oo(this._bufDistance),t=ii.MAX_DISTANCE_DIFF_FRAC*o;return this._minValidDistance=o-t,this._maxValidDistance=o+t,this._input.isEmpty()||this._result.isEmpty()||(0<this._bufDistance?this.checkPositiveValid():this.checkNegativeValid(),ii.VERBOSE&&X.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},ii.prototype.checkNegativeValid=function(){if(!(this._input instanceof Zt||this._input instanceof ee||this._input instanceof Ut))return null;var e=this.getPolygonLines(this._input);return(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)?null:void this.checkMaximumDistance(e,this._result,this._maxValidDistance)},ii.prototype.getErrorIndicator=function(){return this._errorIndicator},ii.prototype.checkMinimumDistance=function(o,t,e){var n=new Jn(o,t,e);if(this._minDistanceFound=n.distance(),this._minDistanceFound<e){this._isValid=!1;var i=n.nearestPoints();this._errorLocation=n.nearestPoints()[1],this._errorIndicator=o.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Q.toLineString(i[0],i[1])+" )"}},ii.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();return(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)?null:void this.checkMaximumDistance(this._input,e,this._maxValidDistance)},ii.prototype.getErrorLocation=function(){return this._errorLocation},ii.prototype.getPolygonLines=function(o){for(var t=new xt,e=new Zn(t),n=Vn.getPolygons(o).iterator();n.hasNext();)n.next().apply(e);return o.getFactory().buildGeometry(t)},ii.prototype.getErrorMessage=function(){return this._errMsg},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ri.VERBOSE.get=function(){return!1},ri.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(ii,ri);var ai=function(o,t,e){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=o||null,this._distance=t||null,this._result=e||null},si={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};ai.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},ai.prototype.checkEnvelope=function(){if(0>this._distance)return null;var o=this._distance*ai.MAX_ENV_DIFF_FRAC;0==o&&(o=.001);var i=new k(this._input.getEnvelopeInternal());i.expandBy(this._distance);var e=new k(this._result.getEnvelopeInternal());e.expandBy(o),e.contains(i)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(e)),this.report("Envelope")},ai.prototype.checkDistance=function(){var e=new ii(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},ai.prototype.checkArea=function(){var o=this._input.getArea(),t=this._result.getArea();0<this._distance&&o>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),0>this._distance&&o<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},ai.prototype.checkPolygonal=function(){this._result instanceof Zt||this._result instanceof ee||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},ai.prototype.getErrorIndicator=function(){return this._errorIndicator},ai.prototype.getErrorLocation=function(){return this._errorLocation},ai.prototype.checkExpectedEmpty=function(){return 2<=this._input.getDimension()?null:0<this._distance?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},ai.prototype.report=function(e){return ai.VERBOSE?void X.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED")):null},ai.prototype.getErrorMessage=function(){return this._errorMsg},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.isValidMsg=function(o,t,e){var n=new ai(o,t,e);return n.isValid()?null:n.getErrorMessage()},ai.isValid=function(o,t,e){return!!new ai(o,t,e).isValid()},si.VERBOSE.get=function(){return!1},si.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(ai,si);var pi=function(){this._pts=null,this._data=null;var o=arguments[0],t=arguments[1];this._pts=o,this._data=t};pi.prototype.getCoordinates=function(){return this._pts},pi.prototype.size=function(){return this._pts.length},pi.prototype.getCoordinate=function(e){return this._pts[e]},pi.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},pi.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:Oo.octant(this.getCoordinate(e),this.getCoordinate(e+1))},pi.prototype.setData=function(e){this._data=e},pi.prototype.getData=function(){return this._data},pi.prototype.toString=function(){return Q.toLineString(new ae(this._pts))},pi.prototype.interfaces_=function(){return[Do]},pi.prototype.getClass=function(){return pi};var di=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new xt,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};di.prototype.getInteriorIntersection=function(){return this._interiorIntersection},di.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},di.prototype.getIntersectionSegments=function(){return this._intSegments},di.prototype.count=function(){return this._intersectionCount},di.prototype.getIntersections=function(){return this._intersections},di.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},di.prototype.setKeepIntersections=function(e){this._keepIntersections=e},di.prototype.processIntersections=function(p,t,e,n){if(!this._findAllIntersections&&this.hasIntersection())return null;if(p===e&&t===n)return null;if(this._isCheckEndSegmentsOnly&&!(this.isEndSegment(p,t)||this.isEndSegment(e,n)))return null;var i=p.getCoordinates()[t],r=p.getCoordinates()[t+1],o=e.getCoordinates()[n],s=e.getCoordinates()[n+1];this._li.computeIntersection(i,r,o,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=[,,,,].fill(null),this._intSegments[0]=i,this._intSegments[1]=r,this._intSegments[2]=o,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},di.prototype.isEndSegment=function(o,t){return 0===t||t>=o.size()-2},di.prototype.hasIntersection=function(){return null!==this._interiorIntersection},di.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},di.prototype.interfaces_=function(){return[yn]},di.prototype.getClass=function(){return di},di.createAllIntersectionsFinder=function(o){var t=new di(o);return t.setFindAllIntersections(!0),t},di.createAnyIntersectionFinder=function(e){return new di(e)},di.createIntersectionCounter=function(o){var t=new di(o);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var li=function(){this._li=new it,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};li.prototype.execute=function(){return null===this._segInt?void this.checkInteriorIntersections():null},li.prototype.getIntersections=function(){return this._segInt.getIntersections()},li.prototype.isValid=function(){return this.execute(),this._isValid},li.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},li.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new di(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new jo;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},li.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new be(this.getErrorMessage(),this._segInt.getInteriorIntersection())},li.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Q.toLineString(e[0],e[1])+" and "+Q.toLineString(e[2],e[3])},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},li.computeIntersections=function(o){var t=new li(o);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var gi=function o(){this._nv=null;var t=arguments[0];this._nv=new li(o.toSegmentStrings(t))};gi.prototype.checkValid=function(){this._nv.checkValid()},gi.prototype.interfaces_=function(){return[]},gi.prototype.getClass=function(){return gi},gi.toSegmentStrings=function(o){for(var t=new xt,e=o.iterator(),n;e.hasNext();)n=e.next(),t.add(new pi(n.getCoordinates(),n));return t},gi.checkValid=function(e){new gi(e).checkValid()};var ci=function(e){this._mapOp=e};ci.prototype.map=function(o){for(var t=new xt,e=0,r;e<o.getNumGeometries();e++)r=this._mapOp.map(o.getGeometryN(e)),r.isEmpty()||t.add(r);return o.getFactory().createGeometryCollection(ye.toGeometryArray(t))},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.map=function(o,t){return new ci(t).map(o)};var _i=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new xt,this._resultLineList=new xt;var o=arguments[0],t=arguments[1],e=arguments[2];this._op=o,this._geometryFactory=t,this._ptLocator=e};_i.prototype.collectLines=function(o){for(var t=this._op.getGraph().getEdgeEnds().iterator(),e;t.hasNext();)e=t.next(),this.collectLineEdge(e,o,this._lineEdgesList),this.collectBoundaryTouchEdge(e,o,this._lineEdgesList)},_i.prototype.labelIsolatedLine=function(o,t){var e=this._ptLocator.locate(o.getCoordinate(),this._op.getArgGeometry(t));o.getLabel().setLocation(t,e)},_i.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},_i.prototype.collectLineEdge=function(o,t,e){var n=o.getLabel(),i=o.getEdge();o.isLineEdge()&&(o.isVisited()||!Xi.isResultOfOp(n,t)||i.isCovered()||(e.add(i),o.setVisitedEdge(!0)))},_i.prototype.findCoveredLineEdges=function(){for(var o=this._op.getGraph().getNodes().iterator();o.hasNext();)o.next().getEdges().findCoveredLineEdges();for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getEdge();if(e.isLineEdge()&&!n.isCoveredSet()){var i=this._op.isCoveredByA(e.getCoordinate());n.setCovered(i)}}},_i.prototype.labelIsolatedLines=function(o){for(var t=o.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIsolatedLine(e,0):this.labelIsolatedLine(e,1))}},_i.prototype.buildLines=function(){for(var t=this._lineEdgesList.iterator();t.hasNext();){var e=t.next(),o=this._geometryFactory.createLineString(e.getCoordinates());this._resultLineList.add(o),e.setInResult(!0)}},_i.prototype.collectBoundaryTouchEdge=function(o,t,e){var n=o.getLabel();return o.isLineEdge()?null:o.isVisited()?null:o.isInteriorAreaEdge()?null:o.getEdge().isInResult()?null:(tt.isTrue(!(o.isInResult()||o.getSym().isInResult())||!o.getEdge().isInResult()),void(Xi.isResultOfOp(n,t)&&t===Xi.INTERSECTION&&(e.add(o.getEdge()),o.setVisitedEdge(!0))))},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i};var ui=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new xt;var o=arguments[0],t=arguments[1];this._op=o,this._geometryFactory=t};ui.prototype.filterCoveredNodeToPoint=function(o){var t=o.getCoordinate();if(!this._op.isCoveredByLA(t)){var e=this._geometryFactory.createPoint(t);this._resultPointList.add(e)}},ui.prototype.extractNonCoveredResultNodes=function(o){for(var t=this._op.getGraph().getNodes().iterator(),e;t.hasNext();)if(e=t.next(),!e.isInResult()&&!e.isIncidentEdgeInResult()&&(0===e.getEdges().getDegree()||o===Xi.INTERSECTION)){var r=e.getLabel();Xi.isResultOfOp(r,o)&&this.filterCoveredNodeToPoint(e)}},ui.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui};var yi=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};yi.prototype.transformPoint=function(e){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},yi.prototype.transformPolygon=function(e){var t=!0,p=this.transformLinearRing(e.getExteriorRing(),e);null!==p&&p instanceof te&&!p.isEmpty()||(t=!1);for(var i=new xt,r=0,d;r<e.getNumInteriorRing();r++)d=this.transformLinearRing(e.getInteriorRingN(r),e),null===d||d.isEmpty()||(d instanceof te||(t=!1),i.add(d));if(t)return this._factory.createPolygon(p,i.toArray([]));var l=new xt;return null!==p&&l.add(p),l.addAll(i),this._factory.buildGeometry(l)},yi.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},yi.prototype.getInputGeometry=function(){return this._inputGeom},yi.prototype.transformMultiLineString=function(e){for(var t=new xt,o=0,n;o<e.getNumGeometries();o++)n=this.transformLineString(e.getGeometryN(o),e),null!==n&&(n.isEmpty()||t.add(n));return this._factory.buildGeometry(t)},yi.prototype.transformCoordinates=function(e){return this.copy(e)},yi.prototype.transformLineString=function(e){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},yi.prototype.transformMultiPoint=function(e){for(var t=new xt,o=0,n;o<e.getNumGeometries();o++)n=this.transformPoint(e.getGeometryN(o),e),null!==n&&(n.isEmpty()||t.add(n));return this._factory.buildGeometry(t)},yi.prototype.transformMultiPolygon=function(e){for(var t=new xt,o=0,n;o<e.getNumGeometries();o++)n=this.transformPolygon(e.getGeometryN(o),e),null!==n&&(n.isEmpty()||t.add(n));return this._factory.buildGeometry(t)},yi.prototype.copy=function(e){return e.copy()},yi.prototype.transformGeometryCollection=function(e){for(var t=new xt,o=0,n;o<e.getNumGeometries();o++)n=this.transform(e.getGeometryN(o)),null!==n&&(this._pruneEmptyGeometry&&n.isEmpty()||t.add(n));return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ye.toGeometryArray(t)):this._factory.buildGeometry(t)},yi.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof Jt)return this.transformPoint(e,null);if(e instanceof $t)return this.transformMultiPoint(e,null);if(e instanceof te)return this.transformLinearRing(e,null);if(e instanceof Wt)return this.transformLineString(e,null);if(e instanceof zt)return this.transformMultiLineString(e,null);if(e instanceof Zt)return this.transformPolygon(e,null);if(e instanceof ee)return this.transformMultiPolygon(e,null);if(e instanceof Ut)return this.transformGeometryCollection(e,null);throw new xo("Unknown Geometry subtype: "+e.getClass().getName())},yi.prototype.transformLinearRing=function(e){var t=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===t)return this._factory.createLinearRing(null);var o=t.size();return 0<o&&4>o&&!this._preserveType?this._factory.createLineString(t):this._factory.createLinearRing(t)},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi};var mi=function o(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new wo,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Wt&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];o.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this._srcPts=n,this._isClosed=o.isClosed(n),this._snapTolerance=i}};mi.prototype.snapVertices=function(a,t){for(var e=this._isClosed?a.size()-1:a.size(),n=0;n<e;n++){var s=a.get(n),r=this.findSnapForVertex(s,t);null!==r&&(a.set(n,new N(r)),0===n&&this._isClosed&&a.set(a.size()-1,new N(r)))}},mi.prototype.findSnapForVertex=function(o,t){for(var e=0;e<t.length;e++){if(o.equals2D(t[e]))return null;if(o.distance(t[e])<this._snapTolerance)return t[e]}return null},mi.prototype.snapTo=function(o){var t=new Ct(this._srcPts);return this.snapVertices(t,o),this.snapSegments(t,o),t.toCoordinateArray()},mi.prototype.snapSegments=function(a,t){if(0===t.length)return null;var e=t.length;t[0].equals2D(t[t.length-1])&&(e=t.length-1);for(var s=0;s<e;s++){var p=t[s],r=this.findSegmentIndexToSnap(p,a);0<=r&&a.add(r+1,new N(p),!1)}},mi.prototype.findSegmentIndexToSnap=function(a,t){for(var e=m.MAX_VALUE,s=-1,p=0;p<t.size()-1;p++){if(this._seg.p0=t.get(p),this._seg.p1=t.get(p+1),this._seg.p0.equals2D(a)||this._seg.p1.equals2D(a)){if(this._allowSnappingToSourceVertices)continue;return-1}var d=this._seg.distance(a);d<this._snapTolerance&&d<e&&(e=d,s=p)}return s},mi.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi},mi.isClosed=function(e){return!(1>=e.length)&&e[0].equals2D(e[e.length-1])};var fi=function(e){this._srcGeom=e||null},hi={SNAP_PRECISION_FACTOR:{configurable:!0}};fi.prototype.snapTo=function(o,t){var e=this.extractTargetCoordinates(o);return new xi(t,e).transform(this._srcGeom)},fi.prototype.snapToSelf=function(o,t){var e=this.extractTargetCoordinates(this._srcGeom),n=new xi(o,e,!0).transform(this._srcGeom),i=n;return t&&O(i,Qt)&&(i=n.buffer(0)),i},fi.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},fi.prototype.extractTargetCoordinates=function(o){for(var t=new _o,e=o.getCoordinates(),n=0;n<e.length;n++)t.add(e[n]);return t.toArray([].fill(null))},fi.prototype.computeMinimumSegmentLength=function(o){for(var t=m.MAX_VALUE,r=0,a;r<o.length-1;r++)a=o[r].distance(o[r+1]),a<t&&(t=a);return t},fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi},fi.snap=function(a,t,e){var n=[,,].fill(null),i=new fi(a);n[0]=i.snapTo(t,e);var r=new fi(t);return n[1]=r.snapTo(n[0],e),n},fi.computeOverlaySnapTolerance=function(){if(1===arguments.length){var a=arguments[0],t=fi.computeSizeBasedSnapTolerance(a),s=a.getPrecisionModel();if(s.getType()===he.FIXED){var n=2*(1/s.getScale())/1.415;n>t&&(t=n)}return t}if(2===arguments.length){var i=arguments[0],r=arguments[1];return f(fi.computeOverlaySnapTolerance(i),fi.computeOverlaySnapTolerance(r))}},fi.computeSizeBasedSnapTolerance=function(o){var t=o.getEnvelopeInternal();return f(t.getHeight(),t.getWidth())*fi.SNAP_PRECISION_FACTOR},fi.snapToSelf=function(o,t,e){return new fi(o).snapToSelf(t,e)},hi.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(fi,hi);var xi=function(o){function t(t,e,n){o.call(this),this._snapTolerance=t||null,this._snapPts=e||null,this._isSelfSnap=void 0!==n&&n}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(o,t){var e=new mi(o,this._snapTolerance);return e.setAllowSnappingToSourceVertices(this._isSelfSnap),e.snapTo(t)},t.prototype.transformCoordinates=function(e){var t=e.toCoordinateArray(),o=this.snapLine(t,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(o)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(yi),Ei=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Ei.prototype.getCommon=function(){return m.longBitsToDouble(this._commonBits)},Ei.prototype.add=function(o){var t=m.doubleToLongBits(o);return this._isFirst?(this._commonBits=t,this._commonSignExp=Ei.signExpBits(this._commonBits),this._isFirst=!1,null):Ei.signExpBits(t)===this._commonSignExp?void(this._commonMantissaBitsCount=Ei.numCommonMostSigMantissaBits(this._commonBits,t),this._commonBits=Ei.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))):(this._commonBits=0,null)},Ei.prototype.toString=function(){if(1===arguments.length){var o=arguments[0],t=m.longBitsToDouble(o),e="0000000000000000000000000000000000000000000000000000000000000000"+m.toBinaryString(o),n=e.substring(e.length-64);return n.substring(0,1)+"  "+n.substring(1,12)+"(exp) "+n.substring(12)+" [ "+t+" ]"}},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.getBit=function(o,t){return 0==(o&1<<t)?0:1},Ei.signExpBits=function(e){return e>>52},Ei.zeroLowerBits=function(o,t){return o&~((1<<t)-1)},Ei.numCommonMostSigMantissaBits=function(o,t){for(var e=0,r=52;0<=r;r--){if(Ei.getBit(o,r)!==Ei.getBit(t,r))return e;e++}return 52};var Ci=function(){this._commonCoord=null,this._ccFilter=new bi},Ii={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Ci.prototype.addCommonBits=function(o){var t=new Li(this._commonCoord);o.apply(t),o.geometryChanged()},Ci.prototype.removeCommonBits=function(o){if(0===this._commonCoord.x&&0===this._commonCoord.y)return o;var t=new N(this._commonCoord);t.x=-t.x,t.y=-t.y;var e=new Li(t);return o.apply(e),o.geometryChanged(),o},Ci.prototype.getCommonCoordinate=function(){return this._commonCoord},Ci.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci},Ii.CommonCoordinateFilter.get=function(){return bi},Ii.Translater.get=function(){return Li},Object.defineProperties(Ci,Ii);var bi=function(){this._commonBitsX=new Ei,this._commonBitsY=new Ei};bi.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},bi.prototype.getCommonCoordinate=function(){return new N(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},bi.prototype.interfaces_=function(){return[ht]},bi.prototype.getClass=function(){return bi};var Li=function(){this.trans=null;var e=arguments[0];this.trans=e};Li.prototype.filter=function(o,t){var e=o.getOrdinate(t,0)+this.trans.x,n=o.getOrdinate(t,1)+this.trans.y;o.setOrdinate(t,0,e),o.setOrdinate(t,1,n)},Li.prototype.isDone=function(){return!1},Li.prototype.isGeometryChanged=function(){return!0},Li.prototype.interfaces_=function(){return[Vt]},Li.prototype.getClass=function(){return Li};var Si=function(o,t){this._geom=[,,].fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=o,this._geom[1]=t,this.computeSnapTolerance()};Si.prototype.selfSnap=function(e){return new fi(e).snapTo(e,this._snapTolerance)},Si.prototype.removeCommonBits=function(o){this._cbr=new Ci,this._cbr.add(o[0]),this._cbr.add(o[1]);var t=[,,].fill(null);return t[0]=this._cbr.removeCommonBits(o[0].copy()),t[1]=this._cbr.removeCommonBits(o[1].copy()),t},Si.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},Si.prototype.getResultGeometry=function(o){var t=this.snap(this._geom),e=Xi.overlayOp(t[0],t[1],o);return this.prepareResult(e)},Si.prototype.checkValid=function(e){e.isValid()||X.out.println("Snapped geometry is invalid")},Si.prototype.computeSnapTolerance=function(){this._snapTolerance=fi.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Si.prototype.snap=function(o){var t=this.removeCommonBits(o);return fi.snap(t[0],t[1],this._snapTolerance)},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si.overlayOp=function(o,t,e){return new Si(o,t).getResultGeometry(e)},Si.union=function(o,t){return Si.overlayOp(o,t,Xi.UNION)},Si.intersection=function(o,t){return Si.overlayOp(o,t,Xi.INTERSECTION)},Si.symDifference=function(o,t){return Si.overlayOp(o,t,Xi.SYMDIFFERENCE)},Si.difference=function(o,t){return Si.overlayOp(o,t,Xi.DIFFERENCE)};var Ni=function(o,t){this._geom=[,,].fill(null),this._geom[0]=o,this._geom[1]=t};Ni.prototype.getResultGeometry=function(o){var t=null,r=!1,a=null;try{t=Xi.overlayOp(this._geom[0],this._geom[1],o),r=!0}catch(e){if(!(e instanceof Z))throw e;a=e}if(!r)try{t=Si.overlayOp(this._geom[0],this._geom[1],o)}catch(e){throw e instanceof Z?a:e}return t},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ni.overlayOp=function(o,t,e){return new Ni(o,t).getResultGeometry(e)},Ni.union=function(o,t){return Ni.overlayOp(o,t,Xi.UNION)},Ni.intersection=function(o,t){return Ni.overlayOp(o,t,Xi.INTERSECTION)},Ni.symDifference=function(o,t){return Ni.overlayOp(o,t,Xi.SYMDIFFERENCE)},Ni.difference=function(o,t){return Ni.overlayOp(o,t,Xi.DIFFERENCE)};var vi=function(){this.mce=null,this.chainIndex=null;var o=arguments[0],t=arguments[1];this.mce=o,this.chainIndex=t};vi.prototype.computeIntersections=function(o,t){this.mce.computeIntersectsForChain(this.chainIndex,o.mce,o.chainIndex,t)},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi};var Ti=function a(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._eventType=a.DELETE,this._xValue=t,this._insertEvent=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._eventType=a.INSERT,this._label=n,this._xValue=i,this._obj=r}},Pi={INSERT:{configurable:!0},DELETE:{configurable:!0}};Ti.prototype.isDelete=function(){return this._eventType===Ti.DELETE},Ti.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},Ti.prototype.getObject=function(){return this._obj},Ti.prototype.compareTo=function(o){var t=o;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},Ti.prototype.getInsertEvent=function(){return this._insertEvent},Ti.prototype.isInsert=function(){return this._eventType===Ti.INSERT},Ti.prototype.isSameLabel=function(e){return null!==this._label&&this._label===e._label},Ti.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Ti.prototype.interfaces_=function(){return[I]},Ti.prototype.getClass=function(){return Ti},Pi.INSERT.get=function(){return 1},Pi.DELETE.get=function(){return 2},Object.defineProperties(Ti,Pi);var Ri=function(){};Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri};var Oi=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var o=arguments[0],t=arguments[1],e=arguments[2];this._li=o,this._includeProper=t,this._recordIsolated=e};Oi.prototype.isTrivialIntersection=function(o,t,e,n){if(o===e&&1===this._li.getIntersectionNum()){if(Oi.isAdjacentSegments(t,n))return!0;if(o.isClosed()){var i=o.getNumPoints()-1;if(0===t&&n===i||0===n&&t===i)return!0}}return!1},Oi.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Oi.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},Oi.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Oi.prototype.isBoundaryPointInternal=function(o,t){for(var e=t.iterator(),n;e.hasNext();)if(n=e.next().getCoordinate(),o.isIntersection(n))return!0;return!1},Oi.prototype.hasProperIntersection=function(){return this._hasProper},Oi.prototype.hasIntersection=function(){return this._hasIntersection},Oi.prototype.isDone=function(){return this._isDone},Oi.prototype.isBoundaryPoint=function(o,t){return null!==t&&(!!this.isBoundaryPointInternal(o,t[0])||!!this.isBoundaryPointInternal(o,t[1]))},Oi.prototype.setBoundaryNodes=function(o,t){this._bdyNodes=[,,].fill(null),this._bdyNodes[0]=o,this._bdyNodes[1]=t},Oi.prototype.addIntersections=function(p,t,e,n){if(p===e&&t===n)return null;this.numTests++;var i=p.getCoordinates()[t],r=p.getCoordinates()[t+1],o=e.getCoordinates()[n],s=e.getCoordinates()[n+1];this._li.computeIntersection(i,r,o,s),this._li.hasIntersection()&&(this._recordIsolated&&(p.setIsolated(!1),e.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(p,t,e,n)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(p.addIntersections(this._li,t,0),e.addIntersections(this._li,n,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.isAdjacentSegments=function(o,t){return 1===oo(o-t)};var Di=function(o){function t(){o.call(this),this.events=new xt,this.nOverlaps=null}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){Ze.sort(this.events);for(var o=0,n;o<this.events.size();o++)n=this.events.get(o),n.isDelete()&&n.getInsertEvent().setDeleteEventIndex(o)},t.prototype.computeIntersections=function(){if(1===arguments.length){var p=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var t=0,d;t<this.events.size()&&(d=this.events.get(t),d.isInsert()&&this.processOverlaps(t,d.getDeleteEventIndex(),d,p),!p.isDone());t++);}else if(3===arguments.length)if(arguments[2]instanceof Oi&&O(arguments[0],Et)&&O(arguments[1],Et)){var l=arguments[0],i=arguments[1],r=arguments[2];this.addEdges(l,l),this.addEdges(i,i),this.computeIntersections(r)}else if("boolean"==typeof arguments[2]&&O(arguments[0],Et)&&arguments[1]instanceof Oi){var o=arguments[0],s=arguments[1];arguments[2]?this.addEdges(o,null):this.addEdges(o),this.computeIntersections(s)}},t.prototype.addEdge=function(a,t){for(var e=a.getMonotoneChainEdge(),n=e.getStartIndexes(),i=0;i<n.length-1;i++){var p=new vi(e,i),o=new Ti(t,e.getMinX(i),p);this.events.add(o),this.events.add(new Ti(e.getMaxX(i),o))}},t.prototype.processOverlaps=function(p,t,e,n){for(var i=e.getObject(),r=p,d;r<t;r++)if(d=this.events.get(r),d.isInsert()){var l=d.getObject();e.isSameLabel(d)||(i.computeIntersections(l,n),this.nOverlaps++)}},t.prototype.addEdges=function(){if(1===arguments.length)for(var a=arguments[0].iterator(),t;a.hasNext();)t=a.next(),this.addEdge(t,t);else if(2===arguments.length)for(var s=arguments[0],n=arguments[1],i=s.iterator(),r;i.hasNext();)r=i.next(),this.addEdge(r,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ri),Ai=function(){this._min=m.POSITIVE_INFINITY,this._max=m.NEGATIVE_INFINITY},Mi={NodeComparator:{configurable:!0}};Ai.prototype.getMin=function(){return this._min},Ai.prototype.intersects=function(o,t){return!(this._min>t||this._max<o)},Ai.prototype.getMax=function(){return this._max},Ai.prototype.toString=function(){return Q.toLineString(new N(this._min,0),new N(this._max,0))},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Mi.NodeComparator.get=function(){return wi},Object.defineProperties(Ai,Mi);var wi=function(){};wi.prototype.compare=function(a,t){var e=a,n=t,i=(e._min+e._max)/2,r=(n._min+n._max)/2;return i<r?-1:i>r?1:0},wi.prototype.interfaces_=function(){return[x]},wi.prototype.getClass=function(){return wi};var Fi=function(o){function t(){o.call(this),this._item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._min=t,this._max=e,this._item=n}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.query=function(o,t,e){return this.intersects(o,t)?void e.visitItem(this._item):null},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ai),zi=function(o){function t(){o.call(this),this._node1=null,this._node2=null;var t=arguments[0],e=arguments[1];this._node1=t,this._node2=e,this.buildExtent(this._node1,this._node2)}return o&&(t.__proto__=o),t.prototype=Object.create(o&&o.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(o,t){this._min=f(o._min,t._min),this._max=po(o._max,t._max)},t.prototype.query=function(o,t,e){return this.intersects(o,t)?void(null!==this._node1&&this._node1.query(o,t,e),null!==this._node2&&this._node2.query(o,t,e)):null},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ai),ki=function(){this._leaves=new xt,this._root=null,this._level=0};ki.prototype.buildTree=function(){Ze.sort(this._leaves,new Ai.NodeComparator);for(var o=this._leaves,i=null,r=new xt;;){if(this.buildLevel(o,r),1===r.size())return r.get(0);i=o,o=r,r=i}},ki.prototype.insert=function(o,t,e){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Fi(o,t,e))},ki.prototype.query=function(o,t,e){this.init(),this._root.query(o,t,e)},ki.prototype.buildRoot=function(){return null===this._root?void(this._root=this.buildTree()):null},ki.prototype.printNode=function(e){X.out.println(Q.toLineString(new N(e._min,this._level),new N(e._max,this._level)))},ki.prototype.init=function(){return null===this._root?void this.buildRoot():null},ki.prototype.buildLevel=function(o,t){this._level++,t.clear();for(var e=0,a;e<o.size();e+=2)if(a=o.get(e),null===(e+1<o.size()?o.get(e):null))t.add(a);else{var s=new zi(o.get(e),o.get(e+1));t.add(s)}},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki};var Bi=function(){this._items=new xt};Bi.prototype.visitItem=function(e){this._items.add(e)},Bi.prototype.getItems=function(){return this._items},Bi.prototype.interfaces_=function(){return[We]},Bi.prototype.getClass=function(){return Bi};var Gi=function(){this._index=null;var e=arguments[0];if(!O(e,Qt))throw new xo("Argument must be Polygonal");this._index=new Ui(e)},qi={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Gi.prototype.locate=function(o){var t=new ot(o),e=new ji(t);return this._index.query(o.y,o.y,e),t.getLocation()},Gi.prototype.interfaces_=function(){return[sn]},Gi.prototype.getClass=function(){return Gi},qi.SegmentVisitor.get=function(){return ji},qi.IntervalIndexedGeometry.get=function(){return Ui},Object.defineProperties(Gi,qi);var ji=function(){this._counter=null;var e=arguments[0];this._counter=e};ji.prototype.visitItem=function(o){var t=o;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},ji.prototype.interfaces_=function(){return[We]},ji.prototype.getClass=function(){return ji};var Ui=function(){this._index=new ki;var e=arguments[0];this.init(e)};Ui.prototype.init=function(o){for(var t=Zn.getLines(o).iterator(),e;t.hasNext();)e=t.next().getCoordinates(),this.addLine(e)},Ui.prototype.addLine=function(o){for(var t=1;t<o.length;t++){var a=new wo(o[t-1],o[t]),n=f(a.p0.y,a.p1.y),i=po(a.p0.y,a.p1.y);this._index.insert(n,i,a)}},Ui.prototype.query=function(){if(2===arguments.length){var a=arguments[0],t=arguments[1],e=new Bi;return this._index.query(a,t,e),e.getItems()}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._index.query(n,i,r)}},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui};var Vi=function(a){function s(){if(a.call(this),this._parentGeom=null,this._lineEdgeMap=new pe,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Hn,2===arguments.length){var t=arguments[0],e=arguments[1],n=ft.OGC_SFS_BOUNDARY_RULE;this._argIndex=t,this._parentGeom=e,this._boundaryNodeRule=n,null!==e&&this.add(e)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._argIndex=i,this._parentGeom=r,this._boundaryNodeRule=o,null!==r&&this.add(r)}}return a&&(s.__proto__=a),s.prototype=Object.create(a&&a.prototype),s.prototype.constructor=s,s.prototype.insertBoundaryPoint=function(e,t){var n=this._nodes.addNode(t).getLabel(),i=1;b.NONE,n.getLocation(e,Ce.ON)===b.BOUNDARY&&i++;var a=s.determineBoundary(this._boundaryNodeRule,i);n.setLocation(e,a)},s.prototype.computeSelfNodes=function(){if(2===arguments.length){var p=arguments[0],t=arguments[1];return this.computeSelfNodes(p,t,!1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=new Oi(e,!0,!1);r.setIsDoneIfProperInt(i);var o=this.createEdgeSetIntersector(),s=this._parentGeom instanceof te||this._parentGeom instanceof Zt||this._parentGeom instanceof ee;return o.computeIntersections(this._edges,r,n||!s),this.addSelfIntersectionNodes(this._argIndex),r}},s.prototype.computeSplitEdges=function(o){for(var t=this._edges.iterator();t.hasNext();)t.next().eiList.addSplitEdges(o)},s.prototype.computeEdgeIntersections=function(o,t,e){var n=new Oi(t,e,!0);return n.setBoundaryNodes(this.getBoundaryNodes(),o.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,o._edges,n),n},s.prototype.getGeometry=function(){return this._parentGeom},s.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},s.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},s.prototype.addPoint=function(){if(arguments[0]instanceof Jt){var o=arguments[0].getCoordinate();this.insertPoint(this._argIndex,o,b.INTERIOR)}else if(arguments[0]instanceof N){var t=arguments[0];this.insertPoint(this._argIndex,t,b.INTERIOR)}},s.prototype.addPolygon=function(o){this.addPolygonRing(o.getExteriorRing(),b.EXTERIOR,b.INTERIOR);for(var t=0,i;t<o.getNumInteriorRing();t++)i=o.getInteriorRingN(t),this.addPolygonRing(i,b.INTERIOR,b.EXTERIOR)},s.prototype.addEdge=function(o){this.insertEdge(o);var t=o.getCoordinates();this.insertPoint(this._argIndex,t[0],b.BOUNDARY),this.insertPoint(this._argIndex,t[t.length-1],b.BOUNDARY)},s.prototype.addLineString=function(o){var t=St.removeRepeatedPoints(o.getCoordinates());if(2>t.length)return this._hasTooFewPoints=!0,this._invalidPoint=t[0],null;var e=new bn(t,new Re(this._argIndex,b.INTERIOR));this._lineEdgeMap.put(o,e),this.insertEdge(e),tt.isTrue(2<=t.length,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,t[0]),this.insertBoundaryPoint(this._argIndex,t[t.length-1])},s.prototype.getInvalidPoint=function(){return this._invalidPoint},s.prototype.getBoundaryPoints=function(){for(var o=this.getBoundaryNodes(),t=Array(o.size()).fill(null),e=0,a=o.iterator(),i;a.hasNext();)i=a.next(),t[e++]=i.getCoordinate().copy();return t},s.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},s.prototype.addSelfIntersectionNode=function(o,t,e){return this.isBoundaryNode(o,t)?null:void(e===b.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(o,t):this.insertPoint(o,t,e))},s.prototype.addPolygonRing=function(a,t,e){if(a.isEmpty())return null;var n=St.removeRepeatedPoints(a.getCoordinates());if(4>n.length)return this._hasTooFewPoints=!0,this._invalidPoint=n[0],null;var i=t,p=e;st.isCCW(n)&&(i=e,p=t);var d=new bn(n,new Re(this._argIndex,b.BOUNDARY,i,p));this._lineEdgeMap.put(a,d),this.insertEdge(d),this.insertPoint(this._argIndex,n[0],b.BOUNDARY)},s.prototype.insertPoint=function(o,t,e){var n=this._nodes.addNode(t),i=n.getLabel();null===i?n._label=new Re(o,e):i.setLocation(o,e)},s.prototype.createEdgeSetIntersector=function(){return new Di},s.prototype.addSelfIntersectionNodes=function(a){for(var t=this._edges.iterator();t.hasNext();)for(var e=t.next(),n=e.getLabel().getLocation(a),i=e.eiList.iterator(),r;i.hasNext();)r=i.next(),this.addSelfIntersectionNode(a,r.coord,n)},s.prototype.add=function(){if(1!==arguments.length)return a.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof ee&&(this._useBoundaryDeterminationRule=!1),t instanceof Zt)this.addPolygon(t);else if(t instanceof Wt)this.addLineString(t);else if(t instanceof Jt)this.addPoint(t);else if(t instanceof $t)this.addCollection(t);else if(t instanceof zt)this.addCollection(t);else if(t instanceof ee)this.addCollection(t);else{if(!(t instanceof Ut))throw new Error(t.getClass().getName());this.addCollection(t)}},s.prototype.addCollection=function(o){for(var t=0,i;t<o.getNumGeometries();t++)i=o.getGeometryN(t),this.add(i)},s.prototype.locate=function(e){return O(this._parentGeom,Qt)&&50<this._parentGeom.getNumGeometries()?(null===this._areaPtLocator&&(this._areaPtLocator=new Gi(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)},s.prototype.findEdge=function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return a.prototype.findEdge.apply(this,arguments)},s.prototype.interfaces_=function(){return[]},s.prototype.getClass=function(){return s},s.determineBoundary=function(o,t){return o.isInBoundary(t)?b.BOUNDARY:b.INTERIOR},s}(Xe),Zi=function(){if(this._li=new it,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var a=arguments[0];this.setComputationPrecision(a.getPrecisionModel()),this._arg=[,].fill(null),this._arg[0]=new Vi(0,a)}else if(2===arguments.length){var t=arguments[0],e=arguments[1],n=ft.OGC_SFS_BOUNDARY_RULE;0<=t.getPrecisionModel().compareTo(e.getPrecisionModel())?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(e.getPrecisionModel()),this._arg=[,,].fill(null),this._arg[0]=new Vi(0,t,n),this._arg[1]=new Vi(1,e,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];0<=i.getPrecisionModel().compareTo(r.getPrecisionModel())?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this._arg=[,,].fill(null),this._arg[0]=new Vi(0,i,o),this._arg[1]=new Vi(1,r,o)}};Zi.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},Zi.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},Zi.prototype.interfaces_=function(){return[]},Zi.prototype.getClass=function(){return Zi};var Hi=function(){};Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi},Hi.map=function(){if(arguments[0]instanceof lt&&O(arguments[1],Hi.MapOp)){for(var p=arguments[0],t=arguments[1],e=new xt,n=0,d;n<p.getNumGeometries();n++)d=t.map(p.getGeometryN(n)),null!==d&&e.add(d);return p.getFactory().buildGeometry(e)}if(O(arguments[0],vt)&&O(arguments[1],Hi.MapOp)){for(var g=arguments[0],o=arguments[1],s=new xt,a=g.iterator();a.hasNext();){var _=a.next(),l=o.map(_);null!==l&&s.add(l)}return s}},Hi.MapOp=function(){};var Xi=function(o){function a(){var t=arguments[0],e=arguments[1];o.call(this,t,e),this._ptLocator=new Hn,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new un,this._resultPolyList=new xt,this._resultLineList=new xt,this._resultPointList=new xt,this._graph=new Xe(new cn()),this._geomFact=t.getFactory()}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.insertUniqueEdge=function(o){var t=this._edgeList.findEqualEdge(o);if(null!==t){var e=t.getLabel(),n=o.getLabel();t.isPointwiseEqual(o)||(n=new Re(o.getLabel())).flip();var a=t.getDepth();a.isNull()&&a.add(e),a.add(n),e.merge(n)}else this._edgeList.add(o)},a.prototype.getGraph=function(){return this._graph},a.prototype.cancelDuplicateResultEdges=function(){for(var o=this._graph.getEdgeEnds().iterator();o.hasNext();){var t=o.next(),e=t.getSym();t.isInResult()&&e.isInResult()&&(t.setInResult(!1),e.setInResult(!1))}},a.prototype.isCoveredByLA=function(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)},a.prototype.computeGeometry=function(e,t,n,i){var r=new xt;return r.addAll(e),r.addAll(t),r.addAll(n),r.isEmpty()?a.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(r)},a.prototype.mergeSymLabels=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().mergeSymLabels()},a.prototype.isCovered=function(o,t){for(var e=t.iterator(),n;e.hasNext();)if(n=e.next(),this._ptLocator.locate(o,n)!==b.EXTERIOR)return!0;return!1},a.prototype.replaceCollapsedEdges=function(){for(var o=new xt,t=this._edgeList.iterator(),e;t.hasNext();)e=t.next(),e.isCollapsed()&&(t.remove(),o.add(e.getCollapsedEdge()));this._edgeList.addAll(o)},a.prototype.updateNodeLabelling=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var t=o.next(),e=t.getEdges().getLabel();t.getLabel().merge(e)}},a.prototype.getResultGeometry=function(e){return this.computeOverlay(e),this._resultGeom},a.prototype.insertUniqueEdges=function(o){for(var t=o.iterator(),e;t.hasNext();)e=t.next(),this.insertUniqueEdge(e)},a.prototype.computeOverlay=function(o){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var t=new xt;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t),this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),gi.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(o),this.cancelDuplicateResultEdges();var e=new Ye(this._geomFact);e.add(this._graph),this._resultPolyList=e.getPolygons();var n=new _i(this,this._geomFact,this._ptLocator);this._resultLineList=n.build(o);var i=new ui(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(o),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,o)},a.prototype.labelIncompleteNode=function(o,t){var e=this._ptLocator.locate(o.getCoordinate(),this._arg[t].getGeometry());o.getLabel().setLocation(t,e)},a.prototype.copyPoints=function(o){for(var t=this._arg[o].getNodeIterator(),e;t.hasNext();)e=t.next(),this._graph.addNode(e.getCoordinate()).setLabel(o,e.getLabel().getLocation(o))},a.prototype.findResultAreaEdges=function(e){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var o=t.next(),n=o.getLabel();n.isArea()&&!o.isInteriorAreaEdge()&&a.isResultOfOp(n.getLocation(0,Ce.RIGHT),n.getLocation(1,Ce.RIGHT),e)&&o.setInResult(!0)}},a.prototype.computeLabelsFromDepths=function(){for(var o=this._edgeList.iterator();o.hasNext();){var t=o.next(),e=t.getLabel(),n=t.getDepth();if(!n.isNull()){n.normalize();for(var i=0;2>i;i++)e.isNull(i)||!e.isArea()||n.isNull(i)||(0===n.getDelta(i)?e.toLine(i):(tt.isTrue(!n.isNull(i,Ce.LEFT),"depth of LEFT side has not been initialized"),e.setLocation(i,Ce.LEFT,n.getLocation(i,Ce.LEFT)),tt.isTrue(!n.isNull(i,Ce.RIGHT),"depth of RIGHT side has not been initialized"),e.setLocation(i,Ce.RIGHT,n.getLocation(i,Ce.RIGHT))))}}},a.prototype.computeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},a.prototype.labelIncompleteNodes=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var t=o.next(),e=t.getLabel();t.isIsolated()&&(e.isNull(0)?this.labelIncompleteNode(t,0):this.labelIncompleteNode(t,1)),t.getEdges().updateLabelling(e)}},a.prototype.isCoveredByA=function(e){return!!this.isCovered(e,this._resultPolyList)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Zi);Xi.overlayOp=function(o,t,e){return new Xi(o,t).getResultGeometry(e)},Xi.intersection=function(o,n){if(o.isEmpty()||n.isEmpty())return Xi.createEmptyResult(Xi.INTERSECTION,o,n,o.getFactory());if(o.isGeometryCollection()){return ci.map(o,{interfaces_:function(){return[Hi.MapOp]},map:function(e){return e.intersection(n)}})}return o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(n),Ni.overlayOp(o,n,Xi.INTERSECTION)},Xi.symDifference=function(o,t){if(o.isEmpty()||t.isEmpty()){if(o.isEmpty()&&t.isEmpty())return Xi.createEmptyResult(Xi.SYMDIFFERENCE,o,t,o.getFactory());if(o.isEmpty())return t.copy();if(t.isEmpty())return o.copy()}return o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(t),Ni.overlayOp(o,t,Xi.SYMDIFFERENCE)},Xi.resultDimension=function(a,t,e){var n=t.getDimension(),i=e.getDimension(),r=-1;return a===Xi.INTERSECTION?r=f(n,i):a===Xi.UNION?r=po(n,i):a===Xi.DIFFERENCE?r=n:a===Xi.SYMDIFFERENCE?r=po(n,i):void 0,r},Xi.createEmptyResult=function(o,t,e,n){var i=null;switch(Xi.resultDimension(o,t,e)){case-1:i=n.createGeometryCollection([].fill(null));break;case 0:i=n.createPoint();break;case 1:i=n.createLineString();break;case 2:i=n.createPolygon();}return i},Xi.difference=function(o,t){return o.isEmpty()?Xi.createEmptyResult(Xi.DIFFERENCE,o,t,o.getFactory()):t.isEmpty()?o.copy():(o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(t),Ni.overlayOp(o,t,Xi.DIFFERENCE))},Xi.isResultOfOp=function(){if(2===arguments.length){var a=arguments[0],t=arguments[1],e=a.getLocation(0),n=a.getLocation(1);return Xi.isResultOfOp(e,n,t)}if(3===arguments.length){var i=arguments[0],p=arguments[1],d=arguments[2];switch(i===b.BOUNDARY&&(i=b.INTERIOR),p===b.BOUNDARY&&(p=b.INTERIOR),d){case Xi.INTERSECTION:return i===b.INTERIOR&&p===b.INTERIOR;case Xi.UNION:return i===b.INTERIOR||p===b.INTERIOR;case Xi.DIFFERENCE:return i===b.INTERIOR&&p!==b.INTERIOR;case Xi.SYMDIFFERENCE:return i===b.INTERIOR&&p!==b.INTERIOR||i!==b.INTERIOR&&p===b.INTERIOR;}return!1}},Xi.INTERSECTION=1,Xi.UNION=2,Xi.DIFFERENCE=3,Xi.SYMDIFFERENCE=4;var Yi=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Hn,this._seg=new wo;var o=arguments[0],t=arguments[1];this._g=o,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(o)};Yi.prototype.isWithinToleranceOfBoundary=function(o){for(var t=0;t<this._linework.getNumGeometries();t++)for(var r=this._linework.getGeometryN(t).getCoordinateSequence(),n=0;n<r.size()-1;n++)if(r.getCoordinate(n,this._seg.p0),r.getCoordinate(n+1,this._seg.p1),this._seg.distance(o)<=this._boundaryDistanceTolerance)return!0;return!1},Yi.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?b.BOUNDARY:this._ptLocator.locate(e,this._g)},Yi.prototype.extractLinework=function(o){var t=new Wi;o.apply(t);var e=t.getLinework(),n=ye.toLineStringArray(e);return o.getFactory().createMultiLineString(n)},Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi};var Wi=function(){this._linework=null,this._linework=new xt};Wi.prototype.getLinework=function(){return this._linework},Wi.prototype.filter=function(o){if(o instanceof Zt){var t=o;this._linework.add(t.getExteriorRing());for(var e=0;e<t.getNumInteriorRing();e++)this._linework.add(t.getInteriorRingN(e))}},Wi.prototype.interfaces_=function(){return[Bt]},Wi.prototype.getClass=function(){return Wi};var Ki=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Ki.prototype.extractPoints=function(o,t,e){for(var n=o.getCoordinates(),i=0;i<n.length-1;i++)this.computeOffsetPoints(n[i],n[i+1],t,e)},Ki.prototype.setSidesToGenerate=function(o,t){this._doLeft=o,this._doRight=t},Ki.prototype.getPoints=function(o){for(var t=new xt,e=Zn.getLines(this._g).iterator(),n;e.hasNext();)n=e.next(),this.extractPoints(n,o,t);return t},Ki.prototype.computeOffsetPoints=function(d,t,e,n){var i=t.x-d.x,r=t.y-d.y,o=to(i*i+r*r),s=e*i/o,a=e*r/o,g=(t.x+d.x)/2,l=(t.y+d.y)/2;if(this._doLeft){var c=new N(g-a,l+s);n.add(c)}if(this._doRight){var p=new N(g+a,l-s);n.add(p)}},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki};var Ji=function o(){this._geom=null,this._locFinder=null,this._location=[,,,].fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=o.TOLERANCE,this._testCoords=new xt;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundaryDistanceTolerance=o.computeBoundaryDistanceTolerance(t,e),this._geom=[t,e,n],this._locFinder=[new Yi(this._geom[0],this._boundaryDistanceTolerance),new Yi(this._geom[1],this._boundaryDistanceTolerance),new Yi(this._geom[2],this._boundaryDistanceTolerance)]},Qi={TOLERANCE:{configurable:!0}};Ji.prototype.reportResult=function(o,t,e){X.out.println("Overlay result invalid - A:"+b.toLocationSymbol(t[0])+" B:"+b.toLocationSymbol(t[1])+" expected:"+(e?"i":"e")+" actual:"+b.toLocationSymbol(t[2]))},Ji.prototype.isValid=function(o){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var t=this.checkValid(o);return t},Ji.prototype.checkValid=function(){if(1===arguments.length){for(var o=arguments[0],t=0,a;t<this._testCoords.size();t++)if(a=this._testCoords.get(t),!this.checkValid(o,a))return this._invalidLocation=a,!1;return!0}if(2===arguments.length){var s=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Ji.hasLocation(this._location,b.BOUNDARY)||this.isValidResult(s,this._location)}},Ji.prototype.addTestPts=function(o){var t=new Ki(o);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))},Ji.prototype.isValidResult=function(o,t){var e=Xi.isResultOfOp(t[0],t[1],o),n=!(e^t[2]===b.INTERIOR);return n||this.reportResult(o,t,e),n},Ji.prototype.getInvalidLocation=function(){return this._invalidLocation},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},Ji.hasLocation=function(o,t){for(var e=0;3>e;e++)if(o[e]===t)return!0;return!1},Ji.computeBoundaryDistanceTolerance=function(o,t){return f(fi.computeSizeBasedSnapTolerance(o),fi.computeSizeBasedSnapTolerance(t))},Ji.isValid=function(o,t,e,n){return new Ji(o,t,n).isValid(e)},Qi.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Ji,Qi);var $i=function o(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=o.extractFactory(t),this._inputGeoms=t};$i.prototype.extractElements=function(o,t){if(null===o)return null;for(var e=0,r;e<o.getNumGeometries();e++)r=o.getGeometryN(e),this._skipEmpty&&r.isEmpty()||t.add(r)},$i.prototype.combine=function(){for(var o=new xt,t=this._inputGeoms.iterator(),e;t.hasNext();)e=t.next(),this.extractElements(e,o);return 0===o.size()?null===this._geomFactory?null:this._geomFactory.createGeometryCollection(null):this._geomFactory.buildGeometry(o)},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i},$i.combine=function(){if(1===arguments.length){var a=arguments[0];return new $i(a).combine()}if(2===arguments.length){var t=arguments[0],e=arguments[1];return new $i($i.createList(t,e)).combine()}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];return new $i($i.createList(n,i,r)).combine()}},$i.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},$i.createList=function(){if(2===arguments.length){var a=arguments[0],t=arguments[1],e=new xt;return e.add(a),e.add(t),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new xt;return o.add(n),o.add(i),o.add(r),o}};var er=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,null===this._inputPolys&&(this._inputPolys=new xt)},tr={STRTREE_NODE_CAPACITY:{configurable:!0}};er.prototype.reduceToGeometries=function(o){for(var t=new xt,e=o.iterator();e.hasNext();){var n=e.next(),i=null;O(n,Et)?i=this.unionTree(n):n instanceof lt&&(i=n),t.add(i)}return t},er.prototype.extractByEnvelope=function(a,t,e){for(var n=new xt,i=0,s;i<t.getNumGeometries();i++)s=t.getGeometryN(i),s.getEnvelopeInternal().intersects(a)?n.add(s):e.add(s);return this._geomFactory.buildGeometry(n)},er.prototype.unionOptimized=function(o,t){var e=o.getEnvelopeInternal(),n=t.getEnvelopeInternal();if(!e.intersects(n))return $i.combine(o,t);if(1>=o.getNumGeometries()&&1>=t.getNumGeometries())return this.unionActual(o,t);var i=e.intersection(n);return this.unionUsingEnvelopeIntersection(o,t,i)},er.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var o=new No(er.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator(),e;t.hasNext();)e=t.next(),o.insert(e.getEnvelopeInternal(),e);this._inputPolys=null;var r=o.itemsTree();return this.unionTree(r)},er.prototype.binaryUnion=function(){if(1===arguments.length){var p=arguments[0];return this.binaryUnion(p,0,p.size())}if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];if(1>=n-e){var i=er.getGeometry(t,e);return this.unionSafe(i,null)}if(2==n-e)return this.unionSafe(er.getGeometry(t,e),er.getGeometry(t,e+1));var r=eo((n+e)/2),o=this.binaryUnion(t,e,r),s=this.binaryUnion(t,r,n);return this.unionSafe(o,s)}},er.prototype.repeatedUnion=function(o){for(var t=null,r=o.iterator(),n;r.hasNext();)n=r.next(),t=null===t?n.copy():t.union(n);return t},er.prototype.unionSafe=function(o,t){return null===o&&null===t?null:null===o?t.copy():null===t?o.copy():this.unionOptimized(o,t)},er.prototype.unionActual=function(o,t){return er.restrictToPolygons(o.union(t))},er.prototype.unionTree=function(o){var t=this.reduceToGeometries(o);return this.binaryUnion(t)},er.prototype.unionUsingEnvelopeIntersection=function(a,t,e){var n=new xt,i=this.extractByEnvelope(e,a,n),r=this.extractByEnvelope(e,t,n),o=this.unionActual(i,r);return n.add(o),$i.combine(n)},er.prototype.bufferUnion=function(){if(1===arguments.length){var o=arguments[0];return o.get(0).getFactory().buildGeometry(o).buffer(0)}if(2===arguments.length){var t=arguments[0],e=arguments[1];return t.getFactory().createGeometryCollection([t,e]).buffer(0)}},er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er},er.restrictToPolygons=function(o){if(O(o,Qt))return o;var t=Vn.getPolygons(o);return 1===t.size()?t.get(0):o.getFactory().createMultiPolygon(ye.toPolygonArray(t))},er.getGeometry=function(o,t){return t>=o.size()?null:o.get(t)},er.union=function(e){return new er(e).union()},tr.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(er,tr);var or=function(){};or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.union=function(o,t){if(o.isEmpty()||t.isEmpty()){if(o.isEmpty()&&t.isEmpty())return Xi.createEmptyResult(Xi.UNION,o,t,o.getFactory());if(o.isEmpty())return t.copy();if(t.isEmpty())return o.copy()}return o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(t),Ni.overlayOp(o,t,Xi.UNION)},lo.GeoJSONReader=xe,lo.GeoJSONWriter=Ne,lo.OverlayOp=Xi,lo.UnionOp=or,lo.BufferOp=Fn,Object.defineProperty(lo,"__esModule",{value:!0})})},{}]},{},[1])(1)}),$(function(){function e(){let e=L.latLngBounds(viewBox).pad(-.1),t=L.latLngBounds(boundingBox).pad(.2);n=L.map("map",{maxBounds:t,center:e.getCenter(),preferCanvas:!0,zoomControl:!0,minZoom:6,maxZoom:14}),i=L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/light_all/{z}/{x}/{y}{r}.png",{attribution:"&copy; <a target=\"_blank\" href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a target=\"_blank\" href=\"https://carto.com/attributions\">CARTO</a>",subdomains:"abcd",maxZoom:19}).addTo(n),n.attributionControl.setPrefix("<a target=\"_blank\" href=\"https://github.com/br-data/corona-15km-karte\">Quellcode auf GitHub</a> | <a target=\"_blank\" href=\"https://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>"),n.zoomControl.setPosition("topright");let o=L.controlHTML({position:"topleft",node:"#header"}).addTo(n),r=L.controlHTML({position:"bottomleft",node:"#footer"}).addTo(n);n.fitBounds(e)}function t(){function i(e){r.getLayers().forEach(e=>{e.isSelected&&(e.isSelected=!1,p(e))}),e.isSelected=!0,s(e)}function s(e){e.radius||d(e);let t=e.isSelected?1:.4;e.setStyle({stroke:!0,fill:!0,opacity:t,fillOpacity:t}),e.radius.setStyle({stroke:!0,fill:!0,opacity:t,fillOpacity:t}),e.marker.setOpacity(t),e.isSelected&&(e.bringToFront(),e.radius.bringToFront())}function p(e){e.radius||d(e),e.setStyle({stroke:!1,fill:!1}),e.radius.setStyle({stroke:!1,fill:!1}),e.marker.setOpacity(0)}function d(e){let t=e.feature;switch(t=turf.clone(t),t.geometry.type){case"Polygon":t.geometry.coordinates=t.geometry.coordinates.splice(0,1);break;case"MultiPolygon":t.geometry.coordinates=t.geometry.coordinates.map(e=>e.splice(0,1));break;default:throw Error(t.geometry.type);}t=turf.rewind(t),t=turf.buffer(t,15,{units:"kilometers",steps:60}),e.bbox=turf.bbox(t),e.center=[(e.bbox[1]+e.bbox[3])/2,(e.bbox[0]+e.bbox[2])/2];let o=L.GeoJSON.geometryToLayer(t,{interactive:!1});o.setStyle({stroke:!1,fill:!1,color:"rgb(0,153,255)",weight:1,fillColor:"rgba(0,153,255,0.2)"}),o.feature=L.GeoJSON.asFeature(t),e.radius=o,r.addLayer(o);let n=L.divIcon({html:"<p style=\"color:rgb(0,153,255)\">"+e.feature.properties.GEN+"</p>",className:"mapLabel",iconSize:[200,0]}),i=L.marker([e.bbox[3],e.center[1]],{icon:n,interactive:!1}).addTo(a);e.marker=i}r=L.geoJSON(o.borders,{style:{stroke:!1,fill:!1,color:"rgb(0,153,255)",fillColor:"rgba(0,153,255,0.6)",fillOpacity:1,opacity:1,weight:1}}).addTo(n),a=L.layerGroup().addTo(n);L.Browser.mobile||(r.on("mouseover",o=>{let e=o.sourceTarget;e&&s(e)}),r.on("mouseout",o=>{let e=o.sourceTarget;e&&!e.isSelected&&p(e)})),r.on("click",o=>{let e=o.sourceTarget;e&&i(e)}),autocomplete($("#search"),r.getLayers().map(e=>[e.feature.properties.GEN,()=>{i(e),n.panTo(e.center)}]))}let o={borders:!1},n,i,r,a;extendLeaflet(),e(),function(e,n){$.getJSON(e,e=>{n(e),o.borders&&t()})}("region.topo.json",e=>o.borders=topojson.feature(e,e.objects.region))});function autocomplete(e,t){function o(){r>=s.length&&(r=0),0>r&&(r=s.length-1),s.forEach((e,t)=>{e.toggleClass("autocomplete-active",t===r)})}function n(){a&&a.empty()}let r,a,s;t.sort((e,t)=>e[0]<t[0]?-1:1),e.on("input",()=>{let o=e.val();if(!o)return!1;r=-1,a||(a=$("<div class=\"autocomplete-items\"></div>"),e.parent().append(a));let i=t.filter(e=>e[0].substr(0,o.length).toUpperCase()===o.toUpperCase());i=i.slice(0,10),n(),s=i.map(t=>{let i=t[0],r=$("<div><strong>"+i.substr(0,o.length)+"</strong>"+i.substr(o.length)+"<input type=\"hidden\" value=\""+i+"\"></div>");return r.on("click",()=>{e.val(i),t[1]&&t[1](),n()}),a.append(r),r})}),e.on("keydown",function(t){a&&(40===t.keyCode?(r++,o()):38===t.keyCode?(r--,o()):13===t.keyCode&&(t.preventDefault(),-1<r?s[r]&&s[r].click():(r=0,o())))}),$(document).on("click",n)}function extendLeaflet(){let e=L.Control.extend({options:{position:"topleft"},initialize:function(e){L.setOptions(this,e)},onAdd:function(){let e=$(this.options.node),t=$("<div class=\"leaflet-control\"></div>");return t.html(e.html()),t.attr("id",e.attr("id")),e.remove(),this._container=t.get(0),this._update(),L.DomEvent.disableClickPropagation(this._container),this._container},_update:function(){}});L.ControlHTML=e,L.controlHTML=function(t){return new e(t)}}